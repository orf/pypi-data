{
    "0.0.2": {
        "info": {
            "author": "bing0323",
            "author_email": "ltjlxb@163.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/lxb0323/lminapi",
            "keywords": "APIView,Validator,api",
            "license": "MIT Licence",
            "maintainer": "",
            "maintainer_email": "",
            "name": "lminapi",
            "package_url": "https://pypi.org/project/lminapi/",
            "platform": "any",
            "project_url": "https://pypi.org/project/lminapi/",
            "project_urls": {
                "Homepage": "https://github.com/lxb0323/lminapi"
            },
            "release_url": "https://pypi.org/project/lminapi/0.0.2/",
            "requires_dist": [
                "django",
                "djangorestframework"
            ],
            "requires_python": "",
            "summary": "\u57fa\u4e8edjango \u548cdjango rest framework\u6574\u5408\u7b80\u5316drf APIView\u89c6\u56fe\u7c7b\u5e38\u7528\u65b9\u6cd5, \u7b80\u5316\u4f20\u5165\u53c2\u6570\u5df2\u9a8c\u8bc1\u65b9\u6cd5",
            "version": "0.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 10292898,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e0f3ed9bdb411ccf97bd1744a59bb9bb",
                    "sha256": "4579421aa9c3c5c249ad3b506735328bcb8cd779d582143a93d622dad14faeb7"
                },
                "downloads": -1,
                "filename": "lminapi-0.0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e0f3ed9bdb411ccf97bd1744a59bb9bb",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 8607,
                "upload_time": "2021-05-08T06:26:17",
                "upload_time_iso_8601": "2021-05-08T06:26:17.003135Z",
                "url": "https://files.pythonhosted.org/packages/5b/b8/0ac0af91fa858025d786e2071bb6142cb5f8eb0853546b22c4ee01e9d912/lminapi-0.0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "255051cfd21e70fdcca07f0a6087c0b3",
                    "sha256": "908be6cbf396b324299a65cf50cb4d19d16e659969cd16868af677848dff6392"
                },
                "downloads": -1,
                "filename": "lminapi-0.0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "255051cfd21e70fdcca07f0a6087c0b3",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 6404,
                "upload_time": "2021-05-08T06:26:18",
                "upload_time_iso_8601": "2021-05-08T06:26:18.585024Z",
                "url": "https://files.pythonhosted.org/packages/d4/c9/6c2f51ff4fb52cd7e72f18c65f2a4c6b87bddf2b8f15c8a87a8d30a10aed/lminapi-0.0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.3": {
        "info": {
            "author": "bing0323",
            "author_email": "ltjlxb@163.com",
            "bugtrack_url": null,
            "classifiers": [
                "Programming Language :: Python",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.4",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "lminapi \u57fa\u4e8edjango\u548cdjango rest framework \u7ec4\u5408\u5e38\u7528APIView\u65b9\u6cd5\u8fdb\u884c\u91cd\u65b0\u5c01\u88c5\u4e3aLminApiView\n\u7ee7\u627fLminApiView\u89c6\u56fe\u7c7b\u540e,\u7ed3\u5408django orm \u66f4\u52a0\u65b9\u4fbf\u5feb\u901f\u7684\u7f16\u5199\u4e00\u822c\u7684\u589e\u5220\u6539\u67e5api\u63a5\u53e3\n\n#### \u83b7\u53d6\u65b9\u5f0f\n```\npip install lminapi\n```\n\n#### \u4f7f\u7528\u8bf4\u660e\n```\nclass TestView(LminApiView):\n\n    modelObj = UsersModels  # \u67e5\u8be2\u6570\u636e\u5e93\u5bf9\u8c61\n    list_display = (\"id\", \"name\")\n    get_list_filter = [] # \u5217\u8868\u7b5b\u9009\u5b57\u6bb5  [{\"field\": , \"rule\": \"field__in\"}] \"rule\"\u6839\u636edjango orm \u7684**kwargs\u67e5\u8be2\u65b9\u5f0f\u6761\u4ef6\u6765\u5199\n    post_files = {} # post\u4e0a\u4f20\u6587\u4ef6 {\"file_field\": {\"path\": [\"folder_name\", \"child_folder_name\"]}}\n    put_files = {} # post\u4e0a\u4f20\u6587\u4ef6 {\"file_field\": {\"path\": [\"folder_name\", \"child_folder_name\"]}}\n    unique_param = [] # \u9700\u8981\u67e5\u91cd\u7684\u5b57\u6bb5 [\"field\"]\n    delete_rule = {} # \u5220\u9664\u65f6\u4f20\u5165\u7684\u5b57\u6bb5\u89c4\u5219 {\"id\": [Required,],}\n    post_rule = {} # \u65b0\u589e\u65f6\u4f20\u5165\u7684\u5b57\u6bb5\u89c4\u5219  {\"field\": [Required, Length(32), InstanceOf(str)],}\n    put_rule = {} # \u7f16\u8f91\u65f6\u4f20\u5165\u7684\u5b57\u6bb5\u89c4\u5219  {\"field\": [Required, Length(32), InstanceOf(str)],}\n    put_where_params = [] # put\u8bf7\u6c42\u4fee\u6539\u65f6\u7684\u6761\u4ef6\u53c2\u6570  [{\"field\": , \"rule\": \"field__in\"}]\n    post_inlist = [] # \u65b0\u589e\u65f6\u521b\u5efamodel\u5bf9\u8c61\u9700\u8981\u7684\u5b57\u6bb5 [\"field1\",\"field2\"]\n    put_inlist = [] # \u7f16\u8f91\u65f6\u4fee\u6539model\u5bf9\u8c61\u9700\u8981\u7684\u5b57\u6bb5 [\"field1\",\"field2\"]\n    file_first_path = \"/usr/myfolder/\" # \u6587\u4ef6\u4fdd\u5b58\u7684\u521d\u59cb\u5730\u5740\n    delete_where_params = [] # delete\u8bf7\u6c42\u5220\u9664\u65f6\u7684\u6761\u4ef6\u53c2\u6570 [{\"field\": , \"rule\": \"field\"}]\n\n# urls.py\nre_path('^test$',views_api.TestView.as_view())\n# \u8be5\u89c6\u56fe\u7c7b\u5b9e\u73b0\u4e86 get post put delete\u8bf7\u6c42\n```\n\n## utils\n* comfunc.py\n```\ndef paginationfunc(self, resList, pg, size):\n    '''\n    \u5206\u9875\u65b9\u6cd5\n    param resList: \u9700\u8981\u8fdb\u884c\u5206\u9875\u7684\u5217\u8868\n    param pg: \u9875\u7801\n    param size: \u6bcf\u9875\u6761\u6570\n    return:\n        count: \u603b\u6761\u6570\n        num_pages: \u603b\u9875\u6570\n        next_page: \u4e0b\u4e00\u9875\n        previous_page\uff1a\u4e0a\u4e00\u9875\n        ret\uff1a\u5f53\u524d\u9875\u7ed3\u679c\u5217\u8868\n    '''\n    p = Paginator(resList, size)\n    next_page = None\n    previous_page = None\n    page1 = p.page(pg)\n    if page1.has_next():\n        next_page = page1.next_page_number()\n    if  page1.has_previous():\n        previous_page = page1.previous_page_number()\n    data = {\"count\":p.count,\"num_pages\":p.num_pages,\"next_page\":next_page,\"previous_page\":previous_page,\n        \"ret\":page1.object_list}\n    return data\n\ndef exam_old(modelObj, paramDict: dict, excludeDict: dict = None) -> bool:\n    '''\n    \u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u5df2\u5b58\u5728 \u914d\u5408post\u65b0\u589e\u65f6\u8fdb\u884c\u4e5f\u6709\u67e5\u91cd\n    param modelObj: django models \u5bf9\u8c61\n    param paramDict: \u67e5\u91cd\u7684\u5b57\u6bb5\u4ee5\u53ca\u503c\uff0c{\"field\": field_value,}\n    param excludeDict: \u9700\u8981\u6392\u9664\u7684\u6761\u4ef6\uff0c{\"field\": field_value,}\n    return:\n        \u8fd4\u56debool\u503c, \u5b58\u5728\u65f6\u8fd4\u56detrue\n    '''\n    if excludeDict == None:\n        old = modelObj.objects.filter(**paramDict).first()\n    else:\n        old = modelObj.objects.filter(**paramDict).exclude(**excludeDict).first()\n    if not old:\n        return False\n    return True\n\n\ndef make_path(fpath: str):\n    '''\n    \u68c0\u67e5\u6587\u4ef6\u5939\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\n    return:\n        True or err\n    '''\n    try:\n        if not os.path.exists(fpath):\n            os.makedirs(fpath)\n        return True\n    except Exception as e:\n        return str(e)\n\ndef add_file(filePath, file):\n    '''\n    \u5199\u5165\u6587\u4ef6\n    param filePath:\u6587\u4ef6\u5199\u5165\u5730\u5740\n    param file: \u6587\u4ef6\u5bf9\u8c61\n    return:\n        True or err\n    '''\n    try:\n        with open(filePath,'wb') as f:\n            for fimg in file.chunks():\n                f.write(fimg)\n        return True\n    except Exception as e:\n        return str(e)\n\ndef file_save_addr(file, firstPath: str, pathList: list):\n    '''\n    \u5bf9\u6587\u4ef6\u8fdb\u884c\u5199\u5165\u5e76\u8fd4\u56de\u8def\u52b2\n    param file: \u6587\u4ef6\u5bf9\u8c61\n    param firstPath: \u521d\u59cb\u6587\u4ef6\u5939\u8def\u5f84\n    param pathList: \u6587\u4ef6\u5199\u5165\u7684\u5177\u4f53\u8def\u5f84\u5206\u7ea7\u5217\u8868,[\"floder\",\"child floder\"]\n    return:\n        bool\n        \u8def\u5f84str\n    '''\n    filepath = firstPath\n    filestr = \"\"\n    for i in pathList:\n        filepath = os.path.join(filepath, i)\n        filestr = filestr + \"/\" + i\n    make_path(filepath)\n    lastfilePath = os.path.join(filepath, file.name)\n    ok = add_file(filePath=lastfilePath, file=file)\n    if ok != True:\n        return ok, \"\"\n    return True, filestr + \"/\" + file.name\n```\n* params_to_dict.py\n```\ndef get_params_dict_inlist(data, inList: list) -> dict:\n    '''\n    \u6574\u7406\u4f20\u5165\u5b57\u6bb5\uff0c\u7d27\u5305\u542b\u5728inList\u4e2d\u7684\u5e76\u4f20\u5165\u503c\u7684\u5b57\u6bb5\n    '''\n    try:\n        adata = data.dict()\n    except:\n        adata = data\n    paramDict = {}\n    for i in inList:\n        if i in adata.keys():\n            if data[i] != \"\":\n                paramDict[i] = adata[i]\n            else:\n                continue\n        else:\n            continue\n    return paramDict\n```\n* params_verify.py\n- \u00b7\u8be5\u7a0b\u5e8f\u4e0b\u662f\u4e00\u4e9b\u53c2\u6570\u9a8c\u8bc1\u7684\u65b9\u6cd5\u4ee5\u53ca\u89c6\u56fe\u53c2\u6570\u9a8c\u8bc1\u88c5\u9970\u5668\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/lxb0323/lminapi",
            "keywords": "APIView,Validator,api",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "lminapi",
            "package_url": "https://pypi.org/project/lminapi/",
            "platform": "any",
            "project_url": "https://pypi.org/project/lminapi/",
            "project_urls": {
                "Homepage": "https://github.com/lxb0323/lminapi"
            },
            "release_url": "https://pypi.org/project/lminapi/0.0.3/",
            "requires_dist": [
                "django (>=2.0.5)",
                "djangorestframework (>=3.11.0)"
            ],
            "requires_python": "",
            "summary": "\u57fa\u4e8edjango \u548cdjango rest framework\u6574\u5408\u7b80\u5316drf APIView\u89c6\u56fe\u7c7b\u5e38\u7528\u65b9\u6cd5, \u7b80\u5316\u4f20\u5165\u53c2\u6570\u5df2\u9a8c\u8bc1\u65b9\u6cd5",
            "version": "0.0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 10292898,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "021fc066682fdb27d6dd13afecc00cca",
                    "sha256": "f43f3fd11eb8de51e78cfb97d993bd0ec62d68a5415cca137247bf412fe9f0d2"
                },
                "downloads": -1,
                "filename": "lminapi-0.0.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "021fc066682fdb27d6dd13afecc00cca",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 11460,
                "upload_time": "2021-05-08T06:52:00",
                "upload_time_iso_8601": "2021-05-08T06:52:00.077913Z",
                "url": "https://files.pythonhosted.org/packages/04/72/32879f64f9f167208c37d26268f6e5edc6f030f732f3f97c8d512d143d82/lminapi-0.0.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "6a117434c09129a10d771cda44d837fa",
                    "sha256": "2be6549b269d7b5a0ef1a5364f675de3ddd93d0e8eee83ea5e2dd76ccaa6d71f"
                },
                "downloads": -1,
                "filename": "lminapi-0.0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "6a117434c09129a10d771cda44d837fa",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 7937,
                "upload_time": "2021-05-08T06:52:01",
                "upload_time_iso_8601": "2021-05-08T06:52:01.426032Z",
                "url": "https://files.pythonhosted.org/packages/39/a3/1ef557d68f36afa841d7f9700f767b5093e390e94a0174350e7bb469f050/lminapi-0.0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}