{
    "0.0.1": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.1/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "27cc241210e50409947145887d0d66b8",
                    "sha256": "b1301c6449b267459da9f46b04fa412d72d6941e989a56e830adecb15cac00f5"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "27cc241210e50409947145887d0d66b8",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 5137,
                "upload_time": "2022-06-18T09:10:33",
                "upload_time_iso_8601": "2022-06-18T09:10:33.797906Z",
                "url": "https://files.pythonhosted.org/packages/7c/86/5050d999e8f590888506f0b8927452d9c737ebf77913103855e3543137f1/fastgpt-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.2": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.2/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "097dc64106c305b20bf40c0fd5c629e6",
                    "sha256": "c325d83e51c2d7f20bc010b5ec637a0d449c58ab595e14f9b756e837c33ffa11"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "097dc64106c305b20bf40c0fd5c629e6",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 5190,
                "upload_time": "2022-06-19T00:23:22",
                "upload_time_iso_8601": "2022-06-19T00:23:22.220824Z",
                "url": "https://files.pythonhosted.org/packages/b2/81/bbbfe12f91f0e499a4c8d4ab48f8b03462939742dffd52fb3d64fe1e300d/fastgpt-0.0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.3": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.3/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "cd3c67b16bfd8dbab6f8011a01dbeebd",
                    "sha256": "e3ea1eab9cdc2ef6330a3cac3b2282aaeb2289f3866b22b7557f805ece0b9eee"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "cd3c67b16bfd8dbab6f8011a01dbeebd",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 10570,
                "upload_time": "2022-06-23T07:44:01",
                "upload_time_iso_8601": "2022-06-23T07:44:01.832886Z",
                "url": "https://files.pythonhosted.org/packages/f3/c3/f3aad2f030c5dc5ad5ce596e8e8fb0bbaaaa866c8bbe45c1dd70022200b6/fastgpt-0.0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.4": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.4/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "10bee3bc96465e188fa8fcf160980eac",
                    "sha256": "a27d3ede01d4d31a31022bfbfa8c7339817aebae6cec0479fde0227954c9ed02"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.4.tar.gz",
                "has_sig": false,
                "md5_digest": "10bee3bc96465e188fa8fcf160980eac",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 11932,
                "upload_time": "2022-06-27T12:48:21",
                "upload_time_iso_8601": "2022-06-27T12:48:21.273103Z",
                "url": "https://files.pythonhosted.org/packages/70/f4/0a5c21b44eb3c9f09dad6c10fc9952223ca36273ab31ab9916ca13c3a107/fastgpt-0.0.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.5": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.5/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.5",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "2503cd3340a3779232f2295840315a2d",
                    "sha256": "d88ebf044162a87fd314eeff1fd7c52cfcced07173b3b576ab799880756e4a26"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.5.tar.gz",
                "has_sig": false,
                "md5_digest": "2503cd3340a3779232f2295840315a2d",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 11931,
                "upload_time": "2022-06-27T13:21:05",
                "upload_time_iso_8601": "2022-06-27T13:21:05.126859Z",
                "url": "https://files.pythonhosted.org/packages/31/b8/5c000c65ef606cf49682feb3a3673849053cca1ed2709511cd5beea5b0d1/fastgpt-0.0.5.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.6": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.6/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.6",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "a4917c1bb3df3f6d77686ae0f69af2f6",
                    "sha256": "f5980904bbb88cc8f3c7eb85520b4d284534460dca1ac5ac1e9a5ebbf6e2d953"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.6.tar.gz",
                "has_sig": false,
                "md5_digest": "a4917c1bb3df3f6d77686ae0f69af2f6",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 11930,
                "upload_time": "2022-06-27T13:24:28",
                "upload_time_iso_8601": "2022-06-27T13:24:28.189345Z",
                "url": "https://files.pythonhosted.org/packages/3c/5a/e81b1fb2b703b36e998158cc1deb2f6ae3b987e6c7f35302d98f7edc77c9/fastgpt-0.0.6.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.7": {
        "info": {
            "author": "LowinLi",
            "author_email": "lowinli@outlook.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description": "# fastgpt\n\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/fastgpt.svg)](https://pypi.org/project/fastgpt/)\n[![PyPI](https://img.shields.io/pypi/v/fastgpt.svg)](https://pypi.org/project/fastgpt/)\n[![PyPI](https://img.shields.io/pypi/dw/fastgpt)](https://pypi.org/project/fastgpt/#description)\n[![GitHub license badge](https://img.shields.io/github/license/LowinLi/fastgpt)](https://github.com/LowinLi/fastgpt/blob/main/LICENSE)\n[![Blog](https://img.shields.io/badge/blog-LowinLi-important)](https://lowin.li)\n![Codecov](https://img.shields.io/codecov/c/github/LowinLi/fastgpt)\n\n## fastgpt \u662f\u4ec0\u4e48\n\n- [fastgpt](https://github.com/LowinLi/fastgpt)\u662f\u4e00\u4e2a\u57fa\u4e8e[transformers](https://github.com/huggingface/transformers)\u548c[onnxruntime](https://github.com/microsoft/onnxruntime)\u7684**python**\u5e93\uff0c\u53ef\u4ee5\u65e0\u7f1d\u8854\u63a5\u7684\u4f7f\u7528 onnxruntime \u91cf\u5316\u540e\u7684 transfromers GPT \u6a21\u578b\u505a\u6587\u672c\u751f\u6210\u4efb\u52a1\uff0c\u63d0\u9ad8\u63a8\u7406\u901f\u5ea6\u3001\u964d\u4f4e\u8d44\u6e90\u6210\u672c\u3002\n\n## fastgpt \u7684\u80cc\u666f\n\n- **GPT**\u6a21\u578b\u662f\u901a\u8fc7\u5e8f\u5217\u6587\u672c\u9884\u6d4b\u4e0b\u4e00\u4e2a\u8bcd\u7684\u8bad\u7ec3\u4efb\u52a1\u5f97\u5230\u7684\u9884\u8bad\u7ec3\u6a21\u578b\uff0c\u53ef\u4ee5\u5728\u6587\u672c\u751f\u6210\u4efb\u52a1\u4e0a\u8fbe\u5230\u5f88\u597d\u7684\u6548\u679c\u3002\n- **transformers**\u5e93\u662f\u8fd1\u4e9b\u5e74\u6700\u706b\u7684\u505a\u9884\u8bad\u7ec3\u6a21\u578b\u7684 python \u5e93\uff0c\u5728\u5176\u80cc\u540e\u7684\u793e\u533a\uff0c\u7f51\u53cb\u3001\u7ec4\u7ec7\u5206\u4eab\u5f00\u6e90\u4e86\u5404\u5f0f\u5404\u6837\u7684\u9884\u8bad\u7ec3\u6a21\u578b\uff0c\u5c24\u5176\u662f\u622a\u6b62 2022 \u5e74 6 \u6708 23 \u65e5\uff0c[\u793e\u533a](https://huggingface.co/models?pipeline_tag=text-generation&sort=downloads)\u7684\u5f00\u6e90\u6587\u672c\u751f\u6210\u6a21\u578b\u591a\u8fbe\u5230**5068**\u4e2a\u3002\n- **onnx**\u662f\u7531\u5fae\u8f6f\uff0c\u4e9a\u9a6c\u900a \uff0cFacebook \u548c IBM \u7b49\u516c\u53f8\u5171\u540c\u5f00\u53d1\u7684\uff0c\u9488\u5bf9\u673a\u5668\u5b66\u4e60\u6240\u8bbe\u8ba1\u7684\u5f00\u653e\u5f0f\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u7ecf\u8fc7 onnxruntime \u91cf\u5316\u538b\u7f29\u7684\u9884\u8bad\u7ec3\u6a21\u578b\uff0c\u5728 cpu \u786c\u4ef6\u4e0a\u63a8\u7406\u901f\u5ea6\u5728\u5404\u5f00\u6e90\u6846\u67b6\u7684\u5bf9\u6bd4\u4e2d\u9996\u5c48\u4e00\u6307\u3002\n\n* \u7136\u800c\uff0c\u901a\u8fc7**transformers**\u5b98\u65b9\u7684 onnx \u63a5\u53e3\u8f6c\u6362\u3001onnx \u91cf\u5316 API\uff0c\u5374\u6ca1\u6709\u505a\u597d GPT \u6a21\u578b\u8f6c\u6362\u7684\u517c\u5bb9\u95ee\u9898\uff0c\u7ecf\u5e38\u8f6c\u6362\u5931\u8d25\u3002\u800c\u624b\u52a8\u8fdb\u884c onnx \u8f6c\u6362\u9700\u8981\u81ea\u5b9a\u4e49\u5f88\u591a\u914d\u7f6e\uff0c\u5bf9\u4e8e\u65b0\u624b\u4e0d\u5f88\u53cb\u597d\u3002\n\n- **fastgpt**\u5e93\uff0c\u5c31\u662f\u4e3a\u4e86\u65e0\u7f1d\u8854\u63a5 transformers \u5e93\u8c03\u7528 GPT \u6a21\u578b\u8f6c\u6362 onnx \u683c\u5f0f\u63a8\u7406\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u5728\u4ec5\u4fee\u6539\u4e24\u884c\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528 onnx \u91cf\u5316\u540e\u7684 GPT \u6a21\u578b\uff0c\u505a transformers \u5e93\u7684\u6587\u672c\u751f\u6210\u51fd\u6570\u3002\n\n* \u539f transformers \u4ee3\u7801\uff1a\n\n```python\nfrom transformers import AutoModelForCausalLM\nmodel = AutoModelForCausalLM.from_pretrained(\"distilgpt2\")\n```\n\n- fastgpt \u4ee3\u7801\uff1a\n\n```python\nfrom fastgpt import CausalLMModelForOnnxGeneration\nmodel = CausalLMModelForOnnxGeneration.from_pretrained(\"distilgpt2\")\n```\n\n- \u5728 fastgpt \u8fd9\u4e00\u884c\u4ee3\u7801\u4e2d\uff0c\u4f1a\u6267\u884c\u4ee5\u4e0b\u6d41\u7a0b\n  1. transformers hub \u7684\u6a21\u578b\u4e0b\u8f7d\n  2. pytorch \u6a21\u578b\u63a8\u7406\uff0c\u8f93\u51fa logits\n  3. onnx \u683c\u5f0f\u8f6c\u6362\n  4. onnx \u683c\u5f0f\u6a21\u578b\u63a8\u7406\uff0c\u8f93\u51fa logits\uff0c\u8fdb\u884c\u5bf9\u6bd4\u5dee\u5f02\n  5. onnx \u91cf\u5316\n  6. onnx \u91cf\u5316\u683c\u5f0f\u6a21\u578b\u63a8\u7406\uff0c\u8f93\u51fa logits\uff0c\u8fdb\u884c\u5bf9\u6bd4\u5dee\u5f02\n  7. \u628a\u517c\u5bb9 transformers \u6587\u672c\u751f\u6210\u51fd\u6570\u7684 onnx \u683c\u5f0f GPT \u6a21\u578b\uff0c\u5305\u88c5\u5230 model \u4e2d\n\n## \u5b89\u88c5\n\n```bash\npip install fastgpt\n```\n\n## \u5feb\u901f demo\n\n```python\nfrom transformers import AutoTokenizer\nfrom fastgpt import CausalLMModelForOnnxGeneration\nmodel = CausalLMModelForOnnxGeneration.from_pretrained(\"distilgpt2\")\ntokenizer = AutoTokenizer.from_pretrained(\"distilgpt2\")\n\nprompt_text = \"Natural language processing (NLP) is the ability of a computer program to understand human language as it is spoken and written\"\ninput_ids = tokenizer(\n    prompt_text, return_tensors=\"pt\", add_special_tokens=False\n).input_ids\n\ngenerated_ids = model.generate(   # \u8fd9\u91cc\u5b8c\u5168\u517c\u5bb9transformers\u7684generate\u51fd\u6570\n    input_ids,\n    max_length=64 + input_ids.shape[1],\n    decoder_start_token_id=tokenizer.cls_token_id,\n    eos_token_id=tokenizer.sep_token_id,\n    output_scores=True,\n    temperature=1,\n    repetition_penalty=1.0,\n    top_k=50,\n    top_p=0.9,\n    do_sample=True,\n    num_return_sequences=1,\n    length_penalty=2.0,\n    early_stopping=True,\n)\nprint(tokenizer.decode(generated_ids[0], skip_special_tokens=True))\nprint(\"=\" * 20)\n```\n\n## fastgpt \u7684\u4f18\u70b9\n\n1. **\u517c\u5bb9 transformers**: \u57fa\u4e8e transformers \u5e93\u7684[\u6587\u672c\u751f\u6210\u51fd\u6570](https://github.com/huggingface/transformers/blob/v4.20.1/src/transformers/generation_utils.py#L845)\uff0c\u529f\u80fd\u975e\u5e38\u4e30\u5bcc\u3002fastgpt \u5728 onnx \u683c\u5f0f\u6a21\u578b\u4e0a\uff0c\u517c\u5bb9\u8be5\u51fd\u6570\u3002\n2. **\u517c\u5bb9 cache**: \u5728\u6587\u672c\u751f\u6210\u7684\u4e00\u4e2a\u4e2a token \u751f\u6210\u8fc7\u7a0b\u4e2d\u7684`past_key_value`\u9700\u8981\u5728 GPT \u6a21\u578b\u4e0a\u6301\u7eed\u8fed\u4ee3\u8f93\u5165\uff0cfastgpt \u5df2\u7ecf\u901a\u8fc7 onnx \u683c\u5f0f\u505a\u597d\u8854\u63a5\u3002\n3. **\u4ee3\u7801\u4fee\u6539\u4f4e\u6210\u672c**\uff1a\u4ee3\u7801\u66ff\u6362\u539f\u7248 transformers \u4ec5\u9700\u4fee\u6539\u4e24\u884c\u4ee3\u7801\u3002\n4. **onnx \u683c\u5f0f\u5360\u5185\u5b58\u5c0f**\uff1a\u5bf9\u4e8e distilgpt2 \u6a21\u578b\uff0ctorch \u7248`318MB`, onnx \u91cf\u5316\u7248`243MB`\n5. **cpu \u4e0a\u901f\u5ea6\u66f4\u5feb**: \u7528\u65f6\u7ea6\u964d\u4f4e **33%**\n\n## \u751f\u6210\u901f\u5ea6\u8bc4\u6d4b(ms)\n\n- \u751f\u6210\u957f\u5ea6 4 \u8bc4\u6d4b\n\n| \u6a21\u578b\u6846\u67b6 | beam:1  | beam:2  | beam:3  | beam:4  |\n| -------- | ------- | ------- | ------- | ------- |\n| torch    | 290.779 | 475.693 | 560.458 | 648.756 |\n| fastgpt  | 195.265 | 292.272 | 378.933 | 466.14  |\n\n---\n\n- \u751f\u6210\u957f\u5ea6 8 \u8bc4\u6d4b\n\n| \u6a21\u578b\u6846\u67b6 | beam:1  | beam:2  | beam:3  | beam:4   |\n| -------- | ------- | ------- | ------- | -------- |\n| torch    | 482.199 | 817.065 | 905.646 | 1052.983 |\n| fastgpt  | 341.735 | 471.028 | 583.264 | 713.009  |\n\n---\n\n- \u751f\u6210\u957f\u5ea6 16 \u8bc4\u6d4b\n\n| \u6a21\u578b\u6846\u67b6 | beam:1  | beam:2   | beam:3   | beam:4   |\n| -------- | ------- | -------- | -------- | -------- |\n| torch    | 878.338 | 1518.198 | 1619.336 | 1813.197 |\n| fastgpt  | 635.157 | 838.787  | 1009.497 | 1210.047 |\n\n---\n\n- \u751f\u6210\u957f\u5ea6 32 \u8bc4\u6d4b\n\n| \u6a21\u578b\u6846\u67b6 | beam:1   | beam:2   | beam:3   | beam:4   |\n| -------- | -------- | -------- | -------- | -------- |\n| torch    | 1661.819 | 2854.889 | 3081.585 | 3436.284 |\n| fastgpt  | 1238.585 | 1599.724 | 1921.785 | 2256.674 |\n\n---\n\n- \u751f\u6210\u957f\u5ea6 64 \u8bc4\u6d4b\n\n| \u6a21\u578b\u6846\u67b6 | beam:1   | beam:2   | beam:3   | beam:4   |\n| -------- | -------- | -------- | -------- | -------- |\n| torch    | 3257.929 | 4274.201 | 4256.85  | 4677.168 |\n| fastgpt  | 2510.484 | 3081.851 | 2697.296 | 3150.157 |\n\n---\n\nmodel name : Intel(R) Xeon(R) CPU E5-2673 v4 @ 2.30GHz\ncpu cores : 2\n\n\u8be6\u89c1 GITHUB ACTIONS \u7684[cml \u62a5\u544a](https://github.com/LowinLi/fastgpt/commit/044567f960dd05fb0ef06870cf12002718ed5861#commitcomment-76805953)\n\n## \u8865\u5145\n1. \u5bf9\u4e8e[CodeGen](https://github.com/salesforce/CodeGen)\u7cfb\u5217\u4ee3\u7801\u751f\u6210\u6a21\u578b\uff0c\u5b98\u65b9\u662f\u4e0d\u652f\u6301`transformers`\u5e93\u7684\uff0c\u56e0\u6b64\u4e0d\u80fd\u76f4\u63a5\u7528`fastgpt`\u52a0\u8f7d\uff0c\u8bf7\u8f6c\u81f3[example/codegen](https://github.com/LowinLi/fastgpt/tree/main/example/codegen)\u8fdb\u884connx\u91cf\u5316\u548c\u6587\u672c\u751f\u6210\n## \u611f\u8c22\n\n- [transformers](https://github.com/huggingface/transformers)\n- [fastT5](https://github.com/Ki6an/fastT5)\n- [onnxruntime](https://github.com/microsoft/onnxruntime)",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/LowinLi/fastgpt",
            "keywords": "GPT,ONNX,onnxruntime,NLP,model hubtransformer,quantization,text generation,summarization,translation,q&a,qg,machine learning,fast inference,CausalLM",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fastgpt",
            "package_url": "https://pypi.org/project/fastgpt/",
            "platform": null,
            "project_url": "https://pypi.org/project/fastgpt/",
            "project_urls": {
                "Bug Tracker": "https://github.com/LowinLi/fastgpt/issues",
                "Homepage": "https://github.com/LowinLi/fastgpt",
                "Repo": "https://github.com/LowinLi/fastgpt"
            },
            "release_url": "https://pypi.org/project/fastgpt/0.0.7/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "boost inference speed of GPT models in transformers by onnxruntime",
            "version": "0.0.7",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14268153,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "29d7ae4d631691216be8f44f6c4defdb",
                    "sha256": "d4ba23ec786d73cc7642f616323d3af7a483c9e9559f44c306223d1d211d99fd"
                },
                "downloads": -1,
                "filename": "fastgpt-0.0.7.tar.gz",
                "has_sig": false,
                "md5_digest": "29d7ae4d631691216be8f44f6c4defdb",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 11933,
                "upload_time": "2022-06-28T04:03:42",
                "upload_time_iso_8601": "2022-06-28T04:03:42.811867Z",
                "url": "https://files.pythonhosted.org/packages/04/55/9192d2531a08d79847d4e6d2f165b6716bf2d6f0d6898b3eb846174186e2/fastgpt-0.0.7.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}