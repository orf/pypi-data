{
    "0.0.1": {
        "info": {
            "author": "ssttkkl",
            "author_email": "huang.wen.long@hotmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.11",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "<!-- markdownlint-disable MD033 MD036 MD041 -->\n\n<p align=\"center\">\n  <a href=\"https://v2.nonebot.dev/\"><img src=\"https://v2.nonebot.dev/logo.png\" width=\"200\" height=\"200\" alt=\"nonebot\"></a>\n</p>\n\n<div align=\"center\">\n\nnonebot-plugin-access-control\n============\n\n_\u2728 Nonebot \u6743\u9650\u63a7\u5236 \u2728_\n\n</div>\n\n\n<p align=\"center\">\n  <a href=\"https://raw.githubusercontent.com/ssttkkl/nonebot-plugin-access-control/master/LICENSE\">\n    <img src=\"https://img.shields.io/github/license/ssttkkl/nonebot-plugin-access-control.svg\" alt=\"license\">\n  </a>\n  <a href=\"https://pypi.python.org/pypi/nonebot-plugin-access-control\">\n    <img src=\"https://img.shields.io/pypi/v/nonebot-plugin-access-control.svg\" alt=\"pypi\">\n  </a>\n  <img src=\"https://img.shields.io/badge/python-3.9+-blue.svg\" alt=\"python\">\n</p>\n\n## \u7279\u70b9\n\n- [x] \u652f\u6301**\u529f\u80fd\u7ea7\u522b**\u7684\u7ec6\u7c92\u5ea6\u6743\u9650\u63a7\u5236\n- [x] \u5bf9\u672a\u9002\u914d\u63d2\u4ef6\u4e5f\u652f\u6301**\u63d2\u4ef6\u7ea7\u522b**\u7684\u6743\u9650\u63a7\u5236\n- [ ] \u652f\u6301\u5bf9\u6743\u9650\u5f00\u5173\u7b49\u4e8b\u4ef6\u8fdb\u884c\u76d1\u542c\n\n## \u4f7f\u7528\n\n### \u4e3b\u4f53\n\n#### \u6982\u5ff5\n\n\u8ba9\u6211\u4eec\u4ece\u4e00\u4e2a\u4f8b\u5b50\u5f15\u5165\uff1aQQ\u4e0a\u7fa4\u7ec4G\u7684\u7528\u6237U\u53d1\u9001\u4e86\u4e00\u6761\u6d88\u606f\uff0c\u8be5\u7528\u6237\u540c\u65f6\u5177\u6709\u201c\u7528\u6237U\u201d\u3001\u201c\u7fa4\u7ec4G\u6210\u5458\u201d\u3001\u201cQQ\u7528\u6237\u201d\u3001\u201cBot\u7528\u6237\u201d\u8fd9\u51e0\u4e2a\u8eab\u4efd\u3002\u540c\u65f6QQ\u4e0a\u7fa4\u7ec4G\u7684\u7528\u6237V\u4e5f\u53d1\u9001\u4e86\u4e00\u6761\u6d88\u606f\uff0c\u8be5\u7528\u6237\u8be5\u7528\u6237\u540c\u65f6\u5177\u6709\u201c\u7528\u6237V\u201d\u3001\u201c\u7fa4\u7ec4G\u6210\u5458\u201d\u3001\u201cQQ\u7528\u6237\u201d\u3001\u201cBot\u7528\u6237\u201d\u8fd9\u51e0\u4e2a\u8eab\u4efd\u3002\n\n\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5bf9\u7528\u6237\u8fdb\u884c\u6743\u9650\u63a7\u5236\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u9488\u5bf9\u201c\u7528\u6237U\u201d\u3001\u201c\u7528\u6237V\u201d\u8fd9\u4e2a\u7ea7\u522b\u5206\u522b\u914d\u7f6e\u6743\u9650\u3002\u4f46\u6211\u4eec\u5e0c\u671b\u5bf9\u7fa4\u7ec4\u8fdb\u884c\u6743\u9650\u63a7\u5236\u65f6\uff0c\u5bf9\u7fa4\u7ec4\u5185\u7684\u6bcf\u4e00\u4e2a\u7528\u6237\u90fd\u5206\u522b\u914d\u7f6e\u6743\u9650\uff0c\u5c31\u6709\u70b9\u529b\u4e0d\u4ece\u5fc3\u4e86\u3002\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u76f4\u63a5\u9488\u5bf9\u201c\u7fa4\u7ec4G\u201d\u8fd9\u4e2a\u7ea7\u522b\u8fdb\u884c\u914d\u7f6e\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u7fa4\u7ec4\u5185\u90fd\u6709\u4ec0\u4e48\u6210\u5458\u3002\n\n\u6211\u4eec\u5b9a\u4e49**\u4e3b\u4f53\uff08Subject\uff09\u4e3a\u7528\u6237\u6240\u5177\u6709\u7684\u8eab\u4efd\uff0c\u4e5f\u662f\u8bbe\u7f6e\u6743\u9650\u7684\u57fa\u672c\u5355\u4f4d\u3002**\n\n\u4e00\u4e2a\u7528\u6237\u901a\u5e38\u62e5\u6709\u591a\u4e2a\u4e3b\u4f53\u3002\u56de\u5230\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u7b2c\u4e00\u4f4d\u7528\u6237\u62e5\u6709\u201c\u7528\u6237U\u201d\u3001\u201c\u7fa4\u7ec4G\u6210\u5458\u201d\u3001\u201cQQ\u7528\u6237\u201d\u3001\u201cBot\u7528\u6237\u201d\u8fd9\u56db\u4e2a\u4e3b\u4f53\uff1b\u7b2c\u4e8c\u4f4d\u7528\u6237\u62e5\u6709\u201c\u7528\u6237V\u201d\u3001\u201c\u7fa4\u7ec4G\u6210\u5458\u201d\u3001\u201cQQ\u7528\u6237\u201d\u3001\u201cBot\u7528\u6237\u201d\u8fd9\u56db\u4e2a\u4e3b\u4f53\u3002\u7528\u6237\u62e5\u6709\u7684\u6240\u6709\u4e3b\u4f53\uff0c\u6309\u7167\u89c4\u6a21\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u5448\u73b0\u5982\u4e0b\u56fe\u7684\u9010\u5c42\u5305\u542b\u5173\u7cfb\uff1a\n\n![](docs/img/1.svg)\n\n\u5f53\u8bbe\u7f6e\u6743\u9650\u65f6\uff0c\u6211\u4eec\u76f4\u63a5\u9488\u5bf9\u4e00\u4e2a\u4e3b\u4f53\u8fdb\u884c\u8bbe\u7f6e\u3002\u5f53\u9274\u6743\u65f6\uff0c\u6211\u4eec\u5bf9\u7528\u6237\u7684\u6240\u6709\u4e3b\u4f53\u6309\u89c4\u6a21\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\uff08\u4e0b\u6587\u5c06\u6b64\u987a\u5e8f\u79f0\u4e3a\u4f18\u5148\u7ea7\u987a\u5e8f\uff09\uff0c\u9010\u4e00\u68c0\u67e5\u662f\u5426\u8bbe\u7f6e\u4e86\u6743\u9650\u3002\u4e00\u65e6\u68c0\u67e5\u5230\u67d0\u4e2a\u4e3b\u4f53\u8bbe\u7f6e\u4e86\u6743\u9650\uff0c\u5c31\u4ee5\u8be5\u4e3b\u4f53\u8bbe\u7f6e\u7684\u6743\u9650\u4f5c\u4e3a\u8be5\u7528\u6237\u7684\u6743\u9650\u3002\n\n\u56de\u5230\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5047\u8bbe\u6211\u4eec\u5bf9\u4e3b\u4f53\u201d\u7fa4\u7ec4G\u201c\u7981\u7528\u670d\u52a1\uff0c\u4f46\u662f\u5bf9\u4e3b\u4f53\u201d\u7528\u6237V\u201c\u542f\u7528\u670d\u52a1\u3002\u5219\u5728\u7fa4\u7ec4G\u5185\u7684\u7528\u6237U\u5185\u5c06\u65e0\u6cd5\u4f7f\u7528\u670d\u52a1\uff0c\u4f46\u662f\u5219\u5728\u7fa4\u7ec4G\u5185\u7684\u7528\u6237V\u53ef\u4ee5\u4f7f\u7528\u3002\n\n#### \u5e94\u7528\n\n\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u7528\u4e00\u4e2a\u5b57\u7b26\u4e32\u8868\u793a\u4e3b\u4f53\u3002\u5e76\u4e14\u6211\u4eec\u7ea6\u5b9a\uff0c`all`\u8868\u793a\u6240\u6709\u7528\u6237\uff0c`<\u534f\u8bae\u540d>`\u8868\u793a\u6240\u6709\u6b64\u534f\u8bae\u7684\u7528\u6237\uff0c\u9664\u6b64\u4e4b\u5916\u7684\u6240\u6709\u4e3b\u4f53\u5747\u4ee5`<\u534f\u8bae\u540d>:`\u5f00\u5934\u3002\n\n\u5728OneBot\u534f\u8bae\u4e2d\uff0c\u6bcf\u4e2a\u7528\u6237\u6240\u62e5\u6709\u7684\u4e3b\u4f53\u5982\u4e0b\u8868\u6240\u5b9a\u4e49\uff1a\n\n| \u4e3b\u4f53                 | \u542b\u4e49       | \u793a\u4f8b               | \u5fc5\u5b9a\u5b58\u5728             |\n|--------------------|----------|------------------|------------------|\n| onebot:<user_id>   | \u7528\u6237ID     | onebot:12345678  | \u662f                |\n| onebot:g<group_id> | \u7fa4\u7ec4ID     | onebot:g87654321 | \u4ec5\u5f53\u6d88\u606f\u6765\u81ea\u7fa4\u7ec4\u6216\u4e34\u65f6\u4f1a\u8bdd\u65f6\u5b58\u5728 |\n| onebot             | OneBot\u7528\u6237 | onebot           | \u662f                |\n| all                | \u6240\u6709\u7528\u6237     | all              | \u662f                |\n\n\u76ee\u524d\u4ec5\u5b9e\u73b0\u4e86OneBot\u534f\u8bae\u3002\u5982\u679c\u4f60\u80fd\u5e2e\u52a9\u6211\u4eec\u8fdb\u884c\u5176\u4ed6\u534f\u8bae\u9002\u914d\uff0c\u6b22\u8fce\u63d0\u4ea4PR\u3002\n\n### \u670d\u52a1\n\n\u670d\u52a1\uff08Service\uff09\u4e3a\u4e00\u7ec4\u80fd\u591f\u8fdb\u884c\u6743\u9650\u63a7\u5236\u7684\u529f\u80fd\u7684\u96c6\u5408\u3002\u670d\u52a1\u53ef\u4ee5\u62e5\u6709\u5b50\u670d\u52a1\uff0c\u901a\u8fc7\u6811\u7ed3\u6784\u7ec4\u7ec7\u670d\u52a1\uff0c\u7edf\u4e00\u7ba1\u7406\u6743\u9650\u3002\n\n\u6574\u4e2a\u63d2\u4ef6\u5c31\u662f\u4e00\u4e2a\u670d\u52a1\uff08PluginService\uff09\u3002\u5f53\u63d2\u4ef6\u672a\u8fdb\u884c\u9002\u914d\u65f6\uff0c\u8be5\u63d2\u4ef6\u53ea\u5177\u6709\u4e00\u4e2aPluginService\u3002\n\n\u82e5\u9700\u8981\u5bf9\u63d2\u4ef6\u8fdb\u884c\u9002\u914d\uff0c\u5219\u9700\u8981\u4ecePluginService\u521b\u5efaSubService\uff0c\u4e3a\u63d2\u4ef6\u7684Matcher\u7b49\u529f\u80fd\u5165\u53e3\u5e94\u7528SubService\u3002\uff08\u53c2\u8003\u4e0b\u6587\u63d2\u4ef6\u9002\u914d\u7ae0\u8282\uff09\n\n### \u6307\u4ee4\n\n\u8fdb\u884c\u6743\u9650\u5f00\u5173\u7684\u6307\u4ee4\u4e3a`/ac`\uff0c\u4ec5\u8d85\u7ea7\u7528\u6237\u53ef\u7528\u3002\uff08\u901a\u8fc7\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e`SUPERUSERS`\u53d8\u91cf\u53ef\u8bbe\u7f6e\u8d85\u7ea7\u7528\u6237\uff09\n\n- `/ac subject <\u4e3b\u4f53> allow <\u670d\u52a1>`\uff1a\u4e3a\u4e3b\u4f53\u542f\u7528\u670d\u52a1\n- `/ac subject <\u4e3b\u4f53> deny <\u670d\u52a1>`\uff1a\u4e3a\u4e3b\u4f53\u7981\u7528\u670d\u52a1\n- `/ac subject <\u4e3b\u4f53> remove <\u670d\u52a1>`\uff1a\u4e3a\u4e3b\u4f53\u5220\u9664\u670d\u52a1\u6743\u9650\u914d\u7f6e\n- `/ac subject <\u4e3b\u4f53> ls`\uff1a\u5217\u51fa\u4e3b\u4f53\u5df2\u914d\u7f6e\u7684\u670d\u52a1\u6743\u9650\n- `/ac service <\u670d\u52a1> ls`\uff1a\u5217\u51fa\u670d\u52a1\u5df2\u914d\u7f6e\u7684\u4e3b\u4f53\u6743\u9650\n\n\u5176\u4e2d`<\u670d\u52a1>`\u7684\u683c\u5f0f\u5982\u4e0b\uff1a\n\n- `<\u63d2\u4ef6\u540d>`\uff1a\u5bf9\u6574\u4e2a\u63d2\u4ef6\u8fdb\u884c\u5f00\u5173\n- `<\u63d2\u4ef6\u540d>.<\u5b50\u670d\u52a1\u540d>`\uff1a\u5bf9\u63d2\u4ef6\u5185\u7684\u67d0\u4e2a\u5b50\u670d\u52a1\u8fdb\u884c\u5f00\u5173\uff08\u9700\u53c2\u7167\u4e0b\u6587\u5bf9\u63d2\u4ef6\u8fdb\u884c\u914d\u7f6e\uff09\n\n## \u63d2\u4ef6\u9002\u914d\n\n\u5b8c\u6574\u4ee3\u7801\uff1a[src/nonebot_plugin_ac_demo](src/nonebot_plugin_ac_demo)\n\n1. \u521b\u5efa\u4e00\u4e2a\u540d\u4e3anonebot_plugin_ac_demo\u7684\u63d2\u4ef6\n\n2. \u901a\u8fc7create_plugin_service\u51fd\u6570\u521b\u5efa\u4e00\u4e2aPluginServic\u5b9e\u4f8b\uff08\u6ce8\u610f\u53c2\u6570\u5fc5\u987b\u4e3a\u63d2\u4ef6\u5305\u540d\uff09\n\n```python\nfrom nonebot import require\n\nrequire(\"nonebot_plugin_ac_demo\")\n\nfrom nonebot_plugin_access_control.service import create_plugin_service\n\nplugin_service = create_plugin_service(\"nonebot_plugin_ac_demo\")\n```\n\n3. \u901a\u8fc7PluginService.create_subservice\u521b\u5efaSubService\u5b9e\u4f8b\u3002\u5728\u521b\u5efaMatcher\u65f6\uff0c\u5c06subservice\u4f20\u9012\u81f3rule\u6216permission\u53c2\u6570\u4e2d\n\n```python\ngroup1 = plugin_service.create_subservice(\"group1\")\n\n\n@on_command('a', rule=group1.create_subservice(\"a\")).handle()\nasync def _(matcher: Matcher):\n    await matcher.send(\"a\")\n\n\n@on_command('b', rule=group1.create_subservice(\"b\")).handle()\nasync def _(matcher: Matcher):\n    await matcher.send(\"b\")\n\n\n@on_command('c', rule=plugin_service.create_subservice(\"c\")).handle()\nasync def _(matcher: Matcher):\n    await matcher.send(\"c\")\n```\n\n\u63d2\u4ef6\u670d\u52a1\u7684\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a\n\n![](docs/img/2.svg)\n\n4. \u901a\u8fc7\u6307\u4ee4\u914d\u7f6e\u670d\u52a1\u6743\u9650\n\n\u6267\u884c\u4e0b\u9762\u7684\u6307\u4ee4\u540e\uff0c\u6240\u6709\u7528\u6237\u5c06\u65e0\u6cd5\u8c03\u7528\u6307\u4ee4`/a`\u4e0e`/b`\n\n```\n/ac subject all deny nonebot_plugin_ac_demo.group1\n```\n\n\u6267\u884c\u4e0b\u9762\u7684\u6307\u4ee4\u540e\uff0c\u7528\u623712345678\u5c06\u65e0\u6cd5\u8c03\u7528\u6307\u4ee4`/a`\n\n```\n/ac subject onebot:12345678 deny nonebot_plugin_ac_demo.a\n```\n\n\u6267\u884c\u4e0b\u9762\u7684\u6307\u4ee4\u540e\uff0c\u7fa4\u7ec487654321\u7684\u6240\u6709\u7528\u6237\u5c06\u65e0\u6cd5\u8c03\u7528\u9664`/c`\u4ee5\u5916\u7684\u4efb\u4f55\u6307\u4ee4\n\n```\n/ac subject onebot:g87654321 deny nonebot_plugin_ac_demo\n/ac subject onebot:g87654321 allow nonebot_plugin_ac_demo.c\n```",
            "description_content_type": "text/plain",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/ssttkkl/nonebot-plugin-rbac",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "nonebot-plugin-rbac",
            "package_url": "https://pypi.org/project/nonebot-plugin-rbac/",
            "platform": null,
            "project_url": "https://pypi.org/project/nonebot-plugin-rbac/",
            "project_urls": {
                "Homepage": "https://github.com/ssttkkl/nonebot-plugin-rbac",
                "Repository": "https://github.com/ssttkkl/nonebot-plugin-rbac"
            },
            "release_url": "https://pypi.org/project/nonebot-plugin-rbac/0.0.1/",
            "requires_dist": [
                "nonebot2 (>=2.0.0rc1,<3.0.0)",
                "sqlalchemy[asyncio] (>=1.4.42,<2.0.0)",
                "aiosqlite (>=0.17.0,<0.18.0)"
            ],
            "requires_python": ">=3.9,<4.0",
            "summary": "",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16032296,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "66c06658a8581a2841b32e25cb2c4863",
                    "sha256": "928027606ac7fe88ec714bf461f80230ade051d0f613f439f1b40642c7c784f7"
                },
                "downloads": -1,
                "filename": "nonebot_plugin_rbac-0.0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "66c06658a8581a2841b32e25cb2c4863",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.9,<4.0",
                "size": 5428,
                "upload_time": "2022-12-08T09:54:22",
                "upload_time_iso_8601": "2022-12-08T09:54:22.726695Z",
                "url": "https://files.pythonhosted.org/packages/5a/bf/b435ab17b99b1000bd689a54489462690526b1886b34ac0df90462490ca2/nonebot_plugin_rbac-0.0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "a58d2bf155c7805ddd56f5e15ca3cf8a",
                    "sha256": "fb70f87dff711855a317cf7ee82a9924a770e60cd2c5dcfaea5359f3c22eb110"
                },
                "downloads": -1,
                "filename": "nonebot_plugin_rbac-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "a58d2bf155c7805ddd56f5e15ca3cf8a",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.9,<4.0",
                "size": 5576,
                "upload_time": "2022-12-08T09:54:24",
                "upload_time_iso_8601": "2022-12-08T09:54:24.231359Z",
                "url": "https://files.pythonhosted.org/packages/b1/94/f63bd354ce01a9bb27907bb6d36e72d16f3528b51e58e0dd08261411bdcb/nonebot_plugin_rbac-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}