{
    "0.0.1": {
        "info": {
            "author": "kerlomz",
            "author_email": "kerlomz@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# \u56fd\u7a0e\u603b\u5c40\u53d1\u7968\u67e5\u9a8c\u5e73\u53f0\u9a8c\u8bc1\u7801\u83b7\u53d6\u4e0e\u8bc6\u522b\n\n\n## \u4f7f\u7528\u6307\u5317\n\n1. ```pip install invoice-captcha```\n\n2. \u8c03\u7528\u793a\u4f8b\uff1a\n\n    ```python\n    import requests\n    from invoice_captcha.utils import get_captcha_params, parse_captcha_resp, kill_captcha_fast, ua\n    \n    CAPTCHA_URL = \"https://fpcy.guangdong.chinatax.gov.cn/NWebQuery/yzmQuery\"\n    \n    \n    # \u53d1\u7968\u4ee3\u7801\n    key1 = \"011111111111\"\n    # \u53d1\u7968\u53f7\u7801\n    key2 = \"11111111\"\n    \n    # # \u5f00\u7968\u65e5\u671f\n    # key3 = \"20200603\"\n    # # \u6821\u9a8c\u7801\u6216\u53d1\u7968\u91d1\u989d\n    # key4 = \"000000\"\n    \n    \n    def fetch_captcha(invoice_code, invoice_no):\n    \n        sess = requests.Session()\n    \n        # \u4f7f\u7528\u4ee3\u7406\uff0c\u9700\u8981\u81ea\u5907\u4ee3\u7406\n        # sess.proxies = proxy\n        sess.headers = {\"User-Agent\": ua.random}\n    \n        # \u83b7\u53d6\u9a8c\u8bc1\u7801\u8bf7\u6c42\u53c2\u6570\n        payload = get_captcha_params(\n            invoice_code=invoice_code, invoice_no=invoice_no\n        )\n    \n        # \u901a\u8fc7\u5b98\u7f51\u83b7\u53d6\u9a8c\u8bc1\u7801\n        r = sess.get(CAPTCHA_URL, params=payload)\n    \n        # \u9a8c\u8bc1\u7801\u8bf7\u6c42\u53c2\u6570\u89e3\u5bc6\n        plain_dict = parse_captcha_resp(r)\n    \n        # \u9a8c\u8bc1\u7801\u8bf7\u6c42\u8fd4\u56de\u660e\u6587\n        # key1 \u56fe\u7247base64\n        # key4 \u9a8c\u8bc1\u7801\u9700\u8981\u8bc6\u522b\u7684\u989c\u8272\u4ee3\u7801\n        print(\"\u89e3\u5bc6\u53c2\u6570 --- \", plain_dict)\n    \n        # \u8c03\u7528\u8bc6\u522b\u6d4b\u8bd5\u63a5\u53e3\n        captcha_text = kill_captcha_fast(\n            plain_dict, \n          \t# \u9ed8\u8ba4API\u6709\u4f7f\u7528\u6b21\u6570\u9650\u5236\uff0c\u53ef\u8054\u7cfb\u4f5c\u8005QQ\uff1a27009583\uff0c\u6d4b\u8bd5\u72ec\u7acb\u63a5\u53e3\n            # api=\"http://kerlomz-ac86u.asuscomm.com:19811/captcha/v1\"\n        )\n    \n        # \u8f93\u51fa\u8bc6\u522b\u7ed3\u679c\n        print(\"\u8bc6\u522b\u7ed3\u679c --- \", captcha_text)\n        \n        \n    if __name__ == '__main__':\n        for i in range(10):\n            fetch_captcha(key1, key2)\n    ```\n\n\n\n**\u8f93\u51fa\u7ed3\u679c:**\n\n```shell script\n\u89e3\u5bc6\u53c2\u6570 ---  {'key1': 'iVBORw0KGgoA...5ErkJggg==', 'key2': '2020-06-16 16:56:36', 'key3': '9636e07df9aae6bd0483c5f6ea1ecbdc', 'key4': '03', 'key5': '2'}\n\u8bc6\u522b\u7ed3\u679c ---  xm8\n\u89e3\u5bc6\u53c2\u6570 ---  {'key1': 'iVBORw0KGgoA...UVORK5CYII=', 'key2': '2020-06-16 16:56:42', 'key3': 'd202f846119faa08a0e95eec48ca1bfe', 'key4': '01', 'key5': '2'}\n\u8bc6\u522b\u7ed3\u679c ---  \u547d\u521d\n```",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/kerlomz/captcha_trainer",
            "keywords": "pip,invoice-captcha,\u53d1\u7968\u67e5\u9a8c\u9a8c\u8bc1\u7801,\u56fd\u7a0e\u9a8c\u8bc1\u7801,\u7a0e\u52a1\u9a8c\u8bc1\u7801",
            "license": "MIT Licence",
            "maintainer": "",
            "maintainer_email": "",
            "name": "invoice-captcha",
            "package_url": "https://pypi.org/project/invoice-captcha/",
            "platform": "any",
            "project_url": "https://pypi.org/project/invoice-captcha/",
            "project_urls": {
                "Homepage": "https://github.com/kerlomz/captcha_trainer"
            },
            "release_url": "https://pypi.org/project/invoice-captcha/0.0.1/",
            "requires_dist": null,
            "requires_python": ">=3.5",
            "summary": "\u56fd\u7a0e\u603b\u5c40\u53d1\u7968\u67e5\u9a8c\u9a8c\u8bc1\u7801\u83b7\u53d6\u4e0e\u8bc6\u522b.",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 7486932,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8287b73b328c7212bdc8aa1709201da4",
                    "sha256": "470bc40c53524d694bf3fa445f2a09a872db8b9ce956946d4a66bd094c2c7dcd"
                },
                "downloads": -1,
                "filename": "invoice-captcha-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "8287b73b328c7212bdc8aa1709201da4",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.5",
                "size": 7784,
                "upload_time": "2020-06-16T09:20:40",
                "upload_time_iso_8601": "2020-06-16T09:20:40.635681Z",
                "url": "https://files.pythonhosted.org/packages/16/9e/770bde4f8c3df9a5eafc3922ad2be75f7b1c46247be172bc164f588940c7/invoice-captcha-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}