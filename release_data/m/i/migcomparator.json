{
    "0.0.2": {
        "info": {
            "author": "Gyojun An",
            "author_email": "sencom1028@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "migcomparator",
            "package_url": "https://pypi.org/project/migcomparator/",
            "platform": "",
            "project_url": "https://pypi.org/project/migcomparator/",
            "project_urls": null,
            "release_url": "https://pypi.org/project/migcomparator/0.0.2/",
            "requires_dist": [
                "impyla (==0.17.0)",
                "pandas (>=1.1.5)",
                "numpy (>=1.20.1)",
                "PyMySQL (==1.0.2)",
                "pandera (==0.8.0)"
            ],
            "requires_python": ">=3.0",
            "summary": "Apache Hive and MariaDB(MySQL) compare library",
            "version": "0.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12458788,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "92b4506b5da1177549f204e0448060df",
                    "sha256": "a0eb40e75a7709bbdf87aab2f876732fe13c31d13c93074ed67d9abd956d6cda"
                },
                "downloads": -1,
                "filename": "migcomparator-0.0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "92b4506b5da1177549f204e0448060df",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.0",
                "size": 13365,
                "upload_time": "2022-01-01T15:32:53",
                "upload_time_iso_8601": "2022-01-01T15:32:53.668095Z",
                "url": "https://files.pythonhosted.org/packages/59/27/afc293a1549562d59cde5e36afb0c6ee4baaff85d289fe8b438034aadcc0/migcomparator-0.0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.3": {
        "info": {
            "author": "Gyojun An",
            "author_email": "sencom1028@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "# migcomparator\n\n[![PyPI version](https://badge.fury.io/py/migcomparator.svg)](https://badge.fury.io/py/migcomparator)\n[![PyPI license](https://img.shields.io/pypi/l/ansicolortags.svg)](https://pypi.python.org/pypi/ansicolortags/)\n\n> Apache Hive\uc640 MariaDB(or MySQL)\uc5d0 \uc704\uce58\ud55c \ud14c\uc774\ube14\uc758 \ub370\uc774\ud130\ub97c Pandas\ub97c \ud1b5\ud574 \ube44\uad50\ud574\uc8fc\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4. \n\n- [Install](#install)\n- [Basic Usage](#basic-usage)\n  - [\ud14c\uc774\ube14\uac04\uc758 \ub370\uc774\ud130 \uac74\uc218 \ube44\uad50](#\ud14c\uc774\ube14\uac04\uc758-\ub370\uc774\ud130-\uac74\uc218-\ube44\uad50)\n  - [\ud14c\uc774\ube14\uac04\uc758 \ub300\uce6d\ucc28\uc9d1\ud569](#\ud14c\uc774\ube14\uac04\uc758-\ub300\uce6d\ucc28\uc9d1\ud569)\n  - [\ud14c\uc774\ube14\uac04\uc758 \ubd88\uc77c\uce58 \ub370\uc774\ud130 \ucd94\ucd9c](#\ud14c\uc774\ube14\uac04\uc758-\ubd88\uc77c\uce58-\ub370\uc774\ud130-\ucd94\ucd9c)\n- [User Component](#User-Component)\n  - [Table](#table)\n  - [ColumnPair](#columnpair)\n  - [Connector](#connector)\n  - [Validator](#validator)\n\n## Install\n\n```bash\npip install migcomparator\n```\n\n## Basic usage\n\n#### MariaDB Mock data \n\n```plain\n> select * from `mock_1` limit 3\n+-----------------+-------------+--------+--------------+---------+-------------------+------+\n|vin              |car_model    |car_make|car_model_year|color    |created_at         |num   |\n+-----------------+-------------+--------+--------------+---------+-------------------+------+\n|19UUA56763A081084|Rodeo        |Isuzu   |2000          |Goldenrod|2021-11-18 08:38:22|57.064|\n|19UUA65545A837147|Amanti       |Kia     |2004          |Yellow   |2021-07-07 13:32:59|NULL  |\n|19UUA65566A654351|B-Series Plus|Mazda   |2000          |Orange   |2021-07-25 05:39:41|NULL  |\n+-----------------+-------------+--------+--------------+---------+-------------------+------+\n```\n\n#### Apache Hive Mock data\n\n```plain\n> select * from `mock_2` limit 3\n+-----------------+---------+----------+--------------+---------+-------------------+------+\n|vin              |car_model|car_mk    |car_model_yyyy|color    |created_at         |num   |\n+-----------------+---------+----------+--------------+---------+-------------------+------+\n|19UUA65684A456148|Discovery|Land Rover|1996          |Violet   |2021-04-18 11:25:59|42.526|\n|19UUA66228A764918|GTO      |Mitsubishi|1994          |Yellow   |2021-10-25 23:41:01|10.004|\n|19UUA66267A272004|Corvette |Chevrolet |1960          |Puce     |2021-02-26 19:25:45|NULL  |\n+-----------------+---------+----------+--------------+---------+-------------------+------+\n\n> select * from `mock_3` limit 3\n+-----------------+-------------+------+--------------+------------------+-------------------+------+\n|vin              |car_model    |car_mk|car_model_yyyy|color             |created_at         |numb  |\n+-----------------+-------------+------+--------------+------------------+-------------------+------+\n|19UUA56763A081084|Rodeo        |Isuzu |2000          |GoldenrodGoldenrod|2021-11-18 08:38:22|58.064|\n|19UUA65545A837147|Amanti       |Kia   |2004          |YellowYellow      |2021-07-07 13:32:59|NULL  |\n|19UUA65566A654351|B-Series Plus|Mazda |2000          |OrangeOrange      |2021-07-25 05:39:41|NULL  |\n+-----------------+-------------+------+--------------+------------------+-------------------+------+\n\n```\n\n### \ud14c\uc774\ube14\uac04\uc758 \ub370\uc774\ud130 \uac74\uc218 \ube44\uad50\n\n#### MariaDB(or MySQL) to Apache Hive\n```python\nfrom migcomparator.models.pandas_validator import PandasValidator\nfrom migcomparator.models.table import Table\nfrom migcomparator.query_sender.connector import MariadbConnector, HiveConnector\n\n# create datasource connector\nmariadb_sender = \\ \n        MariadbConnector(\n            host='localhost',\n            port=3306,\n            user='username',\n            password='password',\n            database='schema'\n        )\n\nhive_sender = \\ \n        HiveConnector(\n            host='localhost',\n            port=10000,\n            user='username',\n            password='password',\n            database='schema',\n            auth_mechanism='PLAIN'\n        )\n\n# create source & target logical table\nsource = Table(name='mock_1', sender=mariadb_sender) \\\n            .where(\"date_format(`created_at`, '%Y%m%d') = '20220101'\") \\\n            .where(\"`vin` = 'fakevin'\")\n\n# Hive \ud14c\uc774\ube14\uc740 pk\ub97c \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815\ntarget = Table(name='mock_2', sender=hive_sender, pk=['vin']) \\\n            .where(\"date_format(created_at, 'yyyyMMdd') = '20220101'\") \\\n            .where(\"`vin` = 'fakevin'\")\n\n# count compare, PairResult \uac1d\uccb4 \ubc18\ud658\npair_result = PandasValidator.count_compare(\n    source=source, target=target\n)\n```\n\n#### PairResult \uacb0\uacfc\n\n```plain\n(source: 1000, target: 850, match: False)\n```\n\n### \ud14c\uc774\ube14\uac04\uc758 \ub300\uce6d\ucc28\uc9d1\ud569\n\n#### MariaDB(or MySQL) to Apache Hive\n```python\nfrom migcomparator.models.pandas_validator import PandasValidator\nfrom migcomparator.models.table import Table\nfrom migcomparator.query_sender.connector import MariadbConnector, HiveConnector\n\n...\n\n# create source & target logical table\nsource = Table(name='mock_1', sender=mariadb_sender) \\\n            .where(\"date_format(`created_at`, '%Y%m%d') = '20220101'\") \\\n            .where(\"`vin` = 'fakevin'\")\n\n# Hive \ud14c\uc774\ube14\uc740 pk\ub97c \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815\ntarget = Table(name='mock_2', sender=hive_sender, pk=['vin']) \\\n            .where(\"date_format(created_at, 'yyyyMMdd') = '20220101'\") \\\n            .where(\"`vin` = 'fakevin'\")\n\n# intersect difference compare, PairResult \uac1d\uccb4 \ubc18\ud658\npair_result = PandasValidator.difference_compare(source=source, target=target)\n```\n\n#### PairResult \uacb0\uacfc\n\n```plain\n[TIME ELAPSED] - (time: 0:00:00.063220, text: difference compare)\n(source:                    \n                   vin   location\n0    19UUA56763A081084  left_only\n1    19UUA65545A837147  left_only\n..                 ...        ...\n998  YV4902NC9F1050126  left_only\n999  YV4952BL9E1397234  left_only\n\n[1000 rows x 2 columns], \n\ntarget:                     \n                    vin    location\n1000  19UUA65684A456148  right_only\n1001  19UUA66228A764918  right_only\n...                 ...         ...\n1848  YV4952CF4C1496548  right_only\n1849  ZHWGU5BR6EL855505  right_only\n\n[850 rows x 2 columns], \nmatch: False)\n```\n\n### \ud14c\uc774\ube14\uac04\uc758 \ubd88\uc77c\uce58 \ub370\uc774\ud130 \ucd94\ucd9c \n\n#### MariaDB(or MySQL) to Apache Hive\n\n```python\nfrom migcomparator.models.pandas_validator import PandasValidator\nfrom migcomparator.models.table import Table, ColumnPair\nfrom migcomparator.query_sender.connector import MariadbConnector, HiveConnector\n\n...\n\n# create source & target logical table\nsource = Table(name='mock_1', sender=mariadb_sender) \\\n            .where(\"date_format(`created_at`, '%Y%m%d') = '20220101'\") \\\n            .where(\"`vin` = 'fakevin'\")\n\n# Hive \ud14c\uc774\ube14\uc740 pk\ub97c \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815\ntarget = Table(name='mock_3', sender=hive_sender, pk=['vin']) \\\n            .where(\"date_format(created_at, 'yyyyMMdd') = '20220101'\") \\\n            .where(\"`vin` = 'fakevin'\")\n\n# SingleResult \uac1d\uccb4 \ubc18\ud658\nsingle_result = PandasValidator.value_compare(\n            source=source,\n            target=target,\n            # on\uc740 join\ub300\uc0c1\uc758 \uceec\ub7fc\uc744 \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815, \uc774\ub984\uc774 \uac19\ub2e4\uba74 \uc0dd\ub7b5\uac00\ub2a5\n            on=[ColumnPair(source='vin', target='vin')],\n            # colpair\ub294 \ud14c\uc774\ube14\uac04\uc758 \uceec\ub7fc\uba85\uc774 \ub2e4\ub97c\ub54c \ub9e4\uce58\uc2dc\ud0a4\uae30 \uc704\ud574 \uc0ac\uc6a9\n            colpair=[\n                ColumnPair(source='car_make', target='car_mk'),\n                ColumnPair(source='car_model_year', target='car_model_yyyy'),\n                ColumnPair(source='num', target='numb'),\n            ])\n```\n\n#### SingleResult \uacb0\uacfc\n\n- \uc77c\uce58\ud558\ub294 \ub370\uc774\ud130\ub294 `None`, \ubd88\uc77c\uce58\ud558\ub294 \ub370\uc774\ud130\ub294 `[source value, target value]` \ud615\uc2dd\uc73c\ub85c \uad6c\uc131 \n\n```plain\n[TIME ELAPSED] - (time: 0:00:00.085695, text: value compare)\n               vin,vin                      color,color          num,numb\n0    19UUA56763A081084  [Goldenrod, GoldenrodGoldenrod]  [57.064, 58.064]\n1    19UUA65545A837147           [Yellow, YellowYellow]              None\n2    19UUA65566A654351           [Orange, OrangeOrange]              None\n3    19UUA76537A154797           [Fuscia, FusciaFuscia]    [6.472, 7.472]\n4    19UUA76667A986661  [Turquoise, TurquoiseTurquoise]  [40.263, 41.263]\n..                 ...                              ...               ...\n995  YV440MBC6F1570276                 [Teal, TealTeal]      [35.4, 36.4]\n996  YV440MBD6F1653487           [Yellow, YellowYellow]  [81.213, 82.213]\n997  YV4852CZ6B1343304                 [Blue, BlueBlue]  [31.325, 32.325]\n998  YV4902NC9F1050126  [Turquoise, TurquoiseTurquoise]  [34.464, 35.464]\n999  YV4952BL9E1397234  [Goldenrod, GoldenrodGoldenrod]  [98.871, 99.871]\n```\n\n## User Component\n\n### Connector\n\nDataSource\uc5d0\uac8c \uc9c8\uc758\ub97c \uc218\ud589\ud558\uace0 \uacb0\uacfc\ub97c Validator\uc5d0\uac8c \uc804\ub2ec\ud574\uc8fc\uae30\uc704\ud55c \ud074\ub798\uc2a4.\n- `MariadbConnector`\n- `HiveConnector`\n\n```python\nfrom migcomparator.query_sender.connector import MariadbConnector, HiveConnector\n\nmariadb_sender = \\ \n        MariadbConnector(\n            host='localhost',\n            port=3306,\n            user='username',\n            password='password',\n            database='schema'\n        )\n\nhive_sender = \\ \n        HiveConnector(\n            host='localhost',\n            port=10000,\n            user='username',\n            password='password',\n            database='schema',\n            auth_mechanism='PLAIN'\n        )\n```\n\n\n\n---\n\n### Table\n\n```python\nfrom migcomparator.models.table import Table\n\nsource = Table(name='mock_1', sender=mariadb_sender) \\\n            .where(\"date_format(`created_at`, '%Y%m%d') = '20220101'\")\n\n# Hive \ud14c\uc774\ube14\uc740 pk\ub97c \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815\ntarget = Table(name='mock_2', sender=hive_sender, pk=['vin']) \\\n            .where(\"date_format(created_at, 'yyyyMMdd') = '20220101'\")\n```\n\n```python\n__init__(self, name: str, sender: BaseConnectorMeta, pk: List[str]): Table\n```\n\n- **name** \n  - DataSource\uc5d0 \uc704\uce58\ud55c \ud14c\uc774\ube14\uba85\n- **sender** \n  - \uc0ac\uc6a9\ud560 Connector\uac1d\uccb4\ub97c \uae30\uc785 (`MariadbConnector` or `HiveConnector`)\n- **pk**\n  - Hive\uc5d0 \uc704\uce58\ud55c \ud14c\uc774\ube14\uc758 \uacbd\uc6b0 pk\ub97c \uba85\uc2dc\uc801\uc73c\ub85c \uae30\uc785\n\n```python\nwhere(self, clause: str): Table\n```\n\n- **clause**\n  - \ud14c\uc774\ube14\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ud544\ud130\ub9c1\ud558\uae30\uc704\ud55c where \uad6c\ubb38\n\n---\n\n### ColumnPair\n\n```python\nfrom migcomparator.models.table import ColumnPair\n\ncolpair = ColumnPair(source='car_model_year', target='car_model_yyyy')\n```\n\n```python\n__init__(self, source: str, target: str): Table\n```\n \n\ube44\uad50\ud558\uace0\uc790 \ud558\ub294 \ud14c\uc774\ube14\uac04\uc758 \uceec\ub834\ubc0d\uc774 \ub2e4\ub978\uacbd\uc6b0 \uceec\ub7fc\uba85\uc744 \ub9e4\uce58\uc2dc\ud0a4\uae30 \uc704\ud574 \uc0ac\uc6a9\n- **source**\n  - source \ud14c\uc774\ube14\uc758 \uceec\ub7fc\uba85\n- **target**\n  - target \ud14c\uc774\ube14\uc758 \uceec\ub7fc\uba85\n\n---\n\n### Validator\n\n- `PandasValidator` \n  - DataSource\uc5d0 \uc704\uce58\ud55c \ub370\uc774\ud130\ub97c \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc124\uce58\ub41c \ub2e8\uc77c\uba38\uc2e0\uc73c\ub85c \ub4e4\uace0\uc640 \ube44\uad50\ub97c \uc218\ud589\ud558\ub294 Validator (\uc18c\uaddc\ubaa8 \ub370\uc774\ud130\uc14b\uc5d0 \uc801\ud569)\n\n#### \ub370\uc774\ud130 \uac74\uc218 \ube44\uad50\n\n```python\ncount_compare(cls, source: Table, target: Table): PairResult\n```\n\nsource\uc640 target\uc5d0 \ube44\uad50\ub300\uc0c1 `Table` \uac1d\uccb4\ub97c \uc778\uc790\ub85c \uc804\ub2ec\ud558\uc5ec, \ub450 \ud14c\uc774\ube14\uac04\uc758 \ub370\uc774\ud130 count \uacb0\uacfc\ubc18\ud658\n\n\n#### \ub300\uce6d\ucc28\uc9d1\ud569 \ube44\uad50\n\n```python\ndifference_compare(cls, source: Table, target: Table, colpair: List[ColumnPair] = None): PairResult\n```\n\nsource\uc640 target\uc5d0 \ube44\uad50\ub300\uc0c1 `Table` \uac1d\uccb4\ub97c \uc778\uc790\ub85c \uc804\ub2ec\ud558\uc5ec, full-outer join \uc218\ud589\ud6c4,\n\uac01 \ud14c\uc774\ube14\uc5d0 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 primary key\ub97c \ubc18\ud658\n\n- **colpair**\n  - \ube44\uad50\ud558\uace0\uc790 \ud558\ub294 \ud14c\uc774\ube14\uac04\uc758 \uceec\ub834\ubc0d\uc774 \ub2e4\ub978\uacbd\uc6b0 \uceec\ub7fc\uba85\uc744 \ub9e4\uce58\uc2dc\ud0a4\uae30 \uc704\ud574 \uc0ac\uc6a9\n\n\n#### \ud14c\uc774\ube14\uac04\uc758 \ubd88\uc77c\uce58 \ub370\uc774\ud130 \ucd94\ucd9c\n\n```python\nvalue_compare(cls, source: Table, target: Table, on: List[ColumnPair] = None, colpair: List[ColumnPair] = None): SingleResult\n```\n\n\nsource\uc640 target\uc5d0 \ube44\uad50\ub300\uc0c1 `Table` \uac1d\uccb4\ub97c \uc778\uc790\ub85c \uc804\ub2ec\ud558\uc5ec, inner join\ud6c4, \ud14c\uc774\ube14\uc758 \ubaa8\ub4e0 \uceec\ub7fc\ub4e4\uc744 \ube44\uad50\ud558\uc5ec \ubd88\uc77c\uce58\ud558\ub294 \ub370\uc774\ud130 \ucd94\ucd9c\n\n- **on**\n  - inner join\uc758 \ub300\uc0c1\uc774\ub418\ub294 \uceec\ub7fc\ub4e4\uc744 \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815\ud560\ub54c \uc0ac\uc6a9(pk\uc758 \uceec\ub7fc\uba85\uc774 \ub2e4\ub978\uacbd\uc6b0 \uc0ac\uc6a9)\n- **colpair**\n  - \ube44\uad50\ud558\uace0\uc790 \ud558\ub294 \ud14c\uc774\ube14\uac04\uc758 \uceec\ub834\ubc0d\uc774 \ub2e4\ub978\uacbd\uc6b0 \uceec\ub7fc\uba85\uc744 \ub9e4\uce58\uc2dc\ud0a4\uae30 \uc704\ud574 \uc0ac\uc6a9\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/Altera520",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "migcomparator",
            "package_url": "https://pypi.org/project/migcomparator/",
            "platform": "",
            "project_url": "https://pypi.org/project/migcomparator/",
            "project_urls": {
                "Homepage": "https://github.com/Altera520"
            },
            "release_url": "https://pypi.org/project/migcomparator/1.0.3/",
            "requires_dist": [
                "impyla (==0.17.0)",
                "pandas (>=1.1.5)",
                "numpy (>=1.20.1)",
                "PyMySQL (==1.0.2)",
                "pandera (==0.8.0)"
            ],
            "requires_python": ">=3.0",
            "summary": "Apache Hive and MariaDB(MySQL) compare library",
            "version": "1.0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12458788,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "dfa6cc2c6e09b3a347c093fe3304c2ad",
                    "sha256": "5b7cbf578858f20da3f459715ac8c4afd58361ec96664d572f2365d0582dc56a"
                },
                "downloads": -1,
                "filename": "migcomparator-1.0.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "dfa6cc2c6e09b3a347c093fe3304c2ad",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.0",
                "size": 17460,
                "upload_time": "2022-01-02T15:58:35",
                "upload_time_iso_8601": "2022-01-02T15:58:35.364836Z",
                "url": "https://files.pythonhosted.org/packages/94/e5/f4caa17b2cb294e4be9748a2d6fbe6eb7f6a1269ad2d5ef8bdad35c1d56b/migcomparator-1.0.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "49f886ef62598676498eb7208cad7845",
                    "sha256": "23236b35ea93561a9c6f5e637b39ea50656368d05a118d7ef40d9698ae2ebd38"
                },
                "downloads": -1,
                "filename": "migcomparator-1.0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "49f886ef62598676498eb7208cad7845",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.0",
                "size": 15960,
                "upload_time": "2022-01-02T15:58:36",
                "upload_time_iso_8601": "2022-01-02T15:58:36.897516Z",
                "url": "https://files.pythonhosted.org/packages/22/8a/0b5fada907c0a8ffc46949d4d9401664ce6df453134707b0469f6be242af/migcomparator-1.0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}