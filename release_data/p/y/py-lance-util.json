{
    "0.1.0": {
        "info": {
            "author": "feilong Chen",
            "author_email": "chenfeilong@cloudwalk.com",
            "bugtrack_url": null,
            "classifiers": [
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.11",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "[\u57fa\u4e8eFastApi\u7684python\u9879\u76ee\uff0c\u5c01\u88c5\u5e38\u7528\u5de5\u5177\uff08\u6301\u7eed\u96c6\u6210\u4e2d......)]\n# \u6b65\u9aa4\n\n## \u6784\u5efaDockerfile\n\n### \u57fa\u7840\u955c\u50cf\n\n**\u6784\u5efapython\u8fd0\u884c\u57fa\u7840\u955c\u50cfDockerfile**\n\n```dockerfile\nFROM amazonlinux:latest\n\nLABEL maintainer=\u201cLance\u201d\n\nRUN yum update -y && yum install -y python3 python3-devel vim\n```\n\n**\u5177\u4f53\u670d\u52a1\u955c\u50cfDockerfile**\n\n```dockerfile\nFROM registry.cn-hangzhou.aliyuncs.com/lance0515/lance-test:base_python\n\nLABEL maintainer=\"Lance\"\n\nCOPY requirements.txt .\n\nRUN pip3 install -r requirements.txt\n\n# \u914d\u7f6e\u9ed8\u8ba4\u653e\u7f6e App \u7684\u76ee\u5f55\nRUN mkdir -p /app\n\nWORKDIR /app\n\nEXPOSE 28000-28004\n\nCOPY . .\n\nENV PYTHONPATH /app\n\nENTRYPOINT [\"python3\", \"/app/main.py\"]\n\n```\n\n## \u63a8\u9001\u5230\u963f\u91cc\u4e91\n\n```dockerfile\n# \u767b\u5f55\uff0c \u8f93\u5165\u5bc6\u7801\ndocker login --username=**** registry.cn-hangzhou.aliyuncs.com\n# \u5bf9\u955c\u50cf\u6253\u6807\u7b7e\ndocker tag [ImageId] registry.cn-hangzhou.aliyuncs.com/****/lance-test:[\u955c\u50cf\u7248\u672c\u53f7]\n# \u53d1\u5e03\ndocker push registry.cn-hangzhou.aliyuncs.com/****/lance-test:[\u955c\u50cf\u7248\u672c\u53f7]\n```\n\n## \u670d\u52a1\u5668\u4e0b\u8f7d\n\n```dockerfile\n# \u767b\u5f55\ndocker login --username=**** registry.cn-hangzhou.aliyuncs.com\n\ndocker pull registry.cn-hangzhou.aliyuncs.com/****/lance-test:[\u955c\u50cf\u7248\u672c\u53f7]\n```\n\n## docker-compose \u5b9e\u4f8b\u5316\u5bb9\u5668\n\n**docker-compose.yml**\n\n> \u901a\u8fc7docker-compose\u542f\u52a8\u5bb9\u5668\n\n```\nversion: \"3\"\nservices:\n  py-server:\n    image: registry.cn-hangzhou.aliyuncs.com/lance0515/lance-test:${BASE_VERSION}\n    container_name: py-server\n    ports:\n      - 28000:8000\n      - 28004:8004\n    volumes:\n      - ${BASE_PROJECT_PATH}:/app\n\n```\n\n<!--\u5728.env\u6587\u4ef6\u914d\u7f6edocker-compose\u6d89\u53ca\u5230\u7684\u53d8\u91cf-->\n**.env**\n\n```\nBASE_VERSION=v1.0            # \u6253tag\u65f6\u955c\u50cf\u5b9e\u9645\u7248\u672c\u53f7\nBASE_PROJECT_PATH=/data/app  # \u9879\u76ee\u5728\u670d\u52a1\u5668\u5b9e\u9645\u5730\u5740\n```\n\n**## \u81ea\u52a8\u62c9\u53d6\u4ee3\u7801\u5e76\u91cd\u542f\u670d\u52a1**\n\n> \u901a\u8fc7\u811a\u672c\u81ea\u52a8\u62c9\u53d6\u4ee3\u7801  \n> **auto_pull.sh**\n\n```shell\n#! /bin/bash \necho \"--------------------------------\"\necho \"----------\u5f00\u59cb\u6267\u884c\u811a\u672c----------\"\ndate\npwd;\necho \"\u5207\u6362\u5230git\u76ee\u5f55\"\n##\u5207\u6362\u5230\u653e\u7f6egit\u4ee3\u7801\u7684\u76ee\u5f55\u7edd\u5bf9\u8def\u5f84\ncd /home/lance/python/python-server;\npath=`pwd`\necho $path\nif [ \"$path\" == \"/home/lance/python/python-server\" ]\nthen\n        echo \"\u76ee\u5f55\u5207\u6362\u6210\u529f\uff0c\u51c6\u5907\u62c9\u53d6\u6700\u65b0\u4ee3\u7801\"\nelse\n        echo \"\u76ee\u5f55\u5207\u6362\u5931\u8d25\uff0c\u9000\u51fa\u7a0b\u5e8f\"\n        exit 0;\nfi\ngit pull;\necho \"\u51c6\u5907\u91cd\u542f\u5bb9\u5668\"\n# npm run build;\nsleep 30\ndocker restart py-server\necho \"\u6210\u529f\"\n```\n\n## \u7ed3\u5408github push\u81ea\u52a8\u62c9\u53d6\u4ee3\u7801\n\n**\u901a\u8fc7github\u8bbe\u7f6ewebhook\uff0c\u56de\u8c03\u6267\u884cauto_pull.sh\u811a\u672c**\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py-lance-util",
            "package_url": "https://pypi.org/project/py-lance-util/",
            "platform": null,
            "project_url": "https://pypi.org/project/py-lance-util/",
            "project_urls": null,
            "release_url": "https://pypi.org/project/py-lance-util/0.1.0/",
            "requires_dist": [
                "fastapi (==0.88.0)",
                "loguru (==0.6.0)",
                "pika (==1.3.1)",
                "pydantic (==1.9.0)",
                "redis (==4.4.0)",
                "sqlalchemy (==1.4.32)",
                "uvicorn (==0.17.6)",
                "kazoo (>=2.9.0,<3.0.0)",
                "pymysql (>=1.0.2,<2.0.0)"
            ],
            "requires_python": ">=3.9,<4.0",
            "summary": "pytdemo",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16087809,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "314fcea0ee32ffebc578a5fe774de611",
                    "sha256": "2e840298045a83e54429ee6c59cf69926127089c82379895dfacdbc6727e838e"
                },
                "downloads": -1,
                "filename": "py_lance_util-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "314fcea0ee32ffebc578a5fe774de611",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.9,<4.0",
                "size": 23020,
                "upload_time": "2022-12-13T15:23:22",
                "upload_time_iso_8601": "2022-12-13T15:23:22.696724Z",
                "url": "https://files.pythonhosted.org/packages/11/3a/4686ba6eef8343f65f550cac0756acfaa6e802cf4ad5b836dfc6e121248b/py_lance_util-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "d6b1f2831db110e1057d4fd420763500",
                    "sha256": "90b2a413054a185b4798bce10e709ce01b1b15a0552c7ffd52c76d43aa3db6a3"
                },
                "downloads": -1,
                "filename": "py_lance_util-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "d6b1f2831db110e1057d4fd420763500",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.9,<4.0",
                "size": 15440,
                "upload_time": "2022-12-13T15:23:25",
                "upload_time_iso_8601": "2022-12-13T15:23:25.017506Z",
                "url": "https://files.pythonhosted.org/packages/bc/cc/36d4e9a4de58e7dec9a494001448309bd301f9ac25e7b4ba8b84b1a221e0/py_lance_util-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}