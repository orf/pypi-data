{
    "0.1.0": {
        "info": {
            "author": "catbaron",
            "author_email": "catbaron@live.cn",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 5 - Production/Stable",
                "Intended Audience :: Developers",
                "Intended Audience :: End Users/Desktop",
                "License :: OSI Approved :: GNU Affero General Public License v3 or later (AGPLv3+)",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Topic :: Communications :: Chat",
                "Topic :: Utilities"
            ],
            "description": "# SearchMessage: A middleware for EFB \n\n## Notice\n\n**Middleware ID**: `catbaron.search_msg`\n\n**SearchMessage** is a middleware for EFB, to search message from the chat history.\n\n**SearchMessage** \u662f\u7528\u6765\u641c\u7d22\u5386\u53f2\u6d88\u606f\u7684\u4e2d\u95f4\u4ef6.\n\nUsually, you may have trouble to search messages with **Chinses** key words in Telegram clients,\nthus here is the middleware could help you out.\n\n\u7531\u4e8e Telegram \u5bf9\u4e2d\u6587\u6ca1\u6709\u505a\u5206\u8bcd\uff0c\u5173\u952e\u8bcd\u641c\u7d22\u51e0\u4e4e\u4e0d\u53ef\u7528\u3002\u6240\u4ee5\u5199\u4e86\u4e2a\u4e2d\u95f4\u4ef6\u7528\u6765\u641c\u7d22\u6d88\u606f\u3002\n\nBe aware that this is a very early develop version. Please let me know if you found any problem.\n\n\u6ce8\u610f\uff0c\u8fd9\u662f\u521d\u671f\u7248\u672c\u53ef\u80fd\u4f1a\u4e0d\u7a33\u5b9a\u3002\uff08\u4e5f\u53ef\u80fd\u6ca1\u6709\u7a33\u5b9a\u7248\u672c\u4e86\uff09\n\nYou need to use **SearchMessage** on top of [EFB](https://ehforwarderbot.readthedocs.io). Please check the document and install EFB first.\n\n\u8bf7\u5148\u88c5 EFB\u3002\n\n## Dependense\n\n* Python >=3.6\n* EFB >=2.0.0\n* peewee\n* PyYaml\n* python-dateutil\n\n## Install\n\n* Install\n```\npip install efb-search_msg-middleware\n```\n* Register to EFB\nFollowing [this document](https://ehforwarderbot.readthedocs.io/en/latest/getting-started.html) to edit the config file. The config file by default is `~/.ehforwarderbot/profiles/default/config.yaml`. It should look like:\n\n\u88c5\u5b8c\u4e4b\u540e\u9700\u8981\u5728 EFB \u7684\u914d\u7f6e\u6587\u4ef6\u6ce8\u518c\u4e00\u4e0b\u4e2d\u95f4\u4ef6\u3002\u9ed8\u8ba4\u5728\u8fd9 `~/.ehforwarderbot/profiles/default/config.yaml`\n```\nmaster_channel: foo.demo_master\nslave_channels:\n- foo.demo_slave\n- bar.dummy\nmiddlewares:\n- foo.other_middlewares\n- catbaron.search_msg\n```\n\nYou only need to add the last line to your config file.\n\n\u57fa\u672c\u4e0a\u53ea\u8981\u52a0\u4e0a\u6700\u540e\u4e00\u884c\u5c31\u591f\u4e86\u3002\n\n* Config the middleware\n\n\u8fd9\u4e2a\u4e2d\u95f4\u4ef6\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9009\u9879\u3002\u7b2c\u4e00\u4e2a\u57fa\u672c\u4e0a\u4e0d\u7528\u6539\u3002\u7b2c\u4e8c\u4e2a\u662f\u6bcf\u6b21\u5c55\u793a\u7684\u641c\u7d22\u7ed3\u679c\u6570\u91cf\u3002\u6539\u6210 0 \u662f\u6ca1\u6709\u9650\u5236\u3002\n\nThe config file by default is `$HOME/.ehforwarderbot/profiles/default/catbaron.search_msg/config.yaml`.\nPlease create the config file if thers is not one.  Edit it as:\n\n```\n# The name of master channel\nmaster: 'blueset.telegram'\n\n# The max number of message the middleware would show you. \n# Set it to 0 for no limitation.\nmax_num: 15\n```\n\n* Restart EFB.\n\n![](./example.png)\n\n## How to use\n### The command: \n`\\sr [key_word] [from:datetime] [to:datetime]`\n* `key_word`: text without whitespace characters\n* `datetime`: Datetime string, such as `1989-6`, `2008-8-8 12:0`. Note that `from:` and `to:` are necessary and there should be no space in this argument. Messages of last 15 days will be searched by default.\n* `key_word`: \u641c\u7d22\u7528\u7684\u5173\u952e\u5b57\n* `datetime`: \u8868\u793a\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\uff0c \u6bd4\u5982 `1989-6`, \u6216\u8005 `2008-8-8 12:0`. `from:` \u548c `to:` \u8868\u793a\u641c\u7d22\u7684\u65f6\u95f4\u8303\u56f4\u3002\u6ce8\u610f\u6240\u6709\u53c2\u6570\u5185\u90e8\u90fd\u4e0d\u8981\u6709\u7a7a\u767d\u5b57\u7b26\u3002\n\n\n### Usage\n1. Sent command to a chat \uff08\u76f4\u63a5\u53d1\u547d\u4ee4\uff09\n   * There should be at least one of the three arguments\n   * \u4e09\u4e2a\u53c2\u6570\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\n2. Reply the command to an message \uff08\u56de\u590d\u4e00\u6761\u6d88\u606f\uff09\n   * Search message sent by the author of the replied message\n   * \u7528\u6765\u641c\u7d22\u67d0\u4e2a\u4eba\u53d1\u51fa\u7684\u6d88\u606f\n   * Some times the author is saved as `None` in the database, so it's not always reliable. \n   * \u56e0\u4e3a\u6709\u65f6\u5019 EFB \u4f1a\u62ff\u4e0d\u5230\u6d88\u606f\u4f5c\u8005\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u8fd9\u4e2a\u529f\u80fd\u5e76\u4e0d\u603b\u662f\u53ef\u9760\u3002\uff08\u4e0b\u56fe\u91cc\u9762\u62ff\u5230\u7684\u5c31\u662f None\uff09\n3. To locate the message in Telegram, you can: \u5982\u679c\u4f60\u60f3\u5728 Telegram \u91cc\u9762\u5b9a\u4f4d\u5230\u67d0\u6761\u6d88\u606f\uff0c\u4f60\u53ef\u4ee5\u5728\u7528\u5173\u952e\u5b57\u641c\u7d22\u5230\u6d88\u606f\u5185\u5bb9\u53ea\u540e\uff1a\n   * Search the full message in Telegram\n   * \u641c\u7d22\u6d88\u606f\u5168\u6587\n   * Search some segment of message splitted by non-chinese characters.\n   * \u641c\u7d22\u88ab\u7b26\u53f7\u9694\u5f00\u7684\u90e8\u5206\n   * For instance, say you have a message `\u8fd9\u662f\u4e00\u6761\u88ab\u7a7a\u683c\u5206\u5f00  \u7684\u6d88\u606f`, to locate this message, you coulde search the entire message, `\u8fd9\u662f\u4e00\u6761\u88ab\u7a7a\u683c\u5206\u5f00` or `\u7684\u6d88\u606f` in Telegram.\n   * \u6bd4\u5982\u4f60\u627e\u5230\u8fd9\u6761\u6d88\u606f `\u8fd9\u662f\u4e00\u6761\u88ab\u7a7a\u683c\u5206\u5f00  \u7684\u6d88\u606f`, \u4f60\u53ef\u4ee5\u518d Telegram \u91cc\u9762\u641c\u7d22\u6574\u6761\u6d88\u606f\u591a\u5168\u6587\uff0c\u6216\u8005\u641c\u7d22 `\u8fd9\u662f\u4e00\u6761\u88ab\u7a7a\u683c\u5206\u5f00` \u6216\u8005 `\u7684\u6d88\u606f`.\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/catbaron0/efb-search_msg-middleware",
            "keywords": "ehforwarderbot,EH Forwarder Bot,EH Forwarder Bot Middleware,chatbot",
            "license": "AGPLv3+",
            "maintainer": "",
            "maintainer_email": "",
            "name": "efb-search-msg-middleware",
            "package_url": "https://pypi.org/project/efb-search-msg-middleware/",
            "platform": "",
            "project_url": "https://pypi.org/project/efb-search-msg-middleware/",
            "project_urls": {
                "Homepage": "https://github.com/catbaron0/efb-search_msg-middleware"
            },
            "release_url": "https://pypi.org/project/efb-search-msg-middleware/0.1.0/",
            "requires_dist": [
                "ehforwarderbot (>=2.0.0b15)",
                "python-telegram-bot (>=10.0.0<12.0.0)",
                "python-magic",
                "peewee",
                "PyYaml",
                "python-dateutil"
            ],
            "requires_python": ">=3.6",
            "summary": "WeChat Middleware for EH Forwarder Bot to search messages",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 9023836,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8c146bb6edae065ee363297c09289c9e",
                    "sha256": "d42091ee716969651cc62e4048255e272b385d8129e4139b7851233c6995a9fd"
                },
                "downloads": -1,
                "filename": "efb_search_msg_middleware-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "8c146bb6edae065ee363297c09289c9e",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 7016,
                "upload_time": "2020-12-31T07:59:42",
                "upload_time_iso_8601": "2020-12-31T07:59:42.661136Z",
                "url": "https://files.pythonhosted.org/packages/8a/52/b7431b32f4c28f2e1216529d8c58eb1a98514edadc464584cb81c7490f32/efb_search_msg_middleware-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "5a71a8b9da5ae40b734747ba3b8256aa",
                    "sha256": "169a976970377b57a2177ee083aa237d1d0b68ae7d78175570d5383dcd188588"
                },
                "downloads": -1,
                "filename": "efb-search_msg-middleware-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "5a71a8b9da5ae40b734747ba3b8256aa",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 6374,
                "upload_time": "2020-12-31T07:59:43",
                "upload_time_iso_8601": "2020-12-31T07:59:43.999457Z",
                "url": "https://files.pythonhosted.org/packages/95/ff/acf52752ca06fdfbeb507ee00c6e75d32427630e7cee14dc38e30cdcf5ee/efb-search_msg-middleware-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}