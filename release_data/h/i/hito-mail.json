{
    "22.11": {
        "info": {
            "author": "",
            "author_email": "Michel Jouvin <michel.jouvin@ijclab.in2p3.fr>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "BSD 3-Clause License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "hito-mail",
            "package_url": "https://pypi.org/project/hito-mail/",
            "platform": null,
            "project_url": "https://pypi.org/project/hito-mail/",
            "project_urls": {
                "Bug Tracker": "https://gitlab.in2p3.fr/hito/mail_tools/-/issues",
                "Homepage": "https://gitlab.in2p3.fr/hito/mail_tools"
            },
            "release_url": "https://pypi.org/project/hito-mail/22.11/",
            "requires_dist": [
                "hito-tools (>=22.11)",
                "pexpect",
                "pyyaml",
                "unidecode"
            ],
            "requires_python": ">=3.8",
            "summary": "Gestion de listes d'email Zimbra ou LISTSERV \u00e0 partir de Hito",
            "version": "22.11",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15790974,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e10689a4a570a2ebb7bdf89cff938dd0",
                    "sha256": "fdf049f2e9b2a57566945e3068290bbac4cf0302b226d9af9c5a2a298cb3caba"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e10689a4a570a2ebb7bdf89cff938dd0",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 29061,
                "upload_time": "2022-11-16T16:29:30",
                "upload_time_iso_8601": "2022-11-16T16:29:30.708684Z",
                "url": "https://files.pythonhosted.org/packages/bd/2c/c2ac139676fe19d986786163b3801fae3dddfa3e263fbce527d9e1b33978/hito_mail-22.11-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "3ca1434b61f1a7927a0971da7b35986f",
                    "sha256": "b60de0384dd9b1b209c0bbf326b3081326043734260b64a3eeb8dcc82b1746ee"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11.tar.gz",
                "has_sig": false,
                "md5_digest": "3ca1434b61f1a7927a0971da7b35986f",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 32327,
                "upload_time": "2022-11-16T16:29:32",
                "upload_time_iso_8601": "2022-11-16T16:29:32.070251Z",
                "url": "https://files.pythonhosted.org/packages/33/15/3cafb5a42bb5f77a110de514e722e4e9e61b1c494e5a8ba861c5f9b962e2/hito_mail-22.11.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "22.11a2": {
        "info": {
            "author": "",
            "author_email": "Michel Jouvin <michel.jouvin@ijclab.in2p3.fr>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "BSD 3-Clause License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "hito-mail",
            "package_url": "https://pypi.org/project/hito-mail/",
            "platform": null,
            "project_url": "https://pypi.org/project/hito-mail/",
            "project_urls": {
                "Bug Tracker": "https://gitlab.in2p3.fr/hito/mail_tools/-/issues",
                "Homepage": "https://gitlab.in2p3.fr/hito/mail_tools"
            },
            "release_url": "https://pypi.org/project/hito-mail/22.11a2/",
            "requires_dist": [
                "hito-tools (>=22.11)",
                "pexpect",
                "pyyaml",
                "unidecode"
            ],
            "requires_python": ">=3.8",
            "summary": "Gestion de listes d'email Zimbra ou LISTSERV \u00e0 partir de Hito",
            "version": "22.11a2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15790974,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "fd6f2e9626206984670ea98de1c4b45f",
                    "sha256": "840005b6a2c03fe9ca8944fcb711794563cca83b2cbc604548751dfc5e17cba2"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11a2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "fd6f2e9626206984670ea98de1c4b45f",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 29072,
                "upload_time": "2022-11-16T14:29:13",
                "upload_time_iso_8601": "2022-11-16T14:29:13.579561Z",
                "url": "https://files.pythonhosted.org/packages/bb/30/b22b2234d0d1bb78298bc6c40ec2dffa5dc8b6cc09be6e78ed7603037f40/hito_mail-22.11a2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "b958167683c2dd35772c85208fc0e5f5",
                    "sha256": "7130b2663982907a3eabef73c5bb557365adfcbc9df55deafd73fcc99cb87e2d"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11a2.tar.gz",
                "has_sig": false,
                "md5_digest": "b958167683c2dd35772c85208fc0e5f5",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 32269,
                "upload_time": "2022-11-16T14:29:15",
                "upload_time_iso_8601": "2022-11-16T14:29:15.072833Z",
                "url": "https://files.pythonhosted.org/packages/2c/be/5d498313e0564f0e78dfdb9fd4f1583e54c01714333a63560a4e96481f12/hito_mail-22.11a2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "22.11a3": {
        "info": {
            "author": "",
            "author_email": "Michel Jouvin <michel.jouvin@ijclab.in2p3.fr>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "BSD 3-Clause License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "hito-mail",
            "package_url": "https://pypi.org/project/hito-mail/",
            "platform": null,
            "project_url": "https://pypi.org/project/hito-mail/",
            "project_urls": {
                "Bug Tracker": "https://gitlab.in2p3.fr/hito/mail_tools/-/issues",
                "Homepage": "https://gitlab.in2p3.fr/hito/mail_tools"
            },
            "release_url": "https://pypi.org/project/hito-mail/22.11a3/",
            "requires_dist": [
                "hito-tools (>=22.11)",
                "pexpect",
                "pyyaml",
                "unidecode"
            ],
            "requires_python": ">=3.8",
            "summary": "Gestion de listes d'email Zimbra ou LISTSERV \u00e0 partir de Hito",
            "version": "22.11a3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15790974,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "800df1de11d964d154dd52ef54b93e8f",
                    "sha256": "af5a6df9be6d683dfa065bef0c253cbeeedafd09037b869b0801fba3e40fe0ac"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11a3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "800df1de11d964d154dd52ef54b93e8f",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 29080,
                "upload_time": "2022-11-16T15:43:33",
                "upload_time_iso_8601": "2022-11-16T15:43:33.894681Z",
                "url": "https://files.pythonhosted.org/packages/66/15/a092be59ea0cecac11820946100d95effca533b8b8a49da94f07916c599a/hito_mail-22.11a3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "7be55c2626629a4e2daaccdb7dc0b7bd",
                    "sha256": "2fda87fdc6fdee981a78e91b4fd6bdfa00e904e1b019b81a034ef075011025cd"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11a3.tar.gz",
                "has_sig": false,
                "md5_digest": "7be55c2626629a4e2daaccdb7dc0b7bd",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 32296,
                "upload_time": "2022-11-16T15:43:35",
                "upload_time_iso_8601": "2022-11-16T15:43:35.849572Z",
                "url": "https://files.pythonhosted.org/packages/22/cf/a900770b13f431bb9627bcde3f77e4c5ac73559a356e3a0141ee07d4309a/hito_mail-22.11a3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "22.11a4": {
        "info": {
            "author": "",
            "author_email": "Michel Jouvin <michel.jouvin@ijclab.in2p3.fr>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "# hito_mail: gestion des listes Zimbra et LISTSERV\n\nCe module contient des scripts pour cr\u00e9er et mettre \u00e0 jour les listes Zimbra et LISTSERV associ\u00e9es au laboratoire\net \u00e0 ses diff\u00e9rentes entit\u00e9s (pole, d\u00e9partement, service...), \u00e0 partir des informations contenues dans Hito.\n\nPour tous les scripts indiqu\u00e9s ci-dessous, il y a une option `--help` qui permet de connaitre la liste des\noptions et param\u00e8tres du script.\n\n## Installation\n\nLe d\u00e9ploiement du module `hito_mail` n\u00e9cessite le d\u00e9ploiement d'un environnement Python, de pr\u00e9f\u00e9rence distinct\nde ce qui est d\u00e9livr\u00e9 par l'OS car cela pose de gros probl\u00e8mes avec les pr\u00e9requis sur les versions\ndes d\u00e9pendances. Les environnements recommand\u00e9s sont [pyenv](https://github.com/pyenv/pyenv),\n[poetry](https://python-poetry.org) ou [Anaconda](https://www.anaconda.com/products/individual).\nPour la cr\u00e9ation d'un environnement virtuel avec Conda, voir la\n[documentation sp\u00e9cifique](https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#creating-an-environment-with-commands).\n\nPour installer le module `hito_mail`, il faut utiliser les commandes suivantes :\n\n```bash\npip install hito_mail\n```\n\n## hito2lists\n\nCette commande permet de produire les commandes pour cr\u00e9er et mettre \u00e0 jour des listes Zimbra ou LISTSERV \u00e0 partir de la base Hito\n(base RH). L'information Hito doit \u00eatre export\u00e9e dans un CSV (utf-8) avec au moins les 4 colonnes suivantes : nom,\npr\u00e9nom, email, service. Le service doit \u00eatre au format `pole - equipe - service` (interpr\u00e9t\u00e9 comme 3 niveaux hi\u00e9rarchiques)\nsi le param\u00e8tre de configuration `hito_team_format` est `True` ou doit \u00eatre dans 3 colonnes diff\u00e9rentes si\n`hito_team_format` est `False`. \n\n\n`hito2lists` permet de g\u00e9rer 2 types de liste :\n\n- Les listes bas\u00e9es sur l'affectation des personnes dans Hito. Ce sont les listes g\u00e9n\u00e9r\u00e9es par d\u00e9faut. En plus de la\ncr\u00e9ation des listes, il est possible de cr\u00e9er un fichier contenant la liste des listes cr\u00e9\u00e9es, au format HTML, CSV ou\ntexte suivant l'extension (respectivement `.html`, `.csv` or something else).\n- Une ou plusieurs listes avec l'ensemble du personnel pr\u00e9sent dans Hito, ind\u00e9pendamment de son affectation. Ce sont\nles listes g\u00e9n\u00e9r\u00e9es lorsque l'option `--personnel` est sp\u00e9cifi\u00e9e. Dans ce mode, le nom de la liste \u00e0 g\u00e9n\u00e9rer peut \u00eatre sp\u00e9cifi\u00e9\navec l'option `--list-name` ou bien \u00eatre d\u00e9finie dans le fichier de configuration (dans ce cas, on peut g\u00e9n\u00e9rer plusieurs listes).\nIl est aussi possible de donner une liste de personne qui doivent \u00eatre exclues de la liste du personnel, \u00e0 travers un CSV\nsp\u00e9cifique sp\u00e9cifi\u00e9 avec l'option `--exclude-list` (la seule colonne obligatoire est l'email).\n\nL'option `--output` est requise sauf si l'option `--execute` est pr\u00e9sente : c'est le fichier produit par `hito2lists` \ndans le format sp\u00e9cifi\u00e9 par `--format`. Le\nformat par d\u00e9faut est `zimbra` pour les listes issues de Hito et `listserv` pour les listes de l'ensemble du personnel. Il\nest aussi possible de g\u00e9n\u00e9rer une liste de participant Limesurvey avec le format `limesurvey`. \n\nL'option `--execute` est support\u00e9e avec les formats `zimbra` et `listserv`. Au lien de produire un fichier avec les commandes\n\u00e0 ex\u00e9cuter pour mettre les listes \u00e0 jour, les commandes sont directement ex\u00e9cut\u00e9es sur le serveur Zimbra (voir la section\n`zimbra` du fichier de configuration) ou LISTSERV (voir la section `listserv` du fichier de configuration).\n\n### Update et reset mode\n\nPar d\u00e9faut, `hito2lists` g\u00e9n\u00e9re les commandes n\u00e9cessaires pour mettre \u00e0 jour les listes (listes associ\u00e9es aux \u00e9quipes ou listes\nde tout le personnel). Cela inclut :\n\n- Ajouter les nouveaux membres dans les listes existantes ou les nouvelles listes\n- Retirer les membres qui ne font plus partie d'une liste\n- Supprimer les listes qui n'existent plus (pour celles associ\u00e9es aux \u00e9quipes uniquement)\n\nPar d\u00e9faut, le ficher CSV doit se trouver dans un repository Git. Si on utilise l'option `--git-commit`, la version\npr\u00e9c\u00e9dente du CSV est r\u00e9cup\u00e9r\u00e9 dans le commit indiqu\u00e9 (par son ID/hash). En l'absence de cette option, si le fichier CSV\na \u00e9t\u00e9 modifi\u00e9 depuis le dernier commit, la version pr\u00e9c\u00e9dente est r\u00e9cup\u00e9r\u00e9e dans le dernier commit. Si le fichier n'a\npas \u00e9t\u00e9 modifi\u00e9, la version pr\u00e9c\u00e9dente est recherch\u00e9e dans l'historique Git (premier commit ant\u00e9rieur modificant le\nfichier CSV). Il est aussi possible d'utiliser l'option `--previous` \npour indiquer le fichier correspondant \u00e0 une version ant\u00e9rieure du CSV au lieu d'utiliser Git. \n\nLa mise \u00e0 jour respecte les informations se trouvant \u00e9ventuellement dans le fichier sp\u00e9cifi\u00e9 par `--additional-lists`, soit :\n\n- Les personnes devant \u00eatre ajout\u00e9es dans les listes bien que les informations Hito ne le sp\u00e9cifient pas\n- Les personnes qui ont demand\u00e9 \u00e0 \u00eatre retir\u00e9es d'une liste auxquelles elles devraient appartenir d'apr\u00e8s les informations\nextraites de Hito\n\nPour cette raison, les personnes ajout\u00e9es via `--additional-lists` sont syst\u00e9matiquement r\u00e9ajout\u00e9es dans la mise \u00e0 jour.\n\nLe seul cas qui ne peut pas \u00eatre g\u00e9r\u00e9 par le script et demande une action manuelle est celui de personnes ayant demand\u00e9\n\u00e0 \u00eatre retir\u00e9es d'une liste puis demandant \u00e0 y \u00eatre r\u00e9int\u00e9gr\u00e9es (suppression du opt-out du fichier sp\u00e9cifi\u00e9 par \n`--additional-lists`).\n\nPour reg\u00e9n\u00e9rer le contenu des listes, il faut utiliser l'option `--reset-lists`. Dans ce cas, il\nest possible de sp\u00e9cifier une ou des listes \u00e0 regen\u00e9rer avec l'option `--list-pattern`. La valeur\nsp\u00e9cifi\u00e9 est interpr\u00e9t\u00e9e comme une regex appliqu\u00e9e au nom des listes : celles qui ne correspondent\npas sont ignor\u00e9es. Par exemple, `--list-pattern ing-` reg\u00e9nerera toutes les listes qui\ncommencent par `-ing-` (et ignorera donc `ingenierie`).\n\n**Remarque: \u00e0 casue de limitation dans l'interface d'administration Zimbra, l'option \n`--reset-lists` ne supprime pas les membres actuels de la liste avant d'ajouter les membres\nissus de Hito ce qui peut laisser des membres qui devraient \u00eatre supprim\u00e9s. Pour faire un\nreset complet, il faut utiliser `zmprov` pour supprimer les membres courants (sans d\u00e9truire la\nliste qui peut \u00eatre membre d'autres listes) puis ex\u00e9cuter `hito2lists --reset-lists`. Pour supprimer\nles membres d'une liste, utiliser une commande telle que:**\n\n```bash\n# D\u00e9finir la variable listes avec les noms de liste appropri\u00e9es\nlistes='ing-informatique ing-mecanique'\nfor liste in ${listes}; do l_email=${liste}@ijclab.in2p3.fr;  echo Removing members from ${l_email}; zmprov rdlm ${l_email} $(zmprov gdl ${l_email} |grep zimbraMailForwardingAddress |awk -F\": \" '{print $2 }'); done\n```\n\n### Ajout/retrait de personnes dans une liste\n\nLe fichier sp\u00e9cifi\u00e9 par `--additional-lists` permet de d\u00e9finir des emails qui doivent \u00eatre ajout\u00e9s ou supprim\u00e9s des listes\nissues de Hito. Il y a un param\u00e8tre sp\u00e9cifique pour ajouter/ou enlever une liste issue des groupes d\u00e9finies dans Hito \n(`--lists` et `--lists-optout`) et\npour ajouter/enlever une personne de la liste de l'ensemble du personnel (`--personnel-lists` et `--personnel-lists-optout`) \nafin de d\u00e9tecter plus facilement les erreurs de\nconfiguration mais le fonctionnement est le m\u00eame dans les deux cas. Les personnes ajout\u00e9es n'ont pas besoin d'\u00eatre d\u00e9clar\u00e9es \ndans Hito. Les listes sp\u00e9cifi\u00e9es pour les ajouts doivent exister. Le format du fichier sp\u00e9cifi\u00e9 par `--additional-lists` \nest :\n\n```\n\"email1\":\n  lists:\n    - list1\n    - list2\n  lists-optout:\n    - list3\n    - list 4\n   personnel-lists-optout:\n    - ijclab-forum-l\n\n\"email2\":\n  lists:\n    - Anotherlist1\n    - list2\n\n\"email3\":\n  personnel-lists:\n    - ijclab-personnels-l\n```\n\n### Fichier de configuration\n\nLe fichier de configuration par d\u00e9faut est `hito2lists.cfg`. Un autre fichier peut \u00eatre sp\u00e9cifi\u00e9 avec l'option `--config`.\nCe fichier peut contenir les param\u00e8tres suivants :\n\n```\nteams:\n  aliases:\n    fullname: alias\n    fullname2: alias2\n\n  reserved_names:\n    - reserved1\n    - reserved2\n\n  short_names:\n    long_team_name1: short_name\n    long_team_name2: short_name2\n\n  sublist_disabled:\n    - team1\n    - team2\n\n# List the list to produce with all the persons in the input CSV\ngeneral_lists:\n  format: listserv\n  lists:\n    - ijclab-personnels-l\n    - ijclab-forum-l\n\n# Nom des colonnes dans le fichier CSV produit \u00e0 partir de Hito\ncsv_columns:\n  hito_team_format: True\n  names:\n    name: \"Nom\"\n    givenname: \"Pr\u00e9nom\"\n    email: \"email\"\n    service: \"\u00c9quipe\"\n\n# Nom de la colonne email dans le fichier sp\u00e9cifi\u00e9 par --exclude-list\nexclusion_list:\n  columns:\n    email: \"E_MAIL\"\n\n# Paramaters to connect to Zimbra for updating the lists\nzimbra:\n  server: zimbra.dom.ain\n  port: port_number\n  user: zimbra_admin_user\n  password: zimbra_admin_pwd (empty string if a SSH key is used)\n  ssh_key_path: path to the SSK (private) key to use\n  command: 'zimbra administration commmand'\n\nlistserv:\n  smtp_relay: smtp.dom.ain\n  # server is the management email for the LISTSERV service\n  server: listserv@dom.ain\n  # Subject of emails sent to LISTSERV (date/time will be appended) - Optional\n  mail_subject: LISTSERV update from Hito\n  # Email of the list owner to use to manage the lists (must be registered as a list owner on LISTSERV)\n  admin_email: list-mgrs@dom.ain\n  # List maangement password if any. Must be the same for all the lists managed by the script.\n  admin_password: LISTERV_pwd\n```\n\nLes valeurs de `csv_columns` indiqu\u00e9es sont les valeurs typiques pour un export depuis Hito. Si le fichier est g\u00e9n\u00e9r\u00e9\nautrement et contient 3 colonnes, il faut indiquer des valeurs telles que :\n\n```\ncsv_columns:\n  hito_team_format: False\n  names:\n    name: \"NOM_USUEL\"\n    givenname: \"PRENOM\"\n    email: \"E_MAIL\"\n    pole: \"POLE\"\n    equipe: \"DEPARTEMENT\"\n    service: \"SERVICE\"(base)\n```\n\nPour les param\u00e8tres relatifs au service Zimbra et LISTSERV, voir le fichier d'exemple de configuration fournit\navec le module.\n\n## hito_export\n\n`hito_export` permet de faire l'export des donn\u00e9es de Hito sous la forme d'un fichier CSV compatible\navec `hito2lists` et `hito2nsip` puis de les ex\u00e9cuter pour mettre \u00e0 jour respectivement les \nlistes Zimbra et/ou LISTSERV et l'annuaire (NSIP). Cette commande\nest con\u00e7ue pour \u00eatre mise dans un cron afin de faire une mise \u00e0 jour r\u00e9guli\u00e8re des listes construites \u00e0 partir d'Hito.\nLes principales fonctionnalit\u00e9s sont :\n\n* R\u00e9cup\u00e9ration des donn\u00e9es Hito dans un fichier CSV faisant partie d'un repository Git. Si une version pr\u00e9c\u00e9dente du\nfichier CSV existe avec des modifications non enregistr\u00e9es dans Git, le script refuse de faire un nouvel export.\n* Si le nouveau fichier CSV contient des modifications par rapport \u00e0 la version pr\u00e9c\u00e9dente (d\u00e9tect\u00e9es via Git), ex\u00e9cution\nde `hito2lists --execute` pour mettre \u00e0 jour les listes sur le serveur Zimbra et/ou LISTSERV \u00e0 partir des modifications depuis la\nversion pr\u00e9c\u00e9dente du fichier CSV puis ex\u00e9cution de `hito2nsip --execute` pour mettre \u00e0 jour l'annuaire\n* Si la mise \u00e0 jour se d\u00e9roule sans erreur, commit de la nouvelle version du fichier CSV et \u00e9ventuellement push\ndu commit sur un Git remote.\n* Si la mise \u00e0 jour produit une erreur, suppression de la nouvelle version du fichier CSV\n\n```bash\nusage: hito_export.py [-h] [--config CONFIG] [--no-push] [--verbose]\n\noptional arguments:\n  -h, --help       show this help message and exit\n  --config CONFIG  Configuration file (D: zimbra-lists\\hito_export.cfg)\n  --no-push        Git push of a new CSV disabled\n  --verbose        Print debugging messsages\n```\n\nLa principale option est `--config` qui sp\u00e9cifie le fichier de configuration \u00e0 utiliser. If `--verbose` est pr\u00e9sent, il est\npass\u00e9 \u00e0 `hito2lists`. `--no-push` supprime le Git push apr\u00e8s le commit de la nouvelle version du fichier CSV, m\u00eame s'il\nest activ\u00e9 dans le fichier de configuration : cette option ne doit normalement \u00eatre utilis\u00e9e que lors des tests pour \nsimplifier l'effacement des actions qui ont eu lieu pendant les tests.\n\nCette commande est g\u00e9n\u00e9ralement ex\u00e9cut\u00e9e en cron avec une entr\u00e9e similaire \u00e0 :\n\n```\n00 19 * * * root ( date --iso-8601=seconds; /path/to/anaconda/envs/hito2zimbra/bin/python /path/to/hito_export.py --verbose --config /path/to/hito_export.cfg) >> /var/log/hito_lists_update.log 2>&1\n```\n\n### Configuration file\n\n`hito_export` **requiert** un fichier de configuration pour d\u00e9finir l'acc\u00e8s \u00e0 la database Hito et les param\u00e8tres\n\u00e0 utiliser avec `hito2lists`. Par d\u00e9faut le nom du fichier est `hito_export.cfg` et il doit se trouver soit dans\nle r\u00e9pertoire contenant le fichier CSV, soit dans le r\u00e9pertoire o\u00f9 se trouve `hito_export.cfg`. Voir l'exemple\nfourni dans le module pour plus de d\u00e9tails.\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "BSD 3-Clause License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "hito-mail",
            "package_url": "https://pypi.org/project/hito-mail/",
            "platform": null,
            "project_url": "https://pypi.org/project/hito-mail/",
            "project_urls": {
                "Bug Tracker": "https://gitlab.in2p3.fr/hito/mail_tools/-/issues",
                "Homepage": "https://gitlab.in2p3.fr/hito/mail_tools"
            },
            "release_url": "https://pypi.org/project/hito-mail/22.11a4/",
            "requires_dist": [
                "hito-tools (>=22.11)",
                "pexpect",
                "pyyaml",
                "unidecode"
            ],
            "requires_python": ">=3.8",
            "summary": "Gestion de listes d'email Zimbra ou LISTSERV \u00e0 partir de Hito",
            "version": "22.11a4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15790974,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "eece83fc2e52e258b4a2aa744d12f4f6",
                    "sha256": "aca661e5bc93314a33117808142907a4638158fc8ae37fdf803aafec280f5249"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11a4-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "eece83fc2e52e258b4a2aa744d12f4f6",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 29081,
                "upload_time": "2022-11-16T15:50:49",
                "upload_time_iso_8601": "2022-11-16T15:50:49.994225Z",
                "url": "https://files.pythonhosted.org/packages/11/f2/abe912fb3dbc27d7ee5b4838b964e6e5a533845fbf0017902c5e36ac16f9/hito_mail-22.11a4-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "28db7b067a696412291e6e60d9201b16",
                    "sha256": "656ed8aec1f4f92ee8f4c04baf26b4a8221a0c164f0a386334bfd59f8808d103"
                },
                "downloads": -1,
                "filename": "hito_mail-22.11a4.tar.gz",
                "has_sig": false,
                "md5_digest": "28db7b067a696412291e6e60d9201b16",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 32300,
                "upload_time": "2022-11-16T15:50:51",
                "upload_time_iso_8601": "2022-11-16T15:50:51.806075Z",
                "url": "https://files.pythonhosted.org/packages/d6/d1/1657c1688e3571ec9f28146d279c650149c1037ade046f4060ef5a44eb19/hito_mail-22.11a4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}