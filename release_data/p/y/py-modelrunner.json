{
    "0.1": {
        "info": {
            "author": "David Zwicker",
            "author_email": "david.zwicker@ds.mpg.de",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering",
                "Topic :: Utilities"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "https://github.com/zwicker-group/py-modelrunner/archive/v0.1.tar.gz",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/zwicker-group/py-modelrunner",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py-modelrunner",
            "package_url": "https://pypi.org/project/py-modelrunner/",
            "platform": null,
            "project_url": "https://pypi.org/project/py-modelrunner/",
            "project_urls": {
                "Download": "https://github.com/zwicker-group/py-modelrunner/archive/v0.1.tar.gz",
                "Homepage": "https://github.com/zwicker-group/py-modelrunner"
            },
            "release_url": "https://pypi.org/project/py-modelrunner/0.1/",
            "requires_dist": [
                "numpy (>=1.18.0)",
                "tqdm (>=4.45)"
            ],
            "requires_python": ">=3.8",
            "summary": "Python classes for organizing (HPC) simulations",
            "version": "0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15734154,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e8e82bf744e4930ffbd00c01e17c8f71",
                    "sha256": "d46f981169553dc3ae44d8f36c3c4aae0ef348258415d7d59a0a5ef65a13162c"
                },
                "downloads": -1,
                "filename": "py_modelrunner-0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e8e82bf744e4930ffbd00c01e17c8f71",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 29851,
                "upload_time": "2022-09-29T09:01:32",
                "upload_time_iso_8601": "2022-09-29T09:01:32.834333Z",
                "url": "https://files.pythonhosted.org/packages/53/18/fda071e769d100d90951e245e03e3d40252ac8fec8e275b9a2c5f70fa3e4/py_modelrunner-0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "c389a7d3f89ec94a811401dd47fafd96",
                    "sha256": "7374b34c6f7378765a0604aa24a01eb309cfe1e91656383de71287b938fc1d00"
                },
                "downloads": -1,
                "filename": "py-modelrunner-0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "c389a7d3f89ec94a811401dd47fafd96",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 35781,
                "upload_time": "2022-09-29T09:07:37",
                "upload_time_iso_8601": "2022-09-29T09:07:37.853497Z",
                "url": "https://files.pythonhosted.org/packages/1d/c7/2ab8161bf0062a74d946770c59a2b0c04a146c76ecf5dd7eac256106bc82/py-modelrunner-0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2": {
        "info": {
            "author": "David Zwicker",
            "author_email": "david.zwicker@ds.mpg.de",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering",
                "Topic :: Utilities"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "https://github.com/zwicker-group/py-modelrunner/archive/v0.2.tar.gz",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/zwicker-group/py-modelrunner",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py-modelrunner",
            "package_url": "https://pypi.org/project/py-modelrunner/",
            "platform": null,
            "project_url": "https://pypi.org/project/py-modelrunner/",
            "project_urls": {
                "Download": "https://github.com/zwicker-group/py-modelrunner/archive/v0.2.tar.gz",
                "Homepage": "https://github.com/zwicker-group/py-modelrunner"
            },
            "release_url": "https://pypi.org/project/py-modelrunner/0.2/",
            "requires_dist": [
                "jinja2 (>=2.7)",
                "h5py (>=3.5)",
                "numpy (>=1.18.0)",
                "pandas (>=1.3)",
                "PyYAML (>=5)",
                "tqdm (>=4.45)"
            ],
            "requires_python": ">=3.8",
            "summary": "Python classes for organizing (HPC) simulations",
            "version": "0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15734154,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8220d390d99faa4b62fa4a3a3ed18ef5",
                    "sha256": "743952f2beaac3d052e96c64546d31583e5f85e55ce3483f4dba857af6629c1c"
                },
                "downloads": -1,
                "filename": "py_modelrunner-0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "8220d390d99faa4b62fa4a3a3ed18ef5",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 29975,
                "upload_time": "2022-09-30T06:29:54",
                "upload_time_iso_8601": "2022-09-30T06:29:54.565129Z",
                "url": "https://files.pythonhosted.org/packages/d3/32/7283d7774863ee2f4b55e272e36c8fe81525fe2f930414466808b447c498/py_modelrunner-0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "70d21cf0a81c5dbe187cde4247e88bb9",
                    "sha256": "3b6a387664b6f65fb2ba62e32581f8522d76c34f5a5cdd9cfef84cdeb3ae72ee"
                },
                "downloads": -1,
                "filename": "py-modelrunner-0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "70d21cf0a81c5dbe187cde4247e88bb9",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 28008,
                "upload_time": "2022-09-30T06:29:56",
                "upload_time_iso_8601": "2022-09-30T06:29:56.307457Z",
                "url": "https://files.pythonhosted.org/packages/74/5b/da1568eb1914493fcb9c83399f1f532ca42302c64a2432b08b2ff2638aef/py-modelrunner-0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.3": {
        "info": {
            "author": "David Zwicker",
            "author_email": "david.zwicker@ds.mpg.de",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering",
                "Topic :: Utilities"
            ],
            "description": "# py-modelrunner\n\n\n[![Build status](https://github.com/zwicker-group/py-modelrunner/workflows/build/badge.svg)](https://github.com/zwicker-group/py-modelrunner/actions?query=workflow%3Abuild)\n[![Documentation Status](https://readthedocs.org/projects/py-modelrunner/badge/?version=latest)](https://py-modelrunner.readthedocs.io/en/latest/?badge=latest)\n[![PyPI version](https://badge.fury.io/py/py-modelrunner.svg)](https://badge.fury.io/py/py-modelrunner)\n[![Conda Version](https://img.shields.io/conda/vn/conda-forge/py-modelrunner.svg)](https://anaconda.org/conda-forge/py-modelrunner)\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)\n[![codecov](https://codecov.io/gh/zwicker-group/py-modelrunner/branch/main/graph/badge.svg)](https://codecov.io/gh/zwicker-group/py-modelrunner)\n[![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/zwicker-group/py-modelrunner.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/zwicker-group/py-modelrunner/context:python)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n\n\n\nThis package provides python classes for handling and running physical simulations.\nThe main aim is to easily wrap simulation code and deal with input and output automatically.\nThe package also facilitates submitting simulations to high performance computing\nenvironments and it provides functions for running parameter scans.\n\n\nInstallation\n============\nThe package can simply be cloned from github, but it is also available on `pip` and `conda`:\n\n```bash\npip install py-modelrunner\n```\n\nUsage\n=====\n\nThis package has multiple purposes that are described in more detail below. Additional\nexamples can be found in the `examples` folder.\n\nMinimal example\n---------------\nAssume you have written a python simulation in form of a simple script that defines a\nfunction with several arguments, like so\n\n```python\ndef main(a: float = 1, b: int = 2, negate: bool = False):\n    res = a ** b\n    if negate:\n    \tres *= -1\n    return res\n```\n\nThe `modelrunner` package now allows you to wrap a convenient command line interface\naround this simple function. Assuming the script is saved in a file called `script.py`,\ncalling `python -m modelrunner script.py -h` shows the follwing help\n\n```\nusage: test.py [-h] [--a VALUE] [--b VALUE] [--negate] [--json JSON] [-o PATH]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --json JSON           JSON-encoded parameter values. Overwrites other parameters. (default: None)\n  -o PATH, --output PATH\n                        Path to output file. If omitted, no output file is created. (default: None)\n\n  --a VALUE             Parameter `a` (default: 1)\n  --b VALUE             Parameter `b` (default: 2)\n  --negate              Parameter `negate` (default: False)\n```\n\nConsequently, the function can be called using `python -m modelrunner script.py --a 2 --b 3 --negate -o result.yaml`,\nwhich produces a file `result.yaml` with the following content:\n\n```yaml\ninfo:\n  time: # TIMESTAMP\nmodel:\n  class: main\n  description: null\n  name: main\n  parameters:\n    a: 2.0\n    b: 3\n    negate: true\nresult: -8.0\n```\n\nThis file not only contains the result, but also metainformation including the\nparameters to run the simulation and the time when it was started.\n\n\nCreating models\n---------------\nThe package introduces a base class `ModelBase` that describes the bare structure all\nmodels are supposed to have.\nCustom models can be created by inheriting from `ModelBase` and defining suitable\nparameters:\n\n```python\nfrom modelrunner import ModelBase\n\nclass MyModel(ModelBase):  # define custom model\n\n    # defines supported parameters with default values\n    parameters_default = {\"a\": 1, \"b\": 2}\n\n    def __call__(self):\n        \"\"\"calculate the actual model\"\"\"\n        return self.parameters[\"a\"] * self.parameters[\"b\"]\n\n\nmodel = MyModel({\"a\" : 3})\n```\n\nThe last line actually creates an instance of the model with custom parameters.\n\nAlternatively, a model can also be defined from a simple function:\n\n```python\nfrom modelrunner import make_model\n\n@make_model\ndef multiply(a=1, b=2):\n    return a * b\n\nmodel = multiply(a=3)\n```\n\nThe main aim of defining models like this is to provide a unified interface for\nrunning models for the subsequent sections.\n\n\nRun models from command line\n----------------------------\n\nModels can be run with different parameters. In both examples shown above, the model\ncan be run from within the python code by simply calling the model instance: `model()`.\nIn the cases shown above, these calls will simply return `6`.\n\nIn typical numerical simulations, models need to be evaluated for many different\nparameters. The packages facilitates this by providing a special interface to set\narguments from the command line. To show this, either one of the model definitions\ngiven above can be saved as a python file `model.py`. Using the special call\n`python -m modelrunner model.py` provides a command line interface for adjusting model parameters.\nThe supported parameters can be obtained with the following command\n\n```console\n$ python -m modelrunner model.py --help\n\nusage: model.py [-h] [--a VALUE] [--b VALUE] [-o PATH] [--json JSON]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -o PATH, --output PATH\n                        Path to output file. If omitted, no output file is created. (default: None)\n  --json JSON           JSON-encoded parameter values. Overwrites other parameters. (default: None)\n\n  --a VALUE             Parameter `a` (default: 1)\n  --b VALUE             Parameter `b` (default: 2)\n```\n\nThis can be helpful to call a model automatically and save the result. For instance, by\ncalling `python -m modelrunner model.py -h --a 3 -o result.yaml`, we obtain a file `result.yaml` that\nlooks something like this:\n\n```yaml\nmodel:\n  class: multiply\n  name: multiply\n  parameters:\n    a: 3\n    b: 2\nresult: 6\n```\n\nOther supported output formats include JSON (extension `.json`) and HDF (extension `.hdf`).\n\n\nSubmit models to an HPC queue\n-----------------------------\nThe package also provides methods to submit scripts to an high performance compute (HPC)\nsystem. \nA simple full script displaying this reads\n\n```python\nfrom modelrunner import make_model, submit_job\n\n@make_model\ndef multiply(a=1, b=2):\n    return a * b\n\nif __name__ == \"__main__\":\n    submit_job(__file__, parameters={'a': 2}, output=\"data.hdf5\", method=\"local\")\n```\nHere, the `output` argument specifies a file to which the results are written, while\n`method` chooses how the script is submitted.\n\nIn particular, this method allows submitting the same script with multiple different\nparameters to conduct a parameter study:\n\n```python\nfrom modelrunner import make_model, submit_job\n\n@make_model\ndef multiply(a=1, b=2):\n    return a * b\n\nif __name__ == \"__main__\":\n    for a in range(5):\n        submit_job(__file__, parameters={'a': a}, output=f\"data_{a}.hdf5\", method=\"local\")\n```\n\nNote that the safe-guard `if __name__ == \"__main__\"` is absolutely crucial to ensure that\njobs are only submitted during the initial run and not when the file is imported again\nwhen the actual jobs start. It is also important to choose unique file names for the\n`output` flag since otherwise different jobs overwrite each others data.\n\nWe also support submitting multiple jobs of a parameter study:\n\n```python\nfrom modelrunner import make_model, submit_jobs\n\n@make_model\ndef multiply(a=1, b=2):\n    return a * b\n\nif __name__ == \"__main__\":\n    submit_jobs(__file__, parameters={'a': range(5)}, output_folder=\"data\", method=\"local\")\n```\n\nFinally, the packages also offers a method to submit a model script to the cluster using\na simple command: `python3 -m modelrunner.run script.py`. This command also offers multiple options\nthat can be adjusted using command line arguments:\n\n```\nusage: python -m modelrunner.run [-h] [-n NAME] [-p JSON] [-o PATH] [-f] [-m METHOD] [-t PATH] script\n\nRun a script as a job\n\npositional arguments:\n  script                The script that should be run\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -n NAME, --name NAME  Name of job\n  -p JSON, --parameters JSON\n                        JSON-encoded dictionary of parameters for the model\n  -o PATH, --output PATH\n                        Path to output file\n  -f, --force           Overwrite data if it already exists\n  -m METHOD, --method METHOD\n                        Method for job submission\n  -t PATH, --template PATH\n                        Path to template file for submission script\n```\n\nCollating results\n-----------------\nFinally, the package also provides some rudimentary support for collection results from\nmany different simulations that have been run in parallel. In particular, the class\n`ResultCollection` provides a class method `from_folder` to scan a folder for result files.\nFor instance, the data from the multiple jobs ran above can be collected using\n\n```python\nfrom modelrunner import ResultCollection\n\nresults = ResultCollection.from_folder(\".\", pattern=\"data_*.hdf5\")\nprint(results.dataframe)\n```\n\nThis example should print all results using a pandas Dataframe, where each row\ncorresponds to a separate simulation.\n\n\nDevelopment\n===========\nThe package is in an early phase and breaking changes are thus likely.\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "https://github.com/zwicker-group/py-modelrunner/archive/v0.3.tar.gz",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/zwicker-group/py-modelrunner",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py-modelrunner",
            "package_url": "https://pypi.org/project/py-modelrunner/",
            "platform": null,
            "project_url": "https://pypi.org/project/py-modelrunner/",
            "project_urls": {
                "Download": "https://github.com/zwicker-group/py-modelrunner/archive/v0.3.tar.gz",
                "Homepage": "https://github.com/zwicker-group/py-modelrunner"
            },
            "release_url": "https://pypi.org/project/py-modelrunner/0.3/",
            "requires_dist": [
                "jinja2 (>=2.7)",
                "h5py (>=3.5)",
                "numpy (>=1.18.0)",
                "pandas (>=1.3)",
                "PyYAML (>=5)",
                "tqdm (>=4.45)"
            ],
            "requires_python": ">=3.8",
            "summary": "Python classes for organizing (HPC) simulations",
            "version": "0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15734154,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "d18788f482f94a867705502da454c5fe",
                    "sha256": "bff95f2cb74c6881eef9f6b2994d8ba83f14cb6a8f913a86951dbeb4da2d6615"
                },
                "downloads": -1,
                "filename": "py_modelrunner-0.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "d18788f482f94a867705502da454c5fe",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 31147,
                "upload_time": "2022-11-11T10:12:16",
                "upload_time_iso_8601": "2022-11-11T10:12:16.796105Z",
                "url": "https://files.pythonhosted.org/packages/0d/61/8a89cb61345c0843195ec0d4b7e9f7b71edcb6b442898168d98cc4b65313/py_modelrunner-0.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "d5f833f78c4f33bd54c34f662c41b8b9",
                    "sha256": "e3c03478a539049e6826df84572061f01869730d23efd3202c30573c58b82037"
                },
                "downloads": -1,
                "filename": "py-modelrunner-0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "d5f833f78c4f33bd54c34f662c41b8b9",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 29838,
                "upload_time": "2022-11-11T10:12:18",
                "upload_time_iso_8601": "2022-11-11T10:12:18.336394Z",
                "url": "https://files.pythonhosted.org/packages/b3/fa/7a28eaca2ede0ccc4b7aec84f38aeaa677497ff7bde1f72648904b5aabac/py-modelrunner-0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}