{
    "0.0.1": {
        "info": {
            "author": "RobotSlacker",
            "author_email": "184902652@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/robotslacker/testcli.git",
            "keywords": "test command sql api",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "robotslacker-testcli",
            "package_url": "https://pypi.org/project/robotslacker-testcli/",
            "platform": "any",
            "project_url": "https://pypi.org/project/robotslacker-testcli/",
            "project_urls": {
                "Homepage": "https://github.com/robotslacker/testcli.git"
            },
            "release_url": "https://pypi.org/project/robotslacker-testcli/0.0.1/",
            "requires_dist": [
                "JPype1",
                "setproctitle",
                "urllib3",
                "click",
                "prompt-toolkit",
                "paramiko",
                "antlr4-python3-runtime"
            ],
            "requires_python": ">=3.6",
            "summary": "Test Command tool",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15916960,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e41e9e0b24987f30e4115241a6031c2b",
                    "sha256": "a9c38ccb9dd0409dd22f9ad4de6618d3d671f64bc10b5b3dcad77ea345b6f02f"
                },
                "downloads": -1,
                "filename": "robotslacker_testcli-0.0.1-py2.py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e41e9e0b24987f30e4115241a6031c2b",
                "packagetype": "bdist_wheel",
                "python_version": "py2.py3",
                "requires_python": ">=3.6",
                "size": 144535,
                "upload_time": "2022-11-27T13:32:02",
                "upload_time_iso_8601": "2022-11-27T13:32:02.657133Z",
                "url": "https://files.pythonhosted.org/packages/7f/18/38b30c31620ddca5ccd4b8a1545df07f1fbf9bb9de07b4d92337d6b85ed3/robotslacker_testcli-0.0.1-py2.py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "12785e79cf4ce7337eecf8d1e1ad18f1",
                    "sha256": "c9d9a93b24da0c9faf09349fdb48c61da2772483cebc38775cb704e37fde258c"
                },
                "downloads": -1,
                "filename": "robotslacker_testcli-0.0.1-py3.9.egg",
                "has_sig": false,
                "md5_digest": "12785e79cf4ce7337eecf8d1e1ad18f1",
                "packagetype": "bdist_egg",
                "python_version": "0.0.1",
                "requires_python": ">=3.6",
                "size": 266926,
                "upload_time": "2022-11-27T13:32:06",
                "upload_time_iso_8601": "2022-11-27T13:32:06.957148Z",
                "url": "https://files.pythonhosted.org/packages/6b/56/f32a311cf840c6c2ee722b9ee967a5dd227eb8fd7a52a76a56ba5c5bef3c/robotslacker_testcli-0.0.1-py3.9.egg",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "2792b22033deba3d6615935bdd3bee78",
                    "sha256": "95b7139e1a53157574054b9842752731e9e298e3552f0429d8fd9822ae6069b1"
                },
                "downloads": -1,
                "filename": "robotslacker-testcli-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "2792b22033deba3d6615935bdd3bee78",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 185330,
                "upload_time": "2022-11-27T13:32:04",
                "upload_time_iso_8601": "2022-11-27T13:32:04.821563Z",
                "url": "https://files.pythonhosted.org/packages/be/19/1831fb0914b650be7db7ebe85e825480ab38fc1c46472e52aad22d6cb572/robotslacker-testcli-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.2": {
        "info": {
            "author": "RobotSlacker",
            "author_email": "184902652@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# TestCli \u5feb\u901f\u8bf4\u660e\n\nTestCli \u662f\u4e00\u4e2a\u4e3b\u8981\u7528Python\u5b8c\u6210\u7684\uff0c\u547d\u4ee4\u5feb\u901f\u7684\u6d4b\u8bd5\u5de5\u5177\u3002  \n\u8bbe\u8ba1\u76ee\u7684\uff1a  \n    1\uff1a \u6ee1\u8db3\u6570\u636e\u5e93\u65b9\u9762\u7684\u76f8\u5173\u529f\u80fd\u6d4b\u8bd5\u3001\u538b\u529b\u6d4b\u8bd5\u9700\u8981\u3002  \n    2\uff1a \u6ee1\u8db3API\u65b9\u9762\u7684\u76f8\u5173\u529f\u80fd\u6d4b\u8bd5\u3001\u538b\u529b\u6d4b\u8bd5\u9700\u8981\u3002  \n    3\uff1a \u80fd\u591f\u4f5c\u4e3a\u4e00\u4e2a\u65e5\u5e38\u5c0f\u5de5\u5177\uff0c\u8fdb\u884c\u6570\u636e\u5e93\u7684\u65e5\u5e38\u64cd\u4f5c\u3002    \n    4\uff1a \u80fd\u591f\u6839\u636e\u9700\u8981\u5feb\u901f\u3001\u7075\u6d3b\u7684\u751f\u6210\u6d4b\u8bd5\u9700\u8981\u7684\u968f\u673a\u6570\u636e\u3002   \n    5\uff1a \u80fd\u591f\u64cd\u4f5cKafka\u6d88\u606f\u961f\u5217\u3002   \n    6\uff1a \u80fd\u591f\u64cd\u4f5cHDFS\u4e0a\u7684\u6587\u4ef6\u3002  \n    7\uff1a \u5b8c\u6210\u57fa\u4e8e\u6267\u884c\u7ed3\u679c\u6bd4\u5bf9\u7684\u56de\u5f52\u6d4b\u8bd5\u6821\u9a8c\u3002\n\n\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7JPype\u8fde\u63a5\u6570\u636e\u5e93\u7684JDBC\u9a71\u52a8\u3002      \n\nTestCli \u76ee\u524d\u53ef\u4ee5\u652f\u6301\u7684\u6570\u636e\u5e93\u6709\uff1a  \n   * Oracle,MySQL,PostgreSQL,SQLServer,TeraData, Hive, H2\u7b49\u4e3b\u6d41\u901a\u7528\u6570\u636e\u5e93  \n   * \u8fbe\u68a6\uff0c\u795e\u901a\uff0c \u91d1\u4ed3\uff0c \u5357\u5927\u901a\u7528\uff0cLinkoopDB, \u5feb\u7acb\u65b9\u7b49\u4f17\u591a\u56fd\u4ea7\u6570\u636e\u5e93  \n   * ClickHouse\u6570\u636e\u5e93      \n   * \u5176\u4ed6\u7b26\u5408\u6807\u51c6JDBC\u89c4\u8303\u7684\u6570\u636e\u5e93  \n   \nTestCli \u76ee\u524d\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u6709\uff1a\n```  \n    CHAR                                  ====>     str\n    VARCHAR                               ====>     str\n    LONGVARCHAR                           ====>     str\n    TIMESTAMP_WITH_TIMEZONE               ====>     datetime.datetime\n    TIMESTAMP                             ====>     datetime.datetime\n    TIME                                  ====>     datetime.time\n    DATE                                  ====>     datetime.date\n    BINARY                                ====>     bytearray  \n    VARBINARY                             ====>     bytearray\n    LONGVARBINARY                         ====>     bytearray\n    DECIMAL                               ====>     decimal.Decimal  \n    NUMERIC                               ====>     decimal.Decimal\n    DOUBLE                                ====>     decimal.Decimal\n    REAL                                  ====>     decimal.Decimal\n    FLOAT                                 ====>     float\n    TINYINT                               ====>     int\n    INTEGER                               ====>     int\n    SMALLINT                              ====>     int  \n    INTEGER                               ====>     int\n    BOOLEAN                               ====>     bool\n    BFILE                                 ====>     str \"bfilename(dirpath:filename)\"\n    BIGINT                                ====>     decimal.Decimal\n    BIT                                   ====>     decimal.Decimal\n    STRUCT                                ====>     tuple()\n    ARRAY                                 ====>     list()\n    CLOB                                  ====>     TestCliLargeObject.getData() ==> str\n    BLOB                                  ====>     TestCliLargeObject.getData() ==> bytearray\n```\n***\n\n### \u8c01\u9700\u8981\u4f7f\u7528\u8fd9\u4e2a\u5de5\u5177\n\n\u9700\u8981\u901a\u8fc7SQL\u8bed\u53e5\u6765\u67e5\u770b\u3001\u7ef4\u62a4\u6570\u636e\u5e93\u7684\u3002  \n\u9700\u8981\u901a\u8fc7API\u8bed\u53e5\u6765\u5b8c\u6210\u4e1a\u52a1\u7684\u3002  \n\u9700\u8981\u8fdb\u884c\u5404\u79cd\u6570\u636e\u5e93\u529f\u80fd\u6d4b\u8bd5\u3001\u538b\u529b\u6d4b\u8bd5\u7684\u3002  \n\u9700\u8981\u8fdb\u884c\u5404\u79cdAPI\u529f\u80fd\u6d4b\u8bd5\u3001\u538b\u529b\u6d4b\u8bd5\u7684\u3002  \n\u9700\u8981\u7528\u7edf\u4e00\u7684\u65b9\u5f0f\u6765\u8fde\u63a5\u5404\u79cd\u4e0d\u540c\u6570\u636e\u5e93\u7684\u3002  \n\u9700\u8981\u5728\u4e00\u4e2a\u6d4b\u8bd5\u7a0b\u5e8f\u5185\u90e8\u7ec4\u5408\u4f7f\u7528\u6570\u636e\u5e93\u8bf7\u6c42\u3001API\u8bf7\u6c42\u7684\u3002  \n\n\n### \u4e3a\u4ec0\u4e48\u8981\u8bbe\u8ba1\u8fd9\u4e2a\u5de5\u5177\n\u8fd9\u4e2a\u5de5\u5177\u7684\u5b58\u5728\u76ee\u7684\u4e0d\u662f\u4e3a\u4e86\u66ff\u4ee3\u5404\u79cd\u6570\u636e\u5e93\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5982Oracle\u7684SQLPlus\uff0cMYSQL\u7684mysql\u7b49  \n\u8fd9\u4e2a\u5de5\u5177\u7684\u5b58\u5728\u76ee\u7684\u4e0d\u662f\u4e3a\u4e86\u66ff\u4ee3PostMan\uff0cJMeter\u7b49\u6d4b\u8bd5\u5de5\u5177\u3002  \n\u8fd9\u4e2a\u5de5\u5177\u7684\u5b58\u5728\u76ee\u7684\u662f\u5728\u5c3d\u53ef\u80fd\u5730\u517c\u5bb9\u8fd9\u4e9b\u547d\u4ee4\u884c\u5de5\u5177\u7684\u540c\u65f6\u63d0\u4f9b\u6d4b\u8bd5\u5de5\u4f5c\u9700\u8981\u7684\u76f8\u5173\u7279\u6027\u3002    \n\u8fd9\u4e9b\u7279\u6027\u5305\u62ec\uff1a  \n1\uff1a\u5e76\u53d1\u811a\u672c\u7684\u652f\u6301\uff0c\u901a\u8fc7\u5728\u811a\u672c\u4e2d\u4f7f\u7528JOBManager\uff0c\u53ef\u4ee5\u540c\u65f6\u6267\u884c\u591a\u4e2a\u811a\u672c\uff0c\u540c\u65f6\u5229\u7528\u65f6\u95f4\u6233\u8fd8\u53ef\u4ee5\u540c\u6b65\u811a\u672c\u4e4b\u524d\u7684\u884c\u4e3a\u3002    \n2\uff1a\u4e00\u4e9binternal\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u5b8c\u6210\u6570\u636e\u5e93\u4e4b\u5916\u7684\u76f8\u5173\u64cd\u4f5c\u3002  \n\n\n***\n### \u5b89\u88c5\n\u5b89\u88c5\u7684\u524d\u63d0\u6709\uff1a\n   * \u6709\u4e00\u4e2aPython 3.6\u4ee5\u4e0a\u7684\u73af\u5883\n   * \u80fd\u591f\u8fde\u63a5\u5230\u4e92\u8054\u7f51\u4e0a\uff0c \u4fbf\u4e8e\u4e0b\u8f7d\u5fc5\u8981\u7684\u5305\n   * \u5b89\u88c5JDK8\u6216\u8005JDK11  \n   * \u5bf9\u4e8eWindows\u5e73\u53f0\uff0c\u9700\u8981\u63d0\u524d\u5b89\u88c5\u5fae\u8f6f\u7684C++\u7f16\u8bd1\u5668\uff08jpype1\u4f7f\u7528\u4e86JNI\u6280\u672f\uff0c\u9700\u8981\u52a8\u6001\u7f16\u8bd1\uff09  \n   * \u5bf9\u4e8eLinux\u5e73\u53f0\uff0c  \u9700\u8981\u63d0\u524d\u5b89\u88c5gcc\u7f16\u8bd1\u5668\uff0c\u4ee5\u53caPython3\u7684\u5f00\u53d1\u5305\uff08\u539f\u56e0\u540c\u4e0a\uff09  \n     yum install -y gcc-c++ gcc  \n     yum install python3<?>-devel(\u5728Anaconda\u73af\u5883\u4e0b\uff0c\u8fd9\u4e00\u6b65\u4e0d\u662f\u5fc5\u987b\u7684. ?\u662f\u5177\u4f53\u7684Python\u7248\u672c\uff0c\u6839\u636e\u81ea\u5df1\u7684\u73af\u5883\u51b3\u5b9a)\n   * \u5bf9\u4e8eMAC\u5e73\u53f0\uff0c  \u9700\u8981\u63d0\u524d\u5b89\u88c5gcc\u7f16\u8bd1\u5668    \n     brew install gcc  \n\n\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5b89\u88c5\u5305\uff1a  \n   * \u8fd9\u4e9b\u5b89\u88c5\u5305\u4f1a\u5728robotslacker-TestCli\u5b89\u88c5\u7684\u65f6\u5019\u81ea\u52a8\u968f\u5e26\u5b89\u88c5\n   * click                    : Python\u7684\u547d\u4ee4\u884c\u53c2\u6570\u5904\u7406\n   * hdfs                     : HDFS\u7c7b\u5e93\uff0c\u652f\u6301\u5bf9HDFS\u6587\u4ef6\u64cd\u4f5c\n   * JPype1                   : Python\u7684Java\u8bf7\u6c42\u5c01\u88c5\uff0c\u7528\u4e8e\u5b8c\u6210JDBC\u8bf7\u6c42\u8c03\u7528  \n   * paramiko                 : Python\u7684SSH\u534f\u8bae\u652f\u6301\uff0c\u7528\u4e8e\u5b8c\u6210\u8fdc\u7a0b\u4e3b\u673a\u64cd\u4f5c  \n   * prompt_toolkit           : \u7528\u4e8e\u63d0\u4f9b\u5305\u62ec\u63d0\u793a\u7b26\u529f\u80fd\u7684\u63a7\u5236\u53f0\u7ec8\u7aef\u7684\u663e\u793a\u6837\u5f0f\n   * setproctitle             : Python\u901a\u8fc7setproctitle\u6765\u8bbe\u7f6e\u8fdb\u7a0b\u540d\u79f0\uff0c\u4ece\u800c\u5728\u591a\u8fdb\u7a0b\u5e76\u53d1\u65f6\u5019\u7ed9\u8c03\u8bd5\u4eba\u5458\u4ee5\u5e2e\u52a9\n   * urllib3                  : HTTP\u5ba2\u6237\u7aef\u8bf7\u6c42\u64cd\u4f5c   \n\n   * antlr4-python3-runtime   : \u7f16\u8bd1\u9700\u8981\uff0c\u7528\u6765\u7f16\u8bd1\u751f\u6210Antlr4\u7684Python\u6587\u4ef6\n\n\u5229\u7528PIP\u6765\u5b89\u88c5\uff1a\n```\n   pip install -U robotslacker-testcli\n```\n\n\u5b89\u88c5\u540e\u6b65\u9aa4-\u66f4\u65b0\u9a71\u52a8\u7a0b\u5e8f\u914d\u7f6e\uff1a  \n   * \u6839\u636e\u4f60\u7684\u9700\u8981\uff0c \u653e\u7f6e\u81ea\u5df1\u7684jar\u5305\u5230 <PYTHON_HONE>/../site-packages/testcli/jlib\u4e0b\n   * github\u4e0a\u63d0\u4f9b\u7684\u4ec5\u4ec5\u662f\u4e00\u4e9b\u6d4b\u8bd5\u7528\u7684Jar\u5305\uff0c\u5982\u679c\u4f60\u6709\u81ea\u5df1\u7684\u9700\u8981\uff0c\u53ef\u4ee5\u7528\u81ea\u5df1\u7684\u6587\u4ef6\u8986\u76d6\u4e0a\u8ff0\u4e0b\u8f7d\u7684\u6587\u4ef6\n   * \u6839\u636e\u9700\u8981\u4fee\u6539testCli/conf/testCli.ini\u6587\u4ef6\uff1a  \n   * \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u9700\u8981\u4fee\u6539\n   * \u5982\u679c\u4f60\u9700\u8981\u5b9a\u4e49\u81ea\u5df1\u5185\u7f51\u7684\u9a71\u52a8\u7a0b\u5e8f\u4e0b\u8f7d\u670d\u52a1\u5668\uff0c\u4f60\u9700\u8981\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\n   * \u5982\u679c\u4f60\u9700\u8981\u5b9a\u4e49\u81ea\u5df1\u7684\u6570\u636e\u5e93\u9a71\u52a8\uff0c\u4f60\u9700\u8981\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\n   \n***\n\n### \u7b2c\u4e00\u6b21\u4f7f\u7528\n\u5b89\u88c5\u540e\u76f4\u63a5\u5728\u547d\u4ee4\u4e0b\u6267\u884cTestCli\u547d\u4ee4\u5373\u53ef\u3002  \n\u5982\u679c\u4f60\u7684<PYTHON_HOME>/Scripts\u6ca1\u6709\u88ab\u6dfb\u52a0\u5230\u5f53\u524d\u73af\u5883\u7684$PATH\u4e2d\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8f93\u5165\u5168\u8def\u5f84\u540d  \n```\n(base) >TestCli\nSQL*Cli Release 0.0.32\nSQL> \n```\n\u5982\u679c\u4f60\u8fd9\u91cc\u770b\u5230\u4e86\u7248\u672c\u4fe1\u606f\uff0c\u90a3\u795d\u8d3a\u4f60\uff0c\u4f60\u7684\u7a0b\u5e8f\u5b89\u88c5\u6210\u529f\u4e86\n\n```\n(base) >TestCli\nSQL*Cli Release 0.0.32\nSQL> connect mem;\nSQL> Connected.\n```\n\u5982\u679c\u4f60\u4e0b\u8f7d\u4e86\u81f3\u5c11H2\u7684\u9a71\u52a8\u7a0b\u5e8f\uff0c\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u5c06\u8fde\u63a5\u5230\u5185\u7f6e\u7684H2\u6570\u636e\u5e93\u4e2d\uff0c\u5982\u679c\u4f60\u770b\u5230\u4e86Connected\u4fe1\u606f\uff0c\u90a3\u518d\u4e00\u6b21\u795d\u8d3a\u4f60\uff0c\u4f60\u7684\u7a0b\u5e8f\u57fa\u672c\u5de5\u4f5c\u6b63\u5e38\u3002 \n\n***\n\n### \u9a71\u52a8\u7a0b\u5e8f\u7684\u4e0b\u8f7d\u548c\u914d\u7f6e\nTestCli\u662f\u4e00\u4e2a\u57fa\u4e8eJDBC/ODBC\u7684\u6570\u636e\u5e93\u5de5\u5177\uff0c\u57fa\u4e8eJDBC\u64cd\u4f5c\u6570\u636e\u5e93\u7684\u524d\u63d0\u5f53\u524d\u73af\u5883\u4e0b\u6709\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8fde\u63a5jar\u5305\uff0c\u57fa\u4e8eODBC\u524d\u63d0\u662f\u5b89\u88c5\u4e86\u76f8\u5173\u7684ODBC\u9a71\u52a8\u3002  \n#### \u9a71\u52a8\u7a0b\u5e8f\u7684\u914d\u7f6e\n\u914d\u7f6e\u6587\u4ef6\u4f4d\u4e8eTestCli\u7684\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684conf\u76ee\u5f55\u4e2d\uff0c\u914d\u7f6e\u6587\u4ef6\u540d\u4e3a:TestCli.conf  \n\u914d\u7f6e\u4f8b\u5b50:\n```\n[driver]\noracle=oracle_driver\nmysql=mysql_driver\n.... \n\n[oracle_driver]\nfilename=ojdbc8.jar\ndownloadurl=http://xxxxxx/driver/ojdbc8.jar\nmd5=1aa96cecf04433bc929fca57e417fd06\ndriver=oracle.jdbc.driver.OracleDriver\njdbcurl=jdbc:oracle:thin:@${host}:${port}/${service}\n\n[mysql_driver]\nfilename=mysql-connector-java-8.0.20.jar\ndownloadurl=http://xxxxx/driver/mysql-connector-java-8.0.20.jar\nmd5=48d69b9a82cbe275af9e45cb80f6b15f\ndriver=com.mysql.cj.jdbc.Driver\njdbcurl=jdbc:mysql://${host}:${port}/${service}\njdbcprop=socket_timeout:360000000\nodbcurl=DRIVER={driver_name};SERVER=${host};PORT=${port};DATABASE=${service};UID=${username};PWD=${password};\n```\n\n\u5982\u679c\u6570\u636e\u5e93\u8981\u65b0\u589e\u5176\u4ed6\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff0c\u5219\u5e94\u4eff\u6548\u4e0a\u8ff0\u914d\u7f6e\u4f8b\u5b50\u3002  \n\u5176\u4e2d\uff1a  \n* \u6240\u6709\u7684\u6570\u636e\u5e93\u540d\u79f0\u53ca\u914d\u7f6e\u9879\u540d\u79f0\u5747\u5e94\u8be5\u51fa\u73b0\u5728[driver]\u7684\u914d\u7f6e\u9879\u4e2d  \n  \u5982\u679c\u67d0\u4e00\u79cd\u6570\u636e\u5e93\u8fde\u63a5\u9700\u8981\u4e0d\u6b62\u4e00\u4e2ajar\u5305\uff0c\u5219\u8fd9\u91cc\u5e94\u8be5\u914d\u7f6e\u591a\u4e2a\u914d\u7f6e\u9879  \n  \u4f8b\u5982\uff1a   mydb=mydb1_driver1, mydb1_driver2\n* \u6570\u636e\u5e93\u7684\u5177\u4f53\u914d\u7f6e\u5e94\u8be5\u5728\u5177\u4f53\u7684\u914d\u7f6e\u9879\u4e2d  \n  filename\uff1a      \u53ef\u9009\u914d\u7f6e\u9879\uff0cjar\u5305\u5177\u4f53\u7684\u540d\u5b57  \n  driver:         \u53ef\u9009\u914d\u7f6e\u9879\uff0c\u6570\u636e\u5e93\u8fde\u63a5\u7684\u4e3b\u7c7b  \n  jdbcurl:        \u53ef\u9009\u914d\u7f6e\u9879\uff0cjdbc\u8fde\u63a5\u5b57\u7b26\u4e32\uff0c\u5176\u4e2d${host}${port}${service}\u5206\u522b\u8868\u793a\u6570\u636e\u5e93\u8fde\u63a5\u4e3b\u673a\uff0c\u7aef\u53e3\uff0c\u6570\u636e\u5e93\u540d\u79f0  \n  downloadurl\uff1a   \u53ef\u9009\u914d\u7f6e\u9879\uff0c\u82e5\u672c\u5730\u4e0d\u5b58\u5728\u8be5\u6587\u4ef6\uff0c\u5219\u6587\u4ef6\u4e0b\u8f7d\u9700\u8981\u7684\u8def\u5f84  \n  md5:            \u53ef\u9009\u914d\u7f6e\u9879\uff0c\u6587\u4ef6\u4e0b\u8f7d\u6821\u9a8cMD5    \n  jdbcprop:       \u53ef\u9009\u914d\u7f6e\u9879\uff0c\u82e5\u8be5\u6570\u636e\u5e93\u8fde\u63a5\u9700\u8981\u76f8\u5e94\u7684\u989d\u5916\u53c2\u6570\uff0c\u5219\u5728\u6b64\u5904\u914d\u7f6e\n  odbcurl:        \u53ef\u9009\u914d\u7f6e\u9879\uff0c\u82e5\u8be5\u6570\u636e\u5e93\u8fde\u9700\u8981\u901a\u8fc7ODBC\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u5219\u5728\u6b64\u5904\u914d\u7f6e      \n  jdbcurl\u548codbcurl\u4e24\u4e2a\u53c2\u6570\uff0c\u81f3\u5c11\u8981\u914d\u7f6e\u4e00\u4e2a\u3002\u82e5\u914d\u7f6ejdbcurl\uff0c\u5219jdbc\u5bf9\u5e94\u7684filename,driver\u4e5f\u9700\u8981\u914d\u7f6e  \n* \u57fa\u4e8e\u8fd9\u4e2a\u539f\u5219\uff0c\u6700\u7b80\u5316\u7684\u8fd0\u884c\u914d\u7f6e\u5e94\u8be5\u4e3a\uff1a  \n```\n[driver]\noracle=oracle_driver\nmysql=mysql_driver\n\n[oracle_driver]\nfilename=ojdbc8.jar\ndriver=oracle.jdbc.driver.OracleDriver\njdbcurl=jdbc:oracle:thin:@${host}:${port}/${service}\n\n[mysql_driver]\nfilename=mysql-connector-java-8.0.20.jar\ndriver=com.mysql.cj.jdbc.Driver\njdbcurl=jdbc:mysql://${host}:${port}/${service}\n```\n#### \u9a71\u52a8\u7a0b\u5e8f\u7684\u4e0b\u8f7d\n\u57fa\u4e8e\u4e0a\u8ff0\u53c2\u6570\u6587\u4ef6\u7684\u6b63\u786e\u914d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528--syncdriver\u7684\u65b9\u5f0f\u4ece\u670d\u52a1\u5668\u4e0a\u6765\u66f4\u65b0\u6570\u636e\u5e93\u8fde\u63a5\u9700\u8981\u7684jar\u5305  \n\u4f8b\u5b50\uff1a    \n```\n(base) C:\\Work\\linkoop\\TestCli>TestCli --syncdriver\nChecking driver [oracle] ...\nFile=[ojdbc8.jar], MD5=[1aa96cecf04433bc929fca57e417fd06]\nDriver [oracle_driver] is up-to-date.\nChecking driver [mysql] ...\nFile=[mysql-connector-java-8.0.20.jar], MD5=[48d69b9a82cbe275af9e45cb80f6b15f]\nDriver [mysql_driver] is up-to-date.\n```\n### \u7a0b\u5e8f\u7684\u547d\u4ee4\u884c\u53c2\u6570\n```\n(base) TestCli --help\nUsage: TestCli [OPTIONS]\n\nOptions:\n  --version       Output TestCli's version.\n  --logon TEXT    logon user name and password. user/pass\n  --logfile TEXT  Log every query and its results to a file.\n  --execute TEXT  Execute SQL script.\n  --nologo        Execute with silent mode.\n  --sqlperf TEXT  SQL performance Log.\n  --syncdriver    Download jdbc jar from file server.\n  --clientcharset TEXT  Set client charset. Default is UTF-8.\n  --resultcharset TEXT  Set result charset. Default is same to clientcharset.\n  --help          Show this message and exit.\n```  \n--version \u7528\u6765\u663e\u793a\u5f53\u524d\u5de5\u5177\u7684\u7248\u672c\u53f7\n```\n(base) TestCli --version\nVersion: 0.0.32\n```\n--logon  \u7528\u6765\u8f93\u5165\u8fde\u63a5\u6570\u636e\u7684\u7684\u7528\u6237\u540d\u548c\u53e3\u4ee4\n```\n(base) TestCli --logon user/pass\nVersion: 0.0.32\nDriver loaded.\nDatabase connected.\nSQL>\n\u5982\u679c\u7528\u6237\u3001\u53e3\u4ee4\u6b63\u786e\uff0c\u4e14\u76f8\u5173\u73af\u5883\u914d\u7f6e\u6b63\u5e38\uff0c\u4f60\u5e94\u8be5\u770b\u5230\u5982\u4e0a\u4fe1\u606f\u3002\n\nuser/pass : \u6570\u636e\u5e93\u8fde\u63a5\u7684\u7528\u6237\u540d\u548c\u53e3\u4ee4  \n\n\u6210\u529f\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u7684\u524d\u63d0\u662f\u4f60\u5df2\u7ecf\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e\u4e86\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5fc5\u8981\u4fe1\u606f\u3002  \n\u8fd9\u91cc\u7684\u5fc5\u8981\u4fe1\u606f\u5305\u62ec\uff1a\n\u73af\u5883\u53d8\u91cf\uff1a  TestCli_CONNECTION_URL  \n\u53c2\u6570\u683c\u5f0f\uff1a  jdbc:[\u6570\u636e\u5e93\u7c7b\u578b]:[\u6570\u636e\u5e93\u901a\u8baf\u534f\u8bae]://[\u6570\u636e\u5e93\u4e3b\u673a\u5730\u5740]:[\u6570\u636e\u5e93\u7aef\u53e3\u53f7]/[\u6570\u636e\u5e93\u670d\u52a1\u540d]  \n```\n--logfile   \u7528\u6765\u8bb0\u5f55\u672c\u6b21\u547d\u4ee4\u884c\u64cd\u4f5c\u7684\u6240\u6709\u8fc7\u7a0b\u4fe1\u606f  \n\u8fd9\u91cc\u7684\u64cd\u4f5c\u8fc7\u7a0b\u4fe1\u606f\u5305\u542b\u4f60\u968f\u540e\u5728\u547d\u4ee4\u884c\u91cc\u5934\u7684\u6240\u6709\u8f93\u51fa\u4fe1\u606f\u3002  \n\u5982\u679c\u4f60\u5728\u968f\u540e\u7684\u547d\u4ee4\u884c\u91cc\u5934\u8bbe\u7f6e\u4e86SET ECHO ON\uff0c\u90a3\u4e48\u8bb0\u5f55\u91cc\u5934\u8fd8\u5305\u62ec\u4e86\u4f60\u6240\u6709\u6267\u884c\u7684SQL\u8bed\u53e5\u539f\u4fe1\u606f  \n\u6587\u4ef6\u8f93\u51fa\u7684\u5b57\u7b26\u96c6\u5c06\u6839\u636e\u53c2\u6570resultcharset\u4e2d\u7684\u8bbe\u7f6e\u6765\u786e\u5b9a    \n```\n(base) TestCli --logon user/pass --logfile test.log\nVersion: 0.0.32\nDriver loaded.\nDatabase connected.\nset echo on\nselect * from test_tab;\n+----+----------+\n| ID | COL2     |\n+----+----------+\n| 1  | XYXYXYXY |\n| 1  | XYXYXYXY |\n+----+----------+\nSQL> exit\nDisconnected.\n\n(base) type test.log\nDriver loaded.\nDatabase connected.\nSQL> select * from test_tab;\n\n+----+----------+\n| ID | COL2     |\n+----+----------+\n| 1  | XYXYXYXY |\n| 1  | XYXYXYXY |\n+----+----------+\n2 rows selected.\nSQL> exit\nDisconnected.\n```\n--execute \u5728TestCli\u542f\u52a8\u540e\u6267\u884c\u7279\u5b9a\u7684SQL\u811a\u672c  \n\u4e3a\u4e86\u80fd\u591f\u6279\u5904\u7406\u4e00\u4e9bSQL\u8bed\u53e5\uff0c\u6211\u4eec\u901a\u5e38\u5c06\u8fd9\u6279SQL\u8bed\u53e5\u4fdd\u5b58\u5728\u4e00\u4e2a\u7279\u5b9a\u7684\u6587\u4ef6\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u7684\u4e60\u60ef\u540e\u7f00\u662f.sql  \n\u901a\u8fc7execute\u53c2\u6570\uff0c\u53ef\u4ee5\u8ba9TestCli\u6765\u6267\u884c\u8fd9\u4e2a\u811a\u672c\uff0c\u800c\u4e0d\u518d\u9700\u8981\u6211\u4eec\u4e00\u884c\u4e00\u884c\u7684\u5728\u63a7\u5236\u53f0\u8f93\u5165  \n\u811a\u672c\u5b57\u7b26\u96c6\u5c06\u6839\u636e\u53c2\u6570clientcharset\u4e2d\u7684\u8bbe\u7f6e\u6765\u786e\u5b9a\n```\n(base) type test.sql\nselect * from test_tab;\n\n(base) TestCli --logon user/pass --execute test.sql\nVersion: 0.0.32\nDriver loaded.\nDatabase connected.\nset echo on\nselect * from test_tab;\n+----+----------+\n| ID | COL2     |\n+----+----------+\n| 1  | XYXYXYXY |\n| 1  | XYXYXYXY |\n+----+----------+\nSQL> exit\nDisconnected.\n\u6ce8\u610f\uff1a \u5373\u4f7f\u4f60\u7684SQL\u811a\u672c\u4e2d\u4e0d\u5305\u542bExit\u8bed\u53e5\uff0c\u5728TestCli\u6267\u884c\u5b8c\u5f53\u524d\u811a\u672c\u540e\uff0c\u4ed6\u4e5f\u4f1a\u81ea\u52a8\u6267\u884cexit\u8bed\u53e5\n\u5982\u679cSQL\u811a\u672c\u4e2d\u4e0d\u5305\u542b\u6570\u636e\u5e93\u9a71\u52a8\u52a0\u8f7d\u6216\u8005\u6570\u636e\u5e93\u8fde\u63a5\u8bed\u53e5\uff0c\u8bf7\u5728\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u524d\u8bbe\u7f6e\u597d\u76f8\u5e94\u7684\u73af\u5883\u53d8\u91cf\u4fe1\u606f\n```\n--nologo    \u8fd9\u662f\u4e00\u4e2a\u9009\u9879\uff0c\u7528\u6765\u63a7\u5236TestCli\u662f\u5426\u4f1a\u5728\u8fde\u63a5\u7684\u65f6\u5019\u663e\u793a\u5f53\u524d\u7684\u7a0b\u5e8f\u7248\u672c\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL>   \n\u533a\u522b\uff1a\n(base) TestCli --nologo\nSQL>\n```\n--sqlperf  \u8f93\u51faSQL\u8fd0\u884c\u65e5\u5fd7  \n\u8fd9\u91cc\u7684\u8fd0\u884c\u65e5\u5fd7\u4e0d\u662f\u6307\u7a0b\u5e8f\u7684logfile\uff0c\u800c\u662f\u7528CSV\u6587\u4ef6\u8bb0\u5f55\u7684SQL\u65e5\u5fd7\uff0c  \n\u8fd9\u4e9b\u65e5\u5fd7\u5c06\u4f5c\u4e3a\u540e\u7eed\u5bf9SQL\u8fd0\u884c\u884c\u4e3a\u7684\u4e00\u79cd\u5206\u6790  \n\u8fd0\u884c\u65e5\u5fd7\u5171\u5305\u62ec\u5982\u4e0b\u4fe1\u606f\uff1a  \n1\u3001Script       \u8fd0\u884c\u7684\u811a\u672c\u540d\u79f0  \n2\u3001StartedTime  SQL\u8fd0\u884c\u5f00\u59cb\u65f6\u95f4\uff0c\u683c\u5f0f\u662f\uff1a%Y-%m-%d %H:%M:%S    \n3\u3001elapsed      SQL\u8fd0\u884c\u7684\u6d88\u8017\u65f6\u95f4\uff0c\u8fd9\u91cc\u7684\u5355\u4f4d\u662f\u79d2\uff0c\u7cbe\u786e\u4e24\u4f4d\u5c0f\u6570        \n4\u3001RAWCommand   \u539f\u59cb\u7684Command\u4fe1\u606f   \n4\u3001Command      \u8fd0\u884c\u7684\u547d\u4ee4\uff0c\u6ce8\u610f\uff1a\u8fd9\u91cc\u53ef\u80fd\u548cRAWCommand\u4e0d\u540c\uff0c\u4e0d\u540c\u7684\u539f\u56e0\u662f\u547d\u4ee4\u53ef\u80fd\u4f1a\u88ab\u91cd\u5199\u89c4\u5219\u6539\u5199    \n5\u3001SQLStatus    SQL\u8fd0\u884c\u7ed3\u679c\uff0c0\u8868\u793a\u8fd0\u884c\u6b63\u5e38\u7ed3\u675f\uff0c1\u8868\u793a\u8fd0\u884c\u9519\u8bef    \n6\u3001ErrorMessage \u9519\u8bef\u65e5\u5fd7\uff0c\u5728SQLStatus\u4e3a1\u7684\u65f6\u5019\u624d\u6709\u610f\u4e49    \n7\u3001Scenario     \u7a0b\u5e8f\u573a\u666f\u540d\u79f0\uff0c\u8fd9\u91cc\u7684\u5185\u5bb9\u662f\u901a\u8fc7\u5728SQL\u6587\u4ef6\u4e2d\u6307\u5b9a-- [Hint] Scenario:name\u7684\u65b9\u5f0f\u6765\u6807\u8bb0\u7684Scenario\u4fe1\u606f  \n\u8bf4\u660e\uff1a\u4e0a\u8ff0\u4fe1\u606f\u90fd\u6709TAB\u5206\u9694\uff0c\u5176\u4e2d\u5b57\u7b26\u4fe1\u606f\u7528\u5355\u5f15\u53f7\u5305\u62ec\uff0c\u5982\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a  \n```\nScript  Started elapsed SQLPrefix       SQLStatus       ErrorMessage    Scenario\nsub_1.sql 2020-05-25 17:46:23       0.00        loaddriver localtest\\linkoopdb-jdbc-2.3.      0             Scenario1\nsub_1.sql 2020-05-25 17:46:23       0.28        connect admin/123456  0             Scenario1\nsub_1.sql 2020-05-25 17:46:24       0.00        SET ECHO ON   0             Scenario1\nsub_1.sql 2020-05-25 17:46:24       0.00        SET TIMING ON 0             Scenario2\nsub_1.sql 2020-05-25 17:46:24       0.01        LOADCOMMANDMAP stresstest 0             Scenario2\nsub_1.sql 2020-05-25 17:46:24       0.92        ANALYZE TRUNCATE STATISTICS   0             Scenario3\nsub_1.sql 2020-05-25 17:46:25       0.02        SELECT count(SESSION_ID)  FROM INFORMATI      0             Scenario3\nsub_1.sql 2020-05-25 17:46:25       1.37        drop user testuser if exists cascade  0             Scenario3\nsub_1.sql 2020-05-25 17:46:26       0.54        CREATE USER testuser PASSWORD 123456        0             Scenario3\n```\n***\n### \u5728TestCli\u91cc\u9762\u67e5\u770b\u5f53\u524d\u652f\u6301\u7684\u547d\u4ee4\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> help\n+--------------+-----------------------------------------------------+\n| Command      | Description                                         |\n+--------------+-----------------------------------------------------+\n| __internal__ | \u6267\u884c\u5185\u90e8\u64cd\u4f5c\u547d\u4ee4\uff1a                                  |\n| __internal__ |     __internal__ hdfs          HDFS\u6587\u4ef6\u64cd\u4f5c         |\n| __internal__ |     __internal__ kafka         kafka\u961f\u5217\u64cd\u4f5c        |\n| __internal__ |     __internal__ data          \u968f\u673a\u6d4b\u8bd5\u6570\u636e\u7ba1\u7406     |\n| __internal__ |     __internal__ test          \u6d4b\u8bd5\u7ba1\u7406             |\n| __internal__ |     __internal__ job           \u540e\u53f0\u5e76\u53d1\u6d4b\u8bd5\u4efb\u52a1\u7ba1\u7406 |\n| __internal__ |     __internal__ transaction   \u540e\u53f0\u5e76\u53d1\u6d4b\u8bd5\u4e8b\u52a1\u7ba1\u7406 |\n| connect      | \u8fde\u63a5\u5230\u6307\u5b9a\u7684\u6570\u636e\u5e93                                  |\n| disconnect   | \u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5                                      |\n| echo         | \u56de\u663e\u8f93\u5165\u5230\u6307\u5b9a\u7684\u6587\u4ef6                                |\n| exit         | \u6b63\u5e38\u9000\u51fa\u5f53\u524d\u5e94\u7528\u7a0b\u5e8f                                |\n| help         | Show this help.                                     |\n| host         | \u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4                                    |\n| loaddriver   | \u52a0\u8f7d\u6570\u636e\u5e93\u9a71\u52a8\u6587\u4ef6                                  |\n| loadcommandMap   | \u52a0\u8f7dSQL\u6620\u5c04\u6587\u4ef6                                     |\n| quit         | Quit.                                               |\n| session      | \u6570\u636e\u5e93\u8fde\u63a5\u4f1a\u8bdd\u7ba1\u7406                                  |\n| set          | \u8bbe\u7f6e\u8fd0\u884c\u65f6\u9009\u9879                                      |\n| sleep        | \u7a0b\u5e8f\u4f11\u7720(\u5355\u4f4d\u662f\u79d2)                                  |\n| spool        | \u5c06\u8f93\u51fa\u6253\u5370\u5230\u6307\u5b9a\u6587\u4ef6                                |\n| start        | \u6267\u884c\u6307\u5b9a\u7684\u6d4b\u8bd5\u811a\u672c                                  |\n+--------------+-----------------------------------------------------+\n\u8fd9\u91cc\u663e\u793a\u7684\u662f\u6240\u6709\u9664\u4e86\u6807\u51c6SQL\u8bed\u53e5\u5916\uff0c\u53ef\u4ee5\u88ab\u6267\u884c\u7684\u5404\u79cd\u547d\u4ee4\u5f00\u5934\u3002\n\u6807\u51c6\u7684SQL\u8bed\u53e5\u5e76\u6ca1\u6709\u5728\u8fd9\u91cc\u663e\u793a\u51fa\u6765\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u63a7\u5236\u884c\u5185\u6216\u8005\u811a\u672c\u91cc\u5934\u6267\u884cSQL\u811a\u672c\u3002\n```\n\n***\n### \u8fde\u63a5\u6570\u636e\u5e93\n\u5728TestCli\u547d\u4ee4\u884c\u91cc\u5934\uff0c\u53ef\u4ee5\u901a\u8fc7connect\u547d\u4ee4\u6765\u8fde\u63a5\u5230\u5177\u4f53\u7684\u6570\u636e\u5e93\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> connect user/pass@jdbc:[\u6570\u636e\u5e93\u7c7b\u578b]:[\u6570\u636e\u5e93\u901a\u8baf\u534f\u8bae]://[\u6570\u636e\u5e93\u4e3b\u673a\u5730\u5740]:[\u6570\u636e\u5e93\u7aef\u53e3\u53f7]/[\u6570\u636e\u5e93\u670d\u52a1\u540d] \nDatabase connected.\nSQL> \n\u80fd\u591f\u6210\u529f\u6267\u884cconnect\u7684\u524d\u63d0\u662f\uff1a \u6570\u636e\u5e93\u9a71\u52a8\u5df2\u7ecf\u653e\u7f6e\u5230jlib\u4e0b\uff0c\u5e76\u4e14\u5728conf\u4e2d\u6b63\u786e\u914d\u7f6e\n\n\u5982\u679c\u5df2\u7ecf\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u6307\u5b9a\u4e86TestCli_CONNECTION_URL\uff0c\u8fde\u63a5\u53ef\u4ee5\u7b80\u5316\u4e3a\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> connect user/pass\nDatabase connected.\nSQL> \n\n\u5728\u6570\u636e\u5e93\u7b2c\u4e00\u6b21\u8fde\u63a5\u540e\uff0c\u7b2c\u4e8c\u6b21\u4ee5\u53ca\u4ee5\u540e\u7684\u8fde\u63a5\u53ef\u4ee5\u4e0d\u518d\u8f93\u5165\u8fde\u63a5\u5b57\u7b26\u4e32\uff0c\u7a0b\u5e8f\u4f1a\u9ed8\u8ba4\u4f7f\u7528\u4e0a\u4e00\u6b21\u5df2\u7ecf\u4f7f\u7528\u8fc7\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\u4fe1\u606f\uff0c\u6bd4\u5982\uff1a\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> connect user/pass@jdbc:[\u6570\u636e\u5e93\u7c7b\u578b]:[\u6570\u636e\u5e93\u901a\u8baf\u534f\u8bae]://[\u6570\u636e\u5e93\u4e3b\u673a\u5730\u5740]:[\u6570\u636e\u5e93\u7aef\u53e3\u53f7]/[\u6570\u636e\u5e93\u670d\u52a1\u540d] \nDatabase connected.\nSQL> connect user2/pass2\nDatabase connected.\nSQL> \n\n\u5e38\u89c1\u6570\u636e\u5e93\u7684\u8fde\u63a5\u65b9\u5f0f\u793a\u4f8b\uff1a\nH2:\n    connnet mem\nORACLE:\n    connect username/password@jdbc:oracle:tcp://IP:Port/Service_Name\nMYSQL:\n    connect username/password@jdbc:mysql:tcp://IP:Port/Service_Name\nPostgreSQL\uff1a\n    connect username/password@jdbc:postgresql:tcp://IP:Port/Service_Name\nSQLServer\uff1a\n    connect username/password@jdbc:sqlserver:tcp://IP:Port/DatabaseName\nTeraData\uff1a\n    connect username/password@jdbc:teradata:tcp://IP/DatabaseName\nHive:\n    connect hive/hive@jdbc:hive2://IP:Port/DatabaseName\nClickHouse:\n\tconnect default/\"\"@jdbc:clickhouse:tcp://IP:Port/DatabaseName\nLinkoopDB:\n    connect username/password@jdbc:linkoopdb:tcp://IP:Port/Service_Name\n```\n\n### \u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> connect user/pass@jdbc:[\u6570\u636e\u5e93\u7c7b\u578b]:[\u6570\u636e\u5e93\u901a\u8baf\u534f\u8bae]://[\u6570\u636e\u5e93\u4e3b\u673a\u5730\u5740]:[\u6570\u636e\u5e93\u7aef\u53e3\u53f7]/[\u6570\u636e\u5e93\u670d\u52a1\u540d] \nDatabase connected.\nSQL> disconnect\nDatabase disconnected.\n```\n***\n\n### \u4f1a\u8bdd\u7684\u5207\u6362\u548c\u4fdd\u5b58\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> connect user/pass@jdbc:[\u6570\u636e\u5e93\u7c7b\u578b]:[\u6570\u636e\u5e93\u901a\u8baf\u534f\u8bae]://[\u6570\u636e\u5e93\u4e3b\u673a\u5730\u5740]:[\u6570\u636e\u5e93\u7aef\u53e3\u53f7]/[\u6570\u636e\u5e93\u670d\u52a1\u540d] \nDatabase connected.\nSQL> session save sesssion1\nSession saved.\n# \u8fd9\u91cc\u4f1a\u628a\u5f53\u524d\u4f1a\u8bdd\u4fe1\u606f\u4fdd\u5b58\u5230\u540d\u5b57\u4e3asession1\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0csession1\u4e3a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u540d\u5b57\n# \u6ce8\u610f\uff1a\u8fd9\u91cc\u5e76\u4e0d\u4f1a\u65ad\u5f00\u7a0b\u5e8f\u7684Session1\u8fde\u63a5\uff0c\u5f53Restore\u7684\u65f6\u5019\u4e5f\u4e0d\u4f1a\u91cd\u65b0\u8fde\u63a5\nSQL> connect user/pass@jdbc:[\u6570\u636e\u5e93\u7c7b\u578b]:[\u6570\u636e\u5e93\u901a\u8baf\u534f\u8bae]://[\u6570\u636e\u5e93\u4e3b\u673a\u5730\u5740]:[\u6570\u636e\u5e93\u7aef\u53e3\u53f7]/[\u6570\u636e\u5e93\u670d\u52a1\u540d]\nDatabase connected.\n# \u8fde\u63a5\u5230\u7b2c\u4e00\u4e2a\u4f1a\u8bdd\nSQL> session save sesssion2\nSession saved.\n# \u8fd9\u91cc\u4f1a\u628a\u5f53\u524d\u4f1a\u8bdd\u4fe1\u606f\u4fdd\u5b58\u5230\u540d\u5b57\u4e3asession2\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0csession2\u4e3a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u540d\u5b57\n# \u6ce8\u610f\uff1a\u8fd9\u91cc\u5e76\u4e0d\u4f1a\u65ad\u5f00\u7a0b\u5e8f\u7684Session2\u8fde\u63a5\uff0c\u5f53Restore\u7684\u65f6\u5019\u4e5f\u4e0d\u4f1a\u91cd\u65b0\u8fde\u63a5\nSQL> session show\n+---------------+-----------+-----------------------------------------------+\n| Sesssion Name | User Name | URL                                           |\n+---------------+-----------+-----------------------------------------------+\n| session1      | xxxxx     | jdbc:xxxxx:xxx://xxx.xxx.xxx.xxx/xxxx         |\n| session2      | yyyyy     | jdbc:yyyy:xxx://xxx.xxx.xxx.xxx/yyyyy         |         \n+---------------+-----------+-----------------------------------------------+\n# \u663e\u793a\u5f53\u524d\u4fdd\u5b58\u7684\u6240\u6709\u4f1a\u8bdd\u4fe1\u606f\n\nSQL> session restore sesssion1\nSession stored.\n# \u8fd9\u91cc\u5c06\u6062\u590d\u5f53\u524d\u6570\u636e\u5e93\u8fde\u63a5\u4e3a\u4e4b\u524d\u7684\u4f1a\u8bdd1\n\nSQL> session restore sesssion2\nSession stored.\n# \u8fd9\u91cc\u5c06\u6062\u590d\u5f53\u524d\u6570\u636e\u5e93\u8fde\u63a5\u4e3a\u4e4b\u524d\u7684\u4f1a\u8bdd2\n\nSQL> session saveurl sesssion3\nSession saved.\n# \u8fd9\u91cc\u4f1a\u628a\u5f53\u524d\u4f1a\u8bdd\u4fe1\u606f\u7684URL\u4fdd\u5b58\u5230\u540d\u5b57\u4e3asession3\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0csession3\u4e3a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u540d\u5b57\n# \u6ce8\u610f\uff1a\u8fd9\u91cc\u5e76\u4e0d\u4f1a\u4fdd\u6301\u7a0b\u5e8f\u7684Session3\u8fde\u63a5\uff0c\u4ec5\u4ec5\u8bb0\u5f55\u4e86URL\u4fe1\u606f\uff0c\u5f53Restore\u7684\u65f6\u5019\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u91cd\u65b0\u8fde\u63a5\n\nSQL> session release sesssion3\nSession released.\n# \u8fd9\u91cc\u5c06\u91ca\u653e\u4e4b\u524d\u4fdd\u5b58\u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u548c\u9488\u5bf9\u5177\u4f53\u4e00\u4e2a\u8fde\u63a5\u7684DisConnect\u7c7b\u4f3c\n```\n***\n\n### \u4ece\u811a\u672c\u4e2d\u6267\u884cSQL\u8bed\u53e5\n\u6211\u4eec\u53ef\u4ee5\u628a\u8bed\u53e5\u4fdd\u5b58\u5728\u4e00\u4e2aSQL\u6587\u4ef6\u4e2d\uff0c\u5e76\u901a\u8fc7\u6267\u884cSQL\u6587\u4ef6\u7684\u65b9\u5f0f\u6765\u6267\u884c\u5177\u4f53\u7684SQL  \n\u8bed\u6cd5\u683c\u5f0f\u4e3a\uff1a\n```\n    start [script1.sql] [script2.sql] .... [loop $nlooptime]\n```\n\u4f8b\u5982\uff1a\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> start aa.api\nSQL> ....\nSQL> disconnect\n\u8fd9\u91cc\u5c06\u6267\u884caa.sql\n\u5982\u679c\u6709\u591a\u4e2a\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f9d\u6b21\u586b\u5199\uff0c\u5982SQL> start aa.api bb.sql ....\n\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> start aa.api loop 10\nSQL> ....\nSQL> disconnect\n\u8fd9\u91cc\u5c06\u6267\u884caa.sql\u5171\u8ba110\u6b21\n\u5982\u679c\u6709\u591a\u4e2a\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f9d\u6b21\u586b\u5199\uff0c\u5982SQL> start aa.api bb.sql .... loop 10\n\n```\n### \u8ba9\u7a0b\u5e8f\u4f11\u606f\u4e00\u4f1a\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> sleep 10\nSQL> disconnect\nDatabase disconnected.\n\u8fd9\u91cc\u768410\u6307\u7684\u662f10\u79d2\uff0c\u901a\u8fc7\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u8ba9\u7a0b\u5e8f\u6682\u505c10\u79d2\u949f\u3002\nSleep\u7684\u505a\u6cd5\u4e3b\u8981\u7528\u5728\u4e00\u4e9b\u5b9a\u671f\u5faa\u73af\u53cd\u590d\u811a\u672c\u7684\u6267\u884c\u4e0a\n```\n### \u6267\u884c\u4e3b\u673a\u7684\u64cd\u4f5c\u547d\u4ee4\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> host date\n2020\u5e74 10\u6708 29\u65e5 \u661f\u671f\u56db 11:24:34 CST\nSQL> disconnect\nDatabase disconnected.\n\u8fd9\u91cc\u7684date\u662f\u4e3b\u673a\u7684\u547d\u4ee4\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u5728Windows\u548cLinux\u4e0a\u547d\u4ee4\u7684\u4e0d\u540c\uff0c\u811a\u672c\u53ef\u80fd\u56e0\u6b64\u65e0\u6cd5\u8de8\u5e73\u53f0\u6267\u884c\n```\n### \u56de\u663e\u6307\u5b9a\u7684\u6587\u4ef6\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> echo subtest.sql\n-- \u8fd9\u91cc\u662fsubtest.sql\nconnect admin/123456\nselect * from cat\nSQL> echo off\n\u8fd9\u91cc\u4eceecho\u5f00\u59cb\uff0c\u5230echo off\u7ed3\u675f\u7684\u4e2d\u95f4\u5185\u5bb9\u5e76\u4e0d\u4f1a\u88ab\u6570\u636e\u5e93\u6267\u884c\uff0c\u800c\u4e14\u4f1a\u8bb0\u5f55\u5728subtest.sql\u4e2d\n\u540c\u6837\u7684\u64cd\u4f5c\uff0c\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u7528\u6765\u751f\u6210\u4e00\u4e9b\u7b80\u5355\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7b80\u5355\u7684\u62a5\u544a\u4fe1\u606f\u7b49\n```\n\n### \u52a0\u8f7d\u6570\u636e\u5e93\u9a71\u52a8\nTestCli\u4f1a\u9ed8\u8ba4\u52a0\u8f7d\u6240\u6709\u914d\u7f6e\u5728conf/TestCli.ini\u4e2d\u7684JDBC\u9a71\u52a8\n```\n(base) TestCli \nSQL*Cli Release 0.0.32\nSQL> loaddriver;\n\u6ca1\u6709\u4efb\u4f55\u53c2\u6570\u7684loaddriver\u547d\u4ee4\u5c06\u663e\u793a\u51fa\u6240\u6709\u7cfb\u7edf\u5df2\u7ecf\u52a0\u8f7d\u7684\u9a71\u52a8\u7a0b\u5e8f\nSQL> loaddriver [database_name]  [jdbc_jarfile]\n\u5c06\u7528\u53c2\u6570\u4e2djdbc_jarfile\u6307\u5b9a\u7684\u6587\u4ef6\u66ff\u6362\u6389\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u6587\u4ef6\u4fe1\u606f\n```\n\n### \u52a0\u8f7dSQL\u91cd\u5199\u914d\u7f6e\u6587\u4ef6\n\u5728TestCli\u547d\u4ee4\u884c\u91cc\u5934\uff0c\u53ef\u4ee5\u901a\u8fc7loadcommandMap\u547d\u4ee4\u6765\u52a0\u8f7dSQL\u91cd\u5199\u914d\u7f6e\u6587\u4ef6\n```\n(base) TestCli \nSQL*Cli Release 0.0.31\nSQL> loadcommandMap map1\nMapping file loaded.\n\u8fd9\u91cc\u7684map1\u8868\u793a\u4e00\u4e2a\u91cd\u5199\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5199\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\uff0c\u6bd4\u5982loadcommandMap map1,map2,map3\uff0c\u591a\u4e2a\u6587\u4ef6\u540d\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\n\n\u91cd\u5199\u6587\u4ef6\u7684\u67e5\u627e\u987a\u5e8f\uff1a\n   1.  \u4ee5map1\u4e3a\u4f8b\u5b50\uff0c\u5982\u679cmap1\u662f\u4e00\u4e2a\u5168\u8def\u5f84\u6216\u8005\u57fa\u4e8e\u5f53\u524d\u76ee\u5f55\u7684\u76f8\u5bf9\u76ee\u5f55\uff0c\u5219\u4ee5\u5168\u8def\u5f84\u6216\u76f8\u5bf9\u76ee\u5f55\u4e3a\u51c6\u3002\u8fd9\u65f6\u5019\u53c2\u6570\u5e94\u8be5\u5e26\u6709\u540e\u7f00\n   2\uff1a  \u5982\u679c\u4f9d\u636e\u5168\u8def\u5f84\u6ca1\u6709\u627e\u5230\uff0c\u5219\u4f1a\u5c1d\u8bd5\u5728\u811a\u672c\u6240\u5728\u7684\u76ee\u5f55\u8fdb\u884c\u76f8\u5bf9\u76ee\u5f55\u7684\u67e5\u627e\u3002\u8fd9\u65f6\u5019\u53c2\u6570\u4e0d\u80fd\u591f\u5e26\u540e\u7f00\uff0c\u67e5\u627e\u7684\u540e\u7f00\u6587\u4ef6\u540d\u662f.map\n   \u540c\u65f6\u5b58\u5728\u591a\u4e2a\u914d\u7f6e\u7684\u60c5\u51b5\u4e0b\uff0c\u914d\u7f6e\u4f1a\u88ab\u53e0\u52a0\n\n\u542f\u7528SQL\u91cd\u5199\u7684\u65b9\u6cd5\uff1a\n   1.   \u5728\u547d\u4ee4\u884c\u91cc\u9762\uff0c\u901a\u8fc7TestCli --commandMap map1\u7684\u65b9\u5f0f\u6765\u6267\u884c\u91cd\u5199\u6587\u4ef6\u7684\u4f4d\u7f6e\n   2.   \u5b9a\u4e49\u5728\u7cfb\u7edf\u73af\u5883\u53d8\u91cfTestCli_COMMANDMAPPING\u4e2d\u6307\u5b9a\u3002 \u5982\u679c\u5b9a\u4e49\u4e86\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u5219\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e0d\u751f\u6548\n   3.   \u901a\u8fc7\u5728SQL\u8f93\u5165\u7a97\u53e3\uff0c\u8f93\u5165loadcommandMap\u7684\u65b9\u5f0f\u6765\u6307\u5b9a\n\n\u91cd\u5199\u6587\u4ef6\u7684\u5199\u6cd5\u8981\u6c42\uff1a\n   \u4ee5\u4e0b\u662f\u4e00\u4e2a\u91cd\u5199\u6587\u4ef6\u7684\u5178\u578b\u683c\u5f0f\uff0c 1\uff0c2\uff0c3\uff0c4\uff0c5 \u662f\u6587\u4ef6\u7684\u884c\u53f7\uff0c\u4e0d\u662f\u771f\u5b9e\u5185\u5bb9\uff1a\n    1 #..*:                                      \n    2 ((?i)CREATE TABLE .*\\))=>\\1 engine xxxxx\n    3 WEBURL=>{ENV(ROOTURL)}\n    4 MYID=>{RANDOM('random_ascii_letters_and_digits',10)}\n    5 #.\n\n    \u884c1\uff1a\n        \u8fd9\u91cc\u5b9a\u4e49\u7684\u662f\u53c2\u4e0e\u5339\u914d\u7684\u6587\u4ef6\u540d\uff0c\u4ee5#.\u5f00\u5934\uff0c\u4ee5:\u7ed3\u675f\uff0c\u5982\u679c\u9700\u8981\u5339\u914d\u5168\u90e8\u6587\u4ef6\uff0c\u5219\u53ef\u4ee5\u5728\u4e2d\u95f4\u7528.*\u6765\u8868\u793a\n    \u884c2\uff1a\n        \u8fd9\u91cc\u5b9a\u4e49\u7684\u662f\u4e00\u4e2a\u6b63\u5219\u66ff\u6362\u89c4\u5219, \u5728\u7b26\u5408CREATE TABLE\u7684\u8bed\u53e5\u540e\u9762\u589e\u52a0engine xxxxx\u5b57\u6837\n    \u884c3\uff1a\n        \u8fd9\u91cc\u5b9a\u4e49\u7684\u662f\u4e00\u4e2a\u6b63\u5219\u66ff\u6362\u89c4\u5219, \u7528\u73af\u5883\u53d8\u91cfROOTURL\u7684\u503c\u6765\u66ff\u6362\u6587\u4ef6\u4e2dWEBURL\u5b57\u6837\n    \u884c4\uff1a\n        \u8fd9\u91cc\u5b9a\u4e49\u7684\u662f\u4e00\u4e2a\u6b63\u5219\u66ff\u6362\u89c4\u5219, \u7528\u4e00\u4e2a\u6700\u5927\u957f\u5ea6\u4f4d10\uff0c\u53ef\u80fd\u5305\u542b\u5b57\u6bcd\u548c\u6570\u5b57\u7684\u5185\u5bb9\u6765\u66ff\u6362\u6587\u4ef6\u4e2d\u7684MYID\u5b57\u6837\n    \u884c5\uff1a\n        \u6587\u4ef6\u5b9a\u4e49\u7ec8\u6b62\u7b26\n\n    \u6bcf\u4e00\u4e2aMAP\u6587\u4ef6\u91cc\uff0c\u53ef\u4ee5\u5faa\u73af\u53cd\u590d\u591a\u4e2a\u8fd9\u6837\u7684\u7c7b\u4f3c\u914d\u7f6e\uff0c\u6bcf\u4e00\u4e2a\u914d\u7f6e\u6bb5\u90fd\u4f1a\u751f\u6548\n\n\u91cd\u5199SQL\u7684\u65e5\u5fd7\u663e\u793a\uff1a\n    \u88ab\u91cd\u5199\u540e\u7684SQL\u5728\u65e5\u5fd7\u4e2d\u6709\u660e\u786e\u7684\u6807\u5fd7\u4fe1\u606f\uff0c\u6bd4\u5982\uff1a\n        SQL> CREATE TABLE T_TEST(\n           > id int,\n           > name varchar(30),\n           > salary int\n           > );\n        REWROTED SQL> Your SQL has been changed to:\n        REWROTED    > CREATE TABLE T_TEST(\n        REWROTED    > id int,\n        REWROTED    > name varchar(30),\n        REWROTED    > salary int\n        REWROTED    > ) engine xxxx;\n     \u8fd9\u91cc\u7b2c\u4e00\u6bb5\u662fSQL\u6587\u4ef6\u4e2d\u7684\u539f\u4fe1\u606f\uff0c\u5e26\u6709REWROTED\u7684\u4fe1\u606f\u662f\u88ab\u6539\u5199\u540e\u7684\u4fe1\u606f\n\n```\n\n### \u6267\u884c\u6570\u636e\u5e93SQL\u8bed\u53e5\n\u5728\u6570\u636e\u5e93\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6267\u884c\u6211\u4eec\u9700\u8981\u7684SQL\u8bed\u53e5\u4e86\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684SQL\u8bed\u53e5\u6211\u4eec\u6709\u4e0d\u540c\u7684\u8bed\u6cd5\u683c\u5f0f\u8981\u6c42\u3002  \n* \u5bf9\u4e8eSQL\u8bed\u53e5\u5757\u7684\u683c\u5f0f\u8981\u6c42\uff1a  \n  SQL\u8bed\u53e5\u5757\u662f\u6307\u7528\u6765\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u3001SQL\u51fd\u6570\u7b49\u8f83\u957f\u7684SQL\u8bed\u53e5  \n  SQL\u8bed\u53e5\u5757\u7684\u5224\u65ad\u4f9d\u636e\u662f\uff1a\n```\n     CREATE | REPLACE ******   FUNCTION|PROCEDURE **** | DECLARE ****\n     \u8fd9\u91cc\u5e76\u6ca1\u6709\u5b8c\u6574\u63cf\u8ff0\uff0c\u5177\u4f53\u7684\u4fe1\u606f\u53ef\u4ee5\u4ece\u4ee3\u7801\u6587\u4ef6\u4e2d\u67e5\u9605\n```\n#### \u6267\u884cSQL\u8bed\u53e5\u5757\n&emsp; SQL\u8bed\u53e5\u5757\u7684\u7ed3\u675f\u7b26\u4e3a\u3010/\u3011\uff0c\u4e14\u3010/\u3011\u5fc5\u987b\u51fa\u73b0\u5728\u5177\u4f53\u4e00\u884c\u8bed\u53e5\u7684\u5f00\u5934  \u6bd4\u5982\uff1a\n```\n    SQL> CREATE PROCEDURE PROC_TEST()\n       > BEGIN\n       >     bulabulabula....;\n       > END;\n       > /\n    SQL> \n```\n&emsp; \u5bf9\u4e8eSQL\u8bed\u53e5\u5757\uff0cTestCli\u5c06\u88ab\u7b49\u5f85\u8bed\u53e5\u7ed3\u675f\u7b26\u540e\u628a\u5168\u90e8\u7684SQL\u4e00\u8d77\u9001\u7ed9SQL\u5f15\u64ce\uff08\u4e0d\u5305\u62ec\u8bed\u53e5\u7ed3\u675f\u7b26\uff09\u3002\n\n* \u5bf9\u4e8e\u591a\u884cSQL\u8bed\u53e5\u7684\u683c\u5f0f\u8981\u6c42\uff1a  \n   \u591a\u884cSQL\u8bed\u53e5\u662f\u6307\u4e0d\u80fd\u5728\u4e00\u884c\u5185\u5199\u5b8c\uff0c\u9700\u8981\u5206\u6210\u591a\u884c\u6765\u5199\u7684SQL\u8bed\u53e5\u3002  \n   \u591a\u884cSQL\u8bed\u53e5\u7684\u5224\u65ad\u4f9d\u636e\u662f\uff1a \u8bed\u53e5\u7528\u5982\u4e0b\u5185\u5bb9\u4f5c\u4e3a\u5173\u952e\u5b57\u5f00\u5934\n```\n    CREATE | SELECT | UPDATE | DELETE | INSERT | __INTERNAL__ | DROP | REPLACE | ALTER\n\n```\n#### \u6267\u884c\u591a\u884cSQL\u8bed\u53e5\n&emsp; \u591a\u884cSQL\u7ed3\u675f\u7b26\u4e3a\u5206\u53f7\u3010 \uff1b\u3011 \u6bd4\u5982\uff1a\n```\n    SQL> CREATE TABLE TEST_TAB\n       > (\n       >    ID   CHAR(20),\n       >    COL1 CHAR(20)\n       > );\n    SQL> \n    \u5bf9\u4e8e\u591a\u884cSQL\u8bed\u53e5\uff0c\u540c\u6837\u4e5f\u53ef\u4ee5\u4f7f\u7528\u884c\u9996\u7684\u3010/\u3011\u4f5c\u4e3a\u591a\u884c\u8bed\u53e5\u7684\u7ed3\u675f\u7b26\n```\n&emsp; \u5bf9\u4e8eSQL\u591a\u884c\u8bed\u53e5\uff0cTestCli\u5c06\u88ab\u7b49\u5f85\u8bed\u53e5\u7ed3\u675f\u7b26\u540e\u628a\u5168\u90e8\u7684SQL\u4e00\u8d77\u9001\u7ed9SQL\u5f15\u64ce\uff08\u5305\u62ec\u53ef\u80fd\u7684\u8bed\u53e5\u7ed3\u675f\u7b26\u5206\u53f7\uff09\u3002\n\n#### \u5176\u4ed6SQL\u8bed\u53e5\n* \u5176\u4ed6SQL\u8bed\u53e5  \n  \u4e0d\u7b26\u5408\u4e0a\u8ff0\u6761\u4ef6\u7684\uff0c\u5373\u4e0d\u662f\u8bed\u53e5\u5757\u4e5f\u4e0d\u662f\u591a\u884c\u8bed\u53e5\u7684\uff0c\u5219\u5728\u8f93\u5165\u6216\u8005\u811a\u672c\u56de\u8f66\u6362\u884c\u540e\u7ed3\u675f\u5f53\u524d\u8bed\u53e5\u3002  \n  \u7ed3\u675f\u540e\u7684\u8bed\u53e5\u4f1a\u88ab\u7acb\u523b\u9001\u5230SQL\u5f15\u64ce\u4e2d\u6267\u884c\u3002\n\n#### SQL\u8bed\u53e5\u4e2d\u7684\u6ce8\u91ca\n* \u8bed\u53e5\u4e2d\u7684\u6ce8\u91ca  \n  \u6ce8\u91ca\u4fe1\u606f\u5206\u4e3a\u884c\u6ce8\u91ca\u548c\u6bb5\u843d\u6ce8\u91ca\uff0c\u8fd9\u4e9b\u6ce8\u91ca\u4fe1\u606f\u4e0d\u4f1a\u88ab\u9001\u5165\u5230SQL\u5f15\u64ce\u4e2d\uff0c\u800c\u662f\u4f1a\u88abTestCli\u76f4\u63a5\u5ffd\u7565\u3002  \n  \n  \u884c\u6ce8\u91ca\u7684\u5199\u6cd5\u662f\uff1a \u3010 ...SQL...   -- Comment \u3011  \n  \u5373\u5355\u884c\u4e2d\u4efb\u4f55\u3010--\u3011\u6807\u8bc6\u7b26\u540e\u7684\u5185\u5bb9\u90fd\u88ab\u7406\u89e3\u4e3a\u884c\u6ce8\u91ca\u4fe1\u606f\u3002  \n  \n  \u6bb5\u843d\u6ce8\u91ca\u7684\u5199\u6cd5\u662f\uff1a \u3010 ...SQL...  /* Comment .... */ \u3011  \n  \u5373\u5355\u884c\u4e2d\u4efb\u4f55\u3010/*\u3011\u6807\u8bc6\u7b26\u548c\u3010*/\u3011\u6807\u8bc6\u7b26\u4e2d\u7684\u5185\u5bb9\u90fd\u88ab\u7406\u89e3\u4e3a\u884c\u6ce8\u91ca\u4fe1\u606f\u3002  \n  \u6bd4\u5982\uff1a\n```\n    SQL> CREATE TABLE TEST_TAB\n       > (\n       >    ID   CHAR(20),          -- ID\u4fe1\u606f\uff0c\u8fd9\u662f\u662f\u4e00\u4e2a\u884c\u6ce8\u91ca\n       >    COL1 CHAR(20)           -- \u7b2c\u4e00\u4e2aCHAR\u5b57\u6bb5\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u884c\u6ce8\u91ca\n       >  /*  \u8fd9\u4e2a\u8868\u662f\u505a\u6d4b\u8bd5\u7528\u7684\uff0c\u6709\u4e24\u4e2a\u5b57\u6bb5\uff1a\n       >      ID\u548cCOL\n       >      \u8fd9\u4e0a\u4e0b\u76844\u884c\u5185\u5bb9\u90fd\u662f\u6bb5\u843d\u6ce8\u91ca\n       >   */\n       > );\n    SQL> \n\n```  \n***\n### \u8bbe\u7f6e\u7a0b\u5e8f\u7684\u8fd0\u884c\u9009\u9879\n\u901a\u8fc7SET\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u6539\u53d8TestCli\u7684\u4e00\u4e9b\u884c\u4e3a\u6216\u8005\u663e\u793a\u9009\u9879\u3002\n```\n    SQL> set\n    Current set options: \n    +--------------------+----------------------+----------------------+\n    | Name               | Value                | Comments             |\n    +--------------------+----------------------+----------------------+\n    | WHENEVER_SQLERROR  | CONTINUE             |                      |\n    | PAGE               | OFF                  |                      |\n    | ECHO               | ON                   |                      |\n    | TIMING             | OFF                  |                      |\n    | TIME               | OFF                  |                      |\n    | OUTPUT_FORMAT      | LEGACY               | TAB|CSV|LEGACY       |\n    | CSV_HEADER         | OFF                  | ON|OFF               |\n    | CSV_DELIMITER      | ,                    |                      |\n    | CSV_QUOTECHAR      |                      |                      |\n    | FEEDBACK           | ON                   | ON|OFF               |\n    | TERMOUT            | ON                   | ON|OFF               |\n    | ARRAYSIZE          | 10000                |                      |\n    | SQLREWRITE         | OFF                  | ON|OFF               |\n    | LOB_LENGTH         | 20                   |                      |\n    | FLOAT_FORMAT       | %.7g                 |                      |\n    | DECIMAL_FORMAT     |                      |                      |\n    | DATE_FORMAT        | %Y-%m-%d             |                      |\n    | DATETIME_FORMAT    | %Y-%m-%d %H:%M:%S %f |                      |\n    | TIME_FORMAT        | %H:%M:%S %f          |                      |\n    | CONN_RETRY_TIMES   | 1                    | Connect retry times. |\n    | OUTPUT_PREFIX      |                      | Output Prefix        |\n    | SQL_EXECUTE        | PREPARE              | DIRECT|PREPARE       |\n    | JOBMANAGER         | OFF                  | ON|OFF               |\n    | JOBMANAGER_METAURL |                      |                      |\n    | SCRIPT_TIMEOUT     | -1                   |                      |\n    | SQL_TIMEOUT        | -1                   |                      |\n    +--------------------+----------------------+----------------------+\n    \u6ca1\u6709\u4efb\u4f55\u53c2\u6570\u7684set\u5c06\u4f1a\u5217\u51fa\u7a0b\u5e8f\u6240\u6709\u7684\u914d\u7f6e\u60c5\u51b5\u3002\n\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-ECHO\n&emsp; &emsp; \u4e3b\u8981\u7684\u63a7\u5236\u53c2\u6570\u89e3\u91ca\uff1a  \n&emsp; &emsp; 1.ECHO    SQL\u56de\u663e\u6807\u5fd7\uff0c \u9ed8\u8ba4\u4e3aON\uff0c\u5373SQL\u5185\u5bb9\u5728LOG\u4e2d\u56de\u663e\n```\n        SQL> set ECHO ON      # \u5728LOG\u4e2d\u5c06\u4f1a\u56de\u663eSQL\u8bed\u53e5\n        SQL> set ECHO OFF     # \u5728LOG\u4e2d\u4e0d\u4f1a\u56de\u663eSQL\u8bed\u53e5\n\n        \u4f8b\u5982\uff1a\u6267\u884cSELECT 3 + 5 COL1 FROM DUAL\uff0c\n\n        \u5728ECHO\u6253\u5f00\u4e0b\uff0clog\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b:\n        SQL> SELECT 3 + 5 COL1 FROM DUAL;\n        SQL> ===========\n        SQL> =  COL1 ===\n        SQL> ===========\n        SQL>           8\n        SQL> 1 rows selected.\n\n        \u5728ECHO\u5173\u95ed\u4e0b\uff0clog\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b:\n        SQL> ===========\n        SQL> =  COL1 ===\n        SQL> ===========\n        SQL>           8\n        SQL> 1 rows selected.\n```\n\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-WHENEVER_SQLERROR\n&emsp; &emsp; 2. WHENEVER_SQLERROR  SQL\u9519\u8bef\u7ec8\u7aef\u8868\u793a\uff0c \u7528\u6765\u63a7\u5236\u5728\u6267\u884cSQL\u8fc7\u7a0b\u4e2d\u9047\u5230SQL\u9519\u8bef\uff0c\u662f\u5426\u7ee7\u7eed\u3002 \u9ed8\u8ba4\u662fCONTINUE\uff0c\u5373\u7ee7\u7eed\u3002   \n&emsp; \u76ee\u524d\u652f\u6301\u7684\u9009\u9879\u6709\uff1a    \n```\n       CONTINUE |     \u9047\u5230SQL\u8bed\u53e5\u9519\u8bef\u7ee7\u7eed\u6267\u884c \n       EXIT     |     \u9047\u5230SQL\u8bed\u53e5\u9519\u8bef\u76f4\u63a5\u9000\u51faTestCli\u7a0b\u5e8f\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-PAGE\n&emsp; &emsp; 3. PAGE        \u662f\u5426\u5206\u9875\u663e\u793a\uff0c\u5f53\u6267\u884c\u7684SQL\u8bed\u53e5\u7ed3\u679c\u8d85\u8fc7\u4e86\u5c4f\u5e55\u663e\u793a\u7684\u5185\u5bb9\uff0c\u662f\u5426\u4f1a\u6682\u505c\u663e\u793a\uff0c\u7b49\u5f85\u7528\u6237\u8f93\u5165\u4efb\u610f\u952e\u540e\u7ee7\u7eed\u663e\u793a\u4e0b\u4e00\u9875\uff0c\u9ed8\u8ba4\u662fOFF\uff0c\u5373\u4e0d\u4e2d\u65ad\u3002\n\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-OUTPUT_FORMAT\n&emsp; &emsp; 4. OUTPUT_FORMAT   \u663e\u793a\u683c\u5f0f\uff0c \u9ed8\u8ba4\u662fASCII(\u4f1a\u62e9\u673a\u53d8\u5316\u6210TAB)\n&emsp; \u76ee\u524d\u652f\u6301\u7684\u9009\u9879\u6709\uff1a\n```\n      LEGACY    |     \u663e\u793a\u683c\u5f0f\u4e3a\u8868\u683c\u7684\u683c\u5f0f(\u7b2c\u4e09\u65b9\u5de5\u5177\u63d0\u4f9b\uff0c\u6682\u65f6\u4fdd\u7559\uff0c\u6765\u4f5c\u4e3a\u517c\u5bb9\u6027) \n      CSV      |     \u663e\u793a\u683c\u5f0f\u4e3aCSV\u6587\u4ef6\u7684\u683c\u5f0f\n      TAB      |     \u663e\u793a\u683c\u5f0f\u4e3a\u8868\u683c\u7684\u683c\u5f0f\n```\n&emsp; \u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a\n```\n       SQL> set output_format legacy\n       SQL> select * from test_tab;\n       +----+----------+\n       | ID | COL2     |\n       +----+----------+\n       | 1  | XYXYXYXY |\n       | 1  | XYXYXYXY |\n       +----+----------+\n       2 rows selected.\n      \n       SQL> set output_format csv\n       SQL> select * from test_tab;\n       \"ID\",\"COL2\"\n       \"1\",\"XYXYXYXY\"\n       \"1\",\"XYXYXYXY\"\n       2 rows selected.\n       SQL>           \n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-LOB_LENGTH\n&emsp; &emsp; 5. LOB_LENGTH      \u63a7\u5236LOB\u5b57\u6bb5\u7684\u8f93\u51fa\u957f\u5ea6\uff0c\u9ed8\u8ba4\u662f20  \n&emsp; &emsp; \u7531\u4e8eLOB\u5b57\u6bb5\u4e2d\u7684\u6587\u672c\u957f\u5ea6\u53ef\u80fd\u4f1a\u6bd4\u8f83\u957f\uff0c\u6240\u4ee5\u9ed8\u8ba4\u4e0d\u4f1a\u663e\u793a\u51fa\u6240\u6709\u7684LOB\u5185\u5bb9\u5230\u5f53\u524d\u8f93\u51fa\u4e2d\uff0c\u800c\u662f\u6700\u5927\u957f\u5ea6\u663e\u793aLOB_LENGTH\u503c\u6240\u4ee3\u8868\u7684\u957f\u5ea6\u5bf9\u4e8e\u8d85\u8fc7\u9ed8\u8ba4\u663e\u793a\u957f\u5ea6\u7684\uff0c\u5c06\u5728\u8f93\u51fa\u5185\u5bb9\u540e\u9762\u6dfb\u52a0...\u7701\u7565\u53f7\u6765\u8868\u793a   \n&emsp; &emsp; \u5bf9\u4e8eBLOB\u7c7b\u578b\uff0c\u8f93\u51fa\u9ed8\u8ba4\u4e3a16\u8fdb\u5236\u683c\u5f0f\u3002\u5bf9\u4e8e\u8d85\u8fc7\u9ed8\u8ba4\u663e\u793a\u957f\u5ea6\u7684\uff0c\u5c06\u5728\u8f93\u51fa\u5185\u5bb9\u540e\u9762\u6dfb\u52a0...\u7701\u7565\u53f7\u6765\u8868\u793a \n```       \n        SQL> set LOB_LENGTH 300     # CLOB\u5c06\u4f1a\u663e\u793a\u524d300\u4e2a\u5b57\u7b26\n        \u4f8b\u5b50\uff0c\u6267\u884c\u4e00\u4e2aCLOB\u5b57\u6bb5\u67e5\u8be2,CLOB\u4e2d\u7684\u4fe1\u606f\u4e3aABCDEFGHIJKLMNOPQRSTUVWXYZ\n        SQL> set LOB_LENGTH 5\n        SQL> SELECT CLOB1 FROM TEST_TAB;\n        SQL> ===========\n        SQL> =  CLOB1 ==\n        SQL> ===========\n        SQL>       ABCDE\n        SQL> 1 rows selected.\n        SQL> set LOB_LENGTH 15\n        SQL> =====================\n        SQL> =        CLOB1      =\n        SQL> =====================\n        SQL>    ABCDEFGHIJKLMNO...\n        SQL> 1 rows selected.\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-FEEDBACK\n&emsp; &emsp; 6. FEEDBACK      \u63a7\u5236\u662f\u5426\u56de\u663e\u6267\u884c\u5f71\u54cd\u7684\u884c\u6570\uff0c\u9ed8\u8ba4\u662fON\uff0c\u663e\u793a  \n```\n       SQL> set feedback on\n       SQL> select * from test_tab;\n       +----+----------+\n       | ID | COL2     |\n       +----+----------+\n       | 1  | XYXYXYXY |\n       | 1  | XYXYXYXY |\n       +----+----------+\n       2 rows selected.\n       SQL> set feedback off\n       SQL> select * from test_tab;\n       +----+----------+\n       | ID | COL2     |\n       +----+----------+\n       | 1  | XYXYXYXY |\n       | 1  | XYXYXYXY |\n       +----+----------+\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-TERMOUT\n&emsp; &emsp; 7. TERMOUT       \u63a7\u5236\u662f\u5426\u663e\u793aSQL\u67e5\u8be2\u7684\u8fd4\u56de\uff0c\u9ed8\u8ba4\u662fON\uff0c\u663e\u793a  \n\n```\n       SQL> set termout on\n       SQL> select * from test_tab;\n       +----+----------+\n       | ID | COL2     |\n       +----+----------+\n       | 1  | XYXYXYXY |\n       | 1  | XYXYXYXY |\n       +----+----------+\n       2 rows selected.\n       SQL> set termout off\n       SQL> select * from test_tab;\n       2 rows selected.\n\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-FLOAT_FORMAT/DECIMAL_FORMAT/DATE_FORMAT/DATETIME_FORMAT/TIME_FORMAT\n&emsp; &emsp; 8. FLOAT_FORMAT    \u63a7\u5236\u6d6e\u70b9\u6570\u5b57\u7684\u663e\u793a\u683c\u5f0f\uff0c\u9ed8\u8ba4\u662f%.7g\n```\n    SQL>  select abs(1.234567891234) from dual;\n    +----------+\n    | C1       |\n    +----------+\n    | 1.234568 |\n    +----------+\n    1 row selected.\n    SQL> set FLOAT_FORMAT %0.10g\n    SQL> select abs(1.234567891234) from dual;\n    +-------------+\n    | C1          |\n    +-------------+\n    | 1.234567891 |\n    +-------------+\n    1 row selected.\n    \u7c7b\u4f3c\u7684\u53c2\u6570\u8fd8\u6709DECIMAL_FORMAT\n    \n    SQL> set DATE_FORMAT %Y%m%d\n    SQL> select CAST('2000-02-02' AS DATE) from dual;\n    +-------------+\n    | C1          |\n    +-------------+\n    | 20000111    |\n    +-------------+\n    1 row selected.\n    \u7c7b\u4f3c\u7684\u53c2\u6570\u8fd8\u6709DATETIME_FORMAT, TIME_FORMAT\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-CSV_HEADER/CSV_DELIMITER/CSV_QUOTECHAR\n&emsp; &emsp; 9. CSV\u683c\u5f0f\u63a7\u5236  \n```\n    CSV_HEADER        \u63a7\u5236CSV\u8f93\u51fa\u4e2d\u662f\u5426\u5305\u62ec\u5b57\u6bb5\u540d\u79f0\u4fe1\u606f\uff0c \u9ed8\u8ba4\u662fOFF\n    CSV_DELIMITER     CSV\u8f93\u51fa\u4e2d\u5b57\u6bb5\u7684\u5206\u9694\u7b26, \u9ed8\u8ba4\u4e3a\u9017\u53f7\uff0c\u5373,  \n    CSV_QUOTECHAR     CSV\u4e2d\u5b57\u7b26\u7c7b\u578b\u5b57\u6bb5\u7684\u524d\u540e\u6807\u8bb0\u7b26\u53f7\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u6807\u8bb0\n\n    SQL> select * from cat where rownum<10;\n    ADATA_1000W,TABLE\n    ADATA_100W,TABLE\n    ADATA_10W,TABLE\n    ADATA_1W,TABLE\n    ADATA_2000W,TABLE\n    ADATA_500W,TABLE\n    BIN$p+HZrV/nKjTgU1ABqMCZxw==$0,TABLE\n    BIN$p+HaveUdKjzgU1ABqMC4xg==$0,TABLE\n    BIN$p+HbAAWeKlfgU1ABqMCSUg==$0,TABLE\n    \n    SQL> select 1.2+2.2 from dual\n       > union\n       > select 3+4 from dual;\n    3.4\n    7\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-TIMING/TIME\n&emsp; &emsp; 10. \u8fd0\u884c\u65f6\u95f4\u663e\u793a  \n```\n    TIMING    ON|OFF  \u63a7\u5236\u5728SQL\u8fd0\u884c\u7ed3\u675f\u540e\u662f\u5426\u663e\u793a\u6267\u884c\u6d88\u8017\u65f6\u95f4\uff0c \u9ed8\u8ba4\u662fOFF\n    TIME      ON|OFF  \u63a7\u5236\u5728SQL\u8fd0\u884c\u7ed3\u675f\u540e\u662f\u5426\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u65f6\u95f4\uff0c \u9ed8\u8ba4\u662fOFF\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-CONN_RETRY_TIMES\n&emsp; &emsp; 11. \u8fde\u63a5\u5c1d\u8bd5\u6b21\u6570  \n```\n    \u9ed8\u8ba4\u662f1\uff0c\u5373\u6570\u636e\u5e93\u53ea\u5c1d\u8bd5\u4e00\u6b21\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5931\u8d25\u540e\u5373\u9000\u56de\u3002\n    \u53ef\u4ee5\u8c03\u6574\u5230\u5176\u4ed6\u6570\u503c\uff0c\u6765\u5e94\u7528\u4e0d\u7a33\u5b9a\u7684\u6570\u636e\u5e93\u8fde\u63a5\u73af\u5883\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-ARRAYSIZE\n&emsp; &emsp; 12. \u6570\u636e\u8bfb\u53d6\u9884Fetch\u7684\u7f13\u51b2\u533a\u5927\u5c0f  \n```\n    \u9ed8\u8ba4\u662f10000\uff0c\u5373\u6570\u636e\u5e93\u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u9884\u7f13\u5b5810000\u6761\u8bb0\u5f55\u5230\u672c\u5730\n    \u5982\u679c\u6ca1\u6709\u5341\u5206\u5fc5\u8981\u7684\u9700\u6c42\uff0c\u4e0d\u5efa\u8bae\u4fee\u6539\u8fd9\u4e2a\u53c2\u6570\u3002\u8fc7\u4f4e\u7684\u53c2\u6570\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u8fd0\u884c\u6027\u80fd\u4e0b\u964d\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-SQLREWRITE\n&emsp; &emsp; 13. SQLREWRITE  \n```\n    \u63a7\u5236\u662f\u5426\u542f\u7528SQL\u91cd\u5199\uff0c\u9ed8\u8ba4\u662fON\u3002\n    \u5f53\u8bbe\u7f6e\u4e3aOFF\u7684\u65f6\u5019\uff0c\u65e0\u8bba\u8fd0\u884c\u662f\u5426\u6307\u5b9a\u4e86COMMANDMAP\uff0c\u6620\u5c04\u90fd\u4e0d\u4f1a\u5de5\u4f5c\n```\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-SQL_EXECUTE\n&emsp; &emsp; 14. SQL_EXECUTE  \n```\n    \u63a7\u5236Jpype\u8c03\u7528JDBC\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u7684\u5177\u4f53\u884c\u4e3a\u65b9\u5f0f\u3002\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u9009\u9879\uff0c\u5206\u522b\u662fDIRECT\u548cPREPARE\n    \u5bf9\u4e8eDIRECT\u7684\u884c\u4e3a\u7c7b\u4f3c\uff1a\n        conn.createStatement().execute(\"sql ...\")\n    \u5bf9\u4e8ePREPARE\u7684\u884c\u4e3a\u7c7b\u4f3c\uff1a\n        PrepareStatement m_pstmt == conn.PrepareStatement(sql)\n        m_pstmt.execute()\n    \u5728\u67d0\u4e9b\u7279\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u53c2\u6570\u5c06\u5f71\u54cd\u663e\u793a\u8f93\u51fa\u6548\u679c\u3002\u76ee\u524d\u6b63\u5728\u6d4b\u8bd5\u4e2d\u3002\n```\n\n#### \u63a7\u5236\u53c2\u6570\u89e3\u91ca-JOBManager, JOBManager_MetaURL\n&emsp; &emsp; 15. SQL\u811a\u672c\u5e76\u53d1\u63a7\u5236  \n```\n   \u7a0b\u5e8f\u5b9e\u73b0\u4e86\u5e76\u53d1\u7684\u811a\u672c\u8fd0\u884c\uff0c\u4ee5\u53ca\u5bf9\u811a\u672c\u8fd0\u884c\u4e2d\u7684\u805a\u5408\u70b9\u652f\u6301\n   \u5e76\u53d1\u8fd0\u884c\u7684\u65f6\u5019\uff0c \u5e94\u7528\u7a0b\u5e8f\u7684\u89d2\u8272\u5206\u4e3a\u4e3b\u8c03\u5ea6\u7a0b\u5e8f\u548cWorker\u5de5\u4f5c\u7a0b\u5e8f\n   \n   \u901a\u8fc7 SET JOBManager ON\u7684\u65b9\u5f0f\u53ef\u4ee5\u542f\u7528\u672c\u673a\u7684\u4e3b\u8c03\u5ea6\u7a0b\u5e8f\u3002\n   \u5728SET JOBManager ON\u540e\uff0c\u901a\u8fc7SET\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u4fe1\u606f\uff1a\n   | JOBMANAGER         | on                        | ON|OFF               |\n   | JOBMANAGER_METAURL | tcp://192.168.3.155:50869 |                      |\n   \u6b64\u65f6\u7684JOBMANAGER_METAURL\u5c31\u662f\u4e3b\u8c03\u5ea6\u7a0b\u5e8f\u6240\u5de5\u4f5c\u7684\u5730\u5740\n   \n   Worker\u5de5\u4f5c\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u624b\u5de5\u7684\u65b9\u5f0f\u6ce8\u518c\u5230\u4e3b\u8c03\u5ea6\u7a0b\u5e8f\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e3b\u8c03\u5ea6\u7a0b\u5e8f\u5229\u7528JOB\u7684\u76f8\u5173\u547d\u4ee4\u6765\u542f\u52a8\n   \u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\u968f\u540e\u7684\u7ae0\u8282\u5c06\u8be6\u7ec6\u4ecb\u7ecd   \n```\n\n#### \u63a7\u5236\u53c2\u6570-SQL_TIMEOUT\uff0cSCRIPT_TIMEOUT\n&emsp; &emsp; 15. SQL\u811a\u672c\u8d85\u65f6\u63a7\u5236\n```\n   \u7a0b\u5e8f\u5b9e\u73b0\u4e86\u8d85\u65f6\u7ba1\u7406\uff0c\u9ed8\u8ba4\u7684\u8d85\u65f6\u65f6\u95f4\u4e3a\u65e0\u9650\u5236\uff0c\u5373\u4e0d\u505a\u4efb\u4f55\u63a7\u5236\n   SCRIPT_TIMEOUT    \u811a\u672c\u7684\u6700\u5927\u8fd0\u884c\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u5f53\u811a\u672c\u8fd0\u884c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u540e\uff0c\u811a\u672c\u5c06\u5931\u8d25\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\n   SQL_TIMEOUT       \u5355\u4e2a\u8bed\u53e5\u7684\u6700\u5927\u8fd0\u884c\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u5f53\u5355\u4e2a\u8bed\u53e5\u8fd0\u884c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u540e\uff0c\u5f53\u524d\u8bed\u53e5\u5c06\u5931\u8d25\uff0c\u7a0b\u5e8f\u5c06\u7ee7\u7eed\n   \u4e24\u4e2a\u53c2\u6570\u53ef\u4ee5\u540c\u65f6\u8bbe\u7f6e\uff0c\u540c\u65f6\u751f\u6548\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u5176\u4e2d\u4e00\u4e2a\n   \n   \u6ce8\u610f\uff1a \n   1\uff1a \u5f53\u53d1\u751fSQL\u8d85\u65f6\u4e2d\u65ad\u540e\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u542f\u52a8\u8c03\u7528\u6570\u636e\u5e93\u7684cancel\u673a\u5236\u6765\u56de\u9000\u5f53\u524d\u8fd0\u884c\u72b6\u6001\uff0c\u4f46\u4e0d\u662f\u6bcf\u4e2a\u6570\u636e\u5e93\u90fd\u80fd\u652f\u6301cancel\u673a\u5236\n      \u6240\u4ee5\uff0c\u4e0d\u8981\u5bf9\u8d85\u65f6\u9000\u51fa\u540e\uff0c\u6570\u636e\u5e93\u7684\u8fde\u63a5\u72b6\u6001\u6709\u6240\u9884\u671f\uff0c\u53ef\u80fd\uff08\u975e\u5e38\u53ef\u80fd\uff09\u4f1a\u5bfc\u81f4\u540e\u7eed\u7684\u6240\u6709SQL\u6267\u884c\u5931\u8d25\n   2\uff1a \u76ee\u524dTimeOut\u4ec5\u7528\u4e8e\u5982\u4e0b\u51fd\u6570\uff0c Connect,  Execute\n   \n```\n\n### \u5728SQL\u4e2d\u4f7f\u7528Hint\u4fe1\u606f\n&emsp; &emsp; \u5728\u4e00\u4e9b\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7Hint\u9690\u542b\u63d0\u793a\u7b26\u6765\u63a7\u5236SQL\u7684\u5177\u4f53\u884c\u4e3a\n```\n    SQL> -- [Hint] Order\n    SQL> Select ID,Name From TestTab;\n    ....\n    \u52a0\u5165\u8fd9\u4e2a\u63d0\u793a\u7b26\u540e\uff0cTestCli\u5c06\u4f1a\u628a\u968f\u540e\u7684SQL\u8bed\u53e5\u8fdb\u884c\u6392\u5e8f\u8f93\u51fa\uff0c\u539f\u7a0b\u5e8f\u7684\u8f93\u51fa\u987a\u5e8f\u88ab\u5ffd\u7565\n\n    SQL> -- [Hint] LogFilter  .*Error.*\n    SQL> Select ID,Name From TestTab;\n    ....\n    \u52a0\u5165\u8fd9\u4e2a\u63d0\u793a\u7b26\u540e\uff0cTestCli\u5c06\u4e0d\u518d\u663e\u793a\u968f\u540e\u8f93\u51fa\u4e2d\u4efb\u4f55\u5305\u542bError\u5b57\u6837\u7684\u884c\n    .*Error.* \u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u5199\u6cd5\n\n    SQL> -- [Hint] LogFilter  ^((?!Error).)*$\n    SQL> Select ID,Name From TestTab;\n    ....\n    \u52a0\u5165\u8fd9\u4e2a\u63d0\u793a\u7b26\u540e\uff0cTestCli\u4ec5\u663e\u793a\u8f93\u51fa\u4e2d\u5305\u542bError\u5b57\u6837\u7684\u884c\n\n    SQL> -- [Hint] LogMask  Password:.*=>Password:******\n    SQL> Select ID,Name From TestTab;\n    ....\n    \u52a0\u5165\u8fd9\u4e2a\u63d0\u793a\u7b26\u540e\uff0cTestCli\u5c06\u628a\u65e5\u5fd7\u8f93\u51fa\u4e2d\u6240\u6709\u7b26\u5408Password:.*\u7684\u5185\u5bb9\u66ff\u6362\u6210Password:*****\n\n    SQL> -- [Hint] SQL_PREPARE\n    SQL> Select ID,Name From TestTab;\n    ....\n    \u52a0\u5165\u8fd9\u4e2a\u63d0\u793a\u7b26\u540e\uff0c\u968f\u540e\u7684TestCli\u7a0b\u5e8f\u5728\u6267\u884c\u7684\u65f6\u5019\u5c06\u9996\u5148\u89e3\u6790SQL\u8bed\u53e5\uff0c\u968f\u540e\u518d\u6267\u884c\uff0c\n    \u8fd9\u662f\u9ed8\u8ba4\u7684\u65b9\u5f0f\n\n    SQL> -- [Hint] SQL_DIRECT\n    SQL> Select ID,Name From TestTab;\n    ....\n    \u52a0\u5165\u8fd9\u4e2a\u63d0\u793a\u7b26\u540e\uff0c\u968f\u540e\u7684\u8bed\u53e5\u5728TestCli\u6267\u884c\u4e2d\u5c06\u8dc3\u8fc7\u89e3\u6790(PrepareStatement)\u5c42\u9762\n    \u8fd9\u4e0d\u662f\u9ed8\u8ba4\u65b9\u5f0f\uff0c\u548c\u4e4b\u524d\u7684SQL_PREPARE\u76f8\u4e92\u65a5\u7684\u4e00\u4e2a\u8bbe\u7f6e\n    \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6709\u7684\u7279\u6b8aSQL\u8bed\u53e5\u4e0d\u652f\u6301PREPARE\uff0c\u8fd9\u662f\u4e00\u4e2a\u53ef\u4ee5\u7ed5\u5f00\u95ee\u9898\u7684\u529e\u6cd5\n    \u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u53d8\u91cf\u7684\u65b9\u5f0f\u6765\u5168\u5c40\u5f71\u54cd\u8fd9\u4e2a\u8bbe\u7f6e.\n    SQL> SET SQL_EXECUTE PREPARE|DIRECT\n\n    SQL> -- [Hint] LOOP [LoopTimes] UNTIL [EXPRESSION] INTERVAL [INTERVAL]\n    \u5faa\u73af\u6267\u884c\u5f53\u524dSQL\u8bed\u53e5\u4e00\u76f4\u5230\u8868\u8fbe\u5f0fEXPRESSION\u88ab\u6ee1\u8db3\uff0c\u6216\u8005\u5faa\u73af\u6b21\u6570\u6ee1\u8db3\u8bbe\u7f6e\u8981\u6c42\n    \u5faa\u73af\u6267\u884c\u7684\u6b21\u6570\u662fLoopTimes\uff0c\u6bcf\u6b21\u5faa\u73af\u7684\u95f4\u9694\u662fINTERVAL(\u79d2\u4f5c\u4e3a\u5355\u4f4d)\n    \n```\n\n### \u5728SQL\u4e2d\u4f7f\u7528\u53d8\u91cf\u4fe1\u606f\n&emsp; &emsp; \u5728\u4e00\u4e9b\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u53d8\u91cf\u6765\u53d8\u5316SQL\u7684\u8fd0\u884c  \n&emsp; &emsp; \u8fd9\u91cc\u63d0\u4f9b\u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff1a   \n&emsp; &emsp; * \u7528set\u7684\u8bed\u53e5\u6765\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\n```\n    SQL> set @var1 value1\n\n    \u5982\u679cvalue1\u4e2d\u5305\u542b\u7a7a\u683c\u7b49\u7279\u6b8a\u5b57\u7b26\uff0c\u9700\u8981\u8003\u8651\u7528^\u5c06\u5176\u524d\u540e\u5305\u62ec\uff0c\u4f8b\u5982\uff1a\n    SQL> set @var1 ^value1 fafsadfd^\n    \u6b64\u65f6\uff0c\u5c16\u62ec\u53f7\u5185\u90e8\u7684\u5b57\u7b26\u4e32\u5c06\u4f5c\u4e3a\u53c2\u6570\u7684\u503c\uff0c\u4f46\u5c16\u62ec\u53f7\u5e76\u4e0d\u5305\u62ec\u5728\u5185\n\n    \u6ce8\u610f\uff1a value1 \u662f\u4e00\u4e2aeval\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u88ab\u5199\u4f5c 3+5, ${a}+1, \u7b49\n    \u5982\u679c\u4f60\u8981\u5728value1\u4e2d\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8bf7\u52a1\u5fc5\u5c06\u5b57\u7b26\u4e32\u7528\u2018\u5305\u62ec\uff0c\u5373'value1'\n\n```\n&emsp; &emsp; * \u7528${}\u7684\u65b9\u5f0f\u6765\u5f15\u7528\u5df2\u7ecf\u5b9a\u4e49\u7684\u53d8\u91cf\n```\n    SQL> select ${var1} from dual;\n    REWROTED SQL> Your SQL has been changed to:\n    REWROTED    > select value1 from dual\n    -- \u8fd9\u91cc\u771f\u5b9e\u7684\u8868\u8fbe\u610f\u601d\u662f\uff1a select value1 from dual, \u5176\u4e2d${var1}\u5df2\u7ecf\u88ab\u5176\u5bf9\u5e94\u7684\u53d8\u91cf\u66ff\u6362\n```\n### \u5728SQL\u4e2d\u4f7f\u7528spool\u547d\u4ee4\u6765\u5c06\u5f53\u524d\u6267\u884c\u7ed3\u679c\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\n```\n    SQL> spool test.log\n    SQL> select 1+2 from dual;\n    3\n    1 rows selected.\n    SQL> spool off\n\n    $> type test.log\n    SQL> select 1+2 from dual;\n    3\n    1 rows selected.\n\n    -- spool [file name] \u8868\u793a\u5c06\u4ece\u6b64\u523b\u5f00\u59cb\uff0c\u968f\u540e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u5230\u65b0\u7684\u6587\u4ef6\u4e2d\n    -- spool off         \u8868\u793a\u4ece\u6b64\u523b\u5f00\u59cb\uff0c\u5173\u4e8e\u4e4b\u524d\u7684SQL\u6587\u4ef6\u8f93\u51fa\n\n    * \u5728\u5df2\u7ecf\u8fdb\u884cspool\u7684\u8fc7\u7a0b\u4e2d\uff0cspool\u65b0\u7684\u6587\u4ef6\u540d\u5c06\u5bfc\u81f4\u5f53\u524d\u6587\u4ef6\u88ab\u5173\u95ed\uff0c\u968f\u540e\u7684\u8f93\u51fa\u5207\u6362\u5230\u65b0\u6587\u4ef6\u4e2d\n    * spool \u7ed3\u679c\u7684\u76ee\u5f55\uff1a\n      1. \u5982\u679c\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u63d0\u4f9b\u4e86logfile\u4fe1\u606f\uff0c\u5219spool\u7ed3\u679c\u7684\u76ee\u5f55\u548clogfile\u7684\u76ee\u5f55\u76f8\u540c\n      2. \u5982\u679c\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u63d0\u4f9blogfile\u4fe1\u606f\uff0c\u5219spool\u7ed3\u679c\u6587\u4ef6\u76ee\u5f55\u5c31\u662f\u5f53\u524d\u7684\u6587\u4ef6\n```\n\n\n### \u5728SQL\u4e2d\u7528\u5185\u7f6e\u53d8\u91cf\u6765\u67e5\u770b\u4e0a\u4e00\u4e2aSQL\u7684\u6267\u884c\u7ed3\u679c\n&emsp; &emsp; \u6709\u4e00\u4e9b\u573a\u666f\u901a\u5e38\u8981\u6c42\u6211\u4eec\u6765\u4e0b\u4e00\u4e2aSQL\u6307\u5b9a\u7684\u65f6\u5019\uff0c\u5c06\u4e0a\u4e00\u4e2aSQL\u7684\u7ed3\u679c\u505a\u51fa\u53c2\u6570\u6765\u6267\u884c  \n&emsp; &emsp; \u8fd9\u91cc\u63d0\u4f9b\u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff1a \u5728SQL\u4e2d\u5f15\u5165\u7528JQ\u8868\u8fbe\u5f0f\u5b9a\u4e49\u7684\u8868\u8fbe\u5f0f  \n&emsp; &emsp; \u4f8b\u5b50\uff1a  \n&emsp; &emsp; &emsp; &emsp; {$LastSQLResult(JQPattern)}\n```\n    LastSQLResult \u662f\u4e00\u4e2a\u5305\u542b\u4e86\u4e0a\u6b21\u7ed3\u679c\u96c6\u7684JSON\u8868\u8fbe\u5f0f\uff0c\u5176\u5305\u542b\u7684\u5185\u5bb9\u4e3a\uff1a\n    {\n        \"desc\": [column name1, column name2, ....],\n        \"rows\": rowcount,\n        \"elapsed\": sql elapsed time,\n        \"result\": [[row1-column1 , row1-column2,...] [row2-column1 , row2-column2,...] ...]\n    }\n    SQL>  -- \u8fd4\u56de\u4e0a\u4e00\u4e2aSQL\u6267\u884c\u5f71\u54cd\u7684\u8bb0\u5f55\u6570\u91cf\n    SQL>  select '${LastSQLResult(.rows)}' from dual;\n    REWROTED SQL> Your SQL has been changed to:\n    REWROTED    > select '1' from dual\n    +-----+\n    | '1' |\n    +-----+\n    | 1   |\n    +-----+\n    1 row selected.\n    \n    SQL>  -- \u8fd4\u56de\u4e0a\u4e00\u4e2aSQL\u7ed3\u679c\u8bb0\u5f55\u96c6\u7684\u96f6\u884c\u96f6\u5217\u5185\u5bb9    \n    SQL> select '${LastSQLResult(.result.0.0)}' from dual;\n    REWROTED SQL> Your SQL has been changed to:\n    REWROTED    > select '1' from dual\n    +-----+\n    | '1' |\n    +-----+\n    | 1   |\n    +-----+\n    1 row selected.\n\n    \u652f\u6301\u7684JQ\u8fc7\u6ee4\u8868\u8fbe\u5f0f\uff1a\n        dict key\u8fc7\u6ee4           .key\n        dict key\u5217\u8868           .keys()\n        dict value\u5217\u8868         .values()\n        dict key,value\u5bf9       .iterms()\n        list\u8fc7\u6ee4                .3 \u6216 .[3]\n        list\u8d1f\u7d22\u5f15              .-2 \u6216 .[-2]\n        list\u5207\u72471               .2:6 \u6216 .[2:6]\n        list\u5207\u72472               .2: \u6216 .[2:]\n        list\u5207\u72473               .:6 \u6216 .[:6]\n        list step1             .1:6:2 \u6216 .[1:6:2]\n        list step2             .1::2 \u6216 .[1::2]\n        list step3             .::2 \u6216 .[::2]\n        string\u8fc7\u6ee4              ..\u4e0elist\u76f8\u540c\n        string\u5207\u7247              ..\u4e0elist\u76f8\u540c\n        string\u5207\u7247step          ..\u4e0elist\u76f8\u540c\n\n   \n```\n### \u5728TestCli\u4e2d\u5b8c\u6210\u7b80\u5355\u7684\u5faa\u73af\u8bed\u53e5\n```\n    \u901a\u8fc7\u4f7f\u7528SQLHint\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u7b80\u5355\u7684\u8bed\u53e5\u5faa\u73af\u3002\n    \u4f8b\u5b50\uff1a\n    SQL> -- [Hint] LOOP 100 UNTIL False INTERVAL 2\n    Select * From Cat;\n    -- \u4ee5\u4e0a\u7684\u8bed\u53e5\u5c06\u4ee5\u95f4\u96942\u79d2\u6267\u884c\u4e00\u6b21\u7684\u8282\u594f\u6267\u884c100\u6b21\u7684\u201cSelect * From Cat\u201d\n\n    SQL> -- [Hint] LOOP 100 UNTIL ${LastSQLResult(.result.0.0)}>10 INTERVAL 2\n    Select * From Cat;\n    \u4ee5\u4e0a\u7684\u8bed\u53e5\u5c06\u4ee5\u95f4\u96942\u79d2\u6267\u884c\u4e00\u6b21\u7684\u8282\u594f\u6267\u884c\u201cSelect * From Cat\u201d\n    \u4e00\u76f4\u6267\u884c\u5230100\u6b21\u6216\u8005\u8be5\u8bed\u53e5\u8fd4\u56de\u7ed3\u679c\u96c6\u7684\u7b2c\u4e00\u884c\u7b2c\u4e00\u5185\u5185\u5bb9\u5927\u4e8e10\n    \u5176\u4e2d\uff1a ${LastSQLResult(.result.0.0)}\u662f\u4e00\u4e2a\u6807\u51c6\u7684JQ\u8868\u8fbe\u5f0f\uff0c\u5199\u6cd5\u53c2\u8003__internal__ test assert\u4e2d\u5199\u6cd5\u8bf4\u660e\n``` \n### \u5b9a\u4e49TestCli\u7684\u521d\u59cb\u5316\u6587\u4ef6\n```\n    TestCli\u5728\u6267\u884c\u7684\u65f6\u5019\u53ef\u4ee5\u6307\u5b9a\u521d\u59cb\u5316\u6587\u4ef6\uff0c\u521d\u59cb\u5316\u6587\u4ef6\u4f1a\u5728\u771f\u6b63\u7684\u811a\u672c\u6267\u884c\u4e4b\u524d\u88ab\u6267\u884c\n    \u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\u6765\u5b9a\u4e49TestCli\u7684\u521d\u59cb\u5316\u6587\u4ef6\uff1a\n    1\uff1a \u901a\u8fc7\u5728TestCli\u7684\u547d\u4ee4\u884c\u53c2\u6570\u4e2d\u6267\u884c\uff0c   \n    OS>  TestCli --profile xxxx\n    2. \u901a\u8fc7\u521b\u5efaTestCli_HOME/profile/default\u6587\u4ef6\uff0c\u5e76\u5728\u5176\u4e2d\u8f93\u5165\u76f8\u5173\u4fe1\u606f\n    3. \u901a\u8fc7\u4fee\u6539\u7a0b\u5e8f\u7684\u5b89\u88c5\u76ee\u5f55\u4e2d\u5bf9\u5e94\u6587\u4ef6\u6765\u6307\u5b9a\uff0c\u5373<PYTHON_PACKAGE>/TestCli/profile/default\n    \u540c\u65f6\u5b58\u5728\u4e0a\u8ff03\u7c7b\u6587\u4ef6\u7684\u65f6\u5019\uff0c3\u7c7b\u6587\u4ef6\u90fd\u4f1a\u88ab\u6267\u884c\u3002\u53e0\u52a0\u6267\u884c\u7684\u987a\u5e8f\u662f\uff1a3\uff0c2\uff0c1\n\n    \u9664\u975e\u6253\u5f00\u8c03\u8bd5\u6a21\u5f0f\uff0c\u5426\u5219\u521d\u59cb\u5316\u811a\u672c\u7684\u6267\u884c\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\u65e5\u5fd7\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u65e5\u5fd7\u6821\u9a8c\u7b49\n\n```\n\n### \u7528TestCli\u6765\u4ea7\u751f\u6d4b\u8bd5\u6570\u636e\u6587\u4ef6\n```\n   SQL> __internal__ DATA SET HDFSUSER [USERNAME]\n   \u8fd9\u91cc\u5c06\u6307\u5b9a\u968f\u540e\u64cd\u4f5cHDFS\u64cd\u4f5c\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d\uff08\u7a0b\u5e8f\u4f7f\u7528InSecureClient\u6765\u4e0a\u4f20\u6587\u4ef6\uff0c\u6240\u4ee5\u65e0\u9700\u53e3\u4ee4)\n     \n   SQL> __internal__ DATA SET SEEDFILE DIR [DIRECTORY]\n   \u8fd9\u91cc\u5c06\u6307\u5b9a\u968f\u540e\u7a0b\u5e8f\u52a0\u8f7d\u79cd\u5b50Seed\u6587\u4ef6\u65f6\u6240\u4f7f\u7528\u7684\u76ee\u5f55\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u76ee\u5f55\u662fTestCli_HOME\\data\n   \n   SQL> __internal__ DATA CREATE [string|integer] SEEDDATAFILE [SeedName] LENGTH [row length] ROWS [row number]  \n      > WITH NULL ROWS [null rows number];\n   \u5982\u679c\u6307\u5b9a\u4e86SEEDFILE\u7684\u76ee\u5f55\uff0c\u5219\u4f1a\u5728\u76ee\u5f55\u4e0b\u521b\u5efaseed\u6587\u4ef6\u3002\u5426\u5219\uff0c\u4f1a\u5728$TestCli_HOME/data\u4e0b\u521b\u5efaseed\u6587\u4ef6\uff0c\u7528\u6765\u540e\u7eed\u7684\u968f\u673a\u51fd\u6570\n\n    [string|integer]          \u662f\u5b57\u7b26\u578b\u968f\u673a\u6570\u636e\u6587\u4ef6\u8fd8\u662f\u6570\u5b57\u578b\u968f\u673a\u6570\u636e\u6587\u4ef6\n    [SeedName]                \u6570\u636e\u79cd\u5b50\u7684\u540d\u79f0\uff0c\u6839\u636e\u9700\u8981\u7f16\u5199\uff0c\u5e94\u7b80\u5355\u597d\u8bb0\n    [row length]              \u6570\u636e\u79cd\u5b50\u4e2d\u6bcf\u884c\u6570\u636e\u7684\u6700\u5927\u957f\u5ea6\n    [row number]              \u6570\u636e\u79cd\u5b50\u7684\u884c\u6570\n    [null rows number]        \u5728\u8be5\u6570\u636e\u6587\u4ef6row number\u7684\u884c\u6570\u4e2d\u6709\u591a\u5c11\u884c\u4e3a\u7a7a\u884c\n\n   __internal__ DATA CREATE [MEM|FS|HDFS] FILE [FileName]\n   (\n     \u6b64\u5904\u4e3a\u5b8f\u4ee3\u7801\n\n     \u5982\u679c\u53c2\u6570\u4e2d\u63d0\u4f9b\u4e86ROWS\uff1a\n         \u8fd9\u91cc\u5c06\u628a\u62ec\u53f7\u5185\u5185\u5bb9\u7406\u89e3\u4e3a\u4e00\u884c\u5185\u5bb9\uff0c\u5176\u4e2d\u7684\u6362\u884c\u7b26\u5728\u5904\u7406\u8fc7\u7a0b\u4e2d\u88ab\u53bb\u6389\n         \u76f8\u5173\u4fe1\u606f\u5c06\u88ab\u5b8c\u6210\u5b8f\u66ff\u6362\u540e\uff0c\u91cd\u590dROWS\u884c\u6570\u540e\u6784\u6210\u4e00\u4e2a\u6587\u4ef6\n     \u5982\u679c\u53c2\u6570\u6ca1\u6709\u63d0\u4f9b\u4e86ROWS\uff1a\n         \u8fd9\u91cc\u5c06\u628a\u62ec\u53f7\u5185\u5185\u5bb9\u7406\u89e3\u4e3a\u591a\u884c\u5185\u5bb9\n         \u76f8\u5173\u4fe1\u606f\u5c06\u88ab\u5b8c\u6210\u5b8f\u66ff\u6362\u540e\u6784\u6210\u4e00\u4e2a\u6587\u4ef6\n   ) ROWS [number of rows];\n   \n   MEM:  \u8868\u793a\u6587\u4ef6\u5c06\u88ab\u521b\u5efa\u5728\u5185\u5b58\u4e2d\uff0c\u7a0b\u5e8f\u9000\u51fa\u540e\uff0c\u6587\u4ef6\u5c06\u4e0d\u590d\u5b58\u5728\n   FS:   \u8868\u793a\u6587\u4ef6\u5c06\u88ab\u521b\u5efa\u5728\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7684\u76ee\u5f55\u4e0d\u662f\u771f\u5b9e\u7684OS\u76ee\u5f55\uff0c\u800c\u662f\u4e00\u4e2a\u76f8\u5bf9\u4e8e\u5de5\u4f5c\u76ee\u5f55\u7684\u76f8\u5bf9\u76ee\u5f55\n   HDFS: \u8868\u793a\u6587\u4ef6\u5c06\u88ab\u521b\u5efa\u5728HDFS\u4e0a\uff0c\u8fd9\u91cc\u9700\u8981\u8fdc\u7a0b\u7684HDFS\u670d\u52a1\u5668\u5f00\u542fWebFS\u7684\u529f\u80fd\n         \u6587\u4ef6\u683c\u5f0f\u4f8b\u5b50\uff1a  http://nodexx:port/dirx/diry/xx.dat\n         \u5176\u4e2dport\u662fwebfs\u7684port\uff0c\u4e0d\u662frpc\u7684port\uff0c TestCli\u5e76\u4e0d\u652f\u6301rpc\u534f\u8bae\n   \u8fd9\u91cc\u8bed\u53e5\u7684\u5f00\u5934\uff1a  __internal__ \u662f\u5fc5\u987b\u7684\u5185\u5bb9\uff0c\u56fa\u5b9a\u5199\u6cd5\n   \u5b8f\u4ee3\u7801\u7684\u683c\u5f0f\u5305\u62ec\uff1a\n     {identity(start_number)}                  \u8868\u793a\u4e00\u4e2a\u81ea\u589e\u5b57\u6bb5\uff0c\u8d77\u59cb\u6570\u5b57\u4e3astart_number\n                                               \u5982\u679c\u4e00\u884c\u5185\u6709\u591a\u4e2aidentity\uff0c\u4ed6\u4eec\u5c06\u5206\u522b\u81ea\u589e\n     {identity_timestamp(start_time,fmt,step)} \u8868\u793a\u4e00\u4e2a\u81ea\u589e\u7684\u65f6\u95f4\u6233\n                                               \u8d77\u59cb\u6570\u5b57\u4e3astart_time\uff0c\u683c\u5f0f\u4f4dfmt\uff08\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u662f%Y-%m-%d %H:%M:%S)\uff0c\n                                               \u6bcf\u6b21\u81ea\u589e\u957f\u5ea6\u4e3aStep\uff0c Step\u7684\u5355\u4f4d\u53ef\u4ee5\u662fs,ms,ns (\u9ed8\u8ba4\u4e3ams)\n                                               s: \u79d2 ;  ms: \u6beb\u79d2\uff1b ns: \u7eb3\u79d2\n                                               \u5982\u679c\u4e00\u884c\u5185\u6709\u591a\u4e2aidentity\uff0c\u4ed6\u4eec\u5c06\u5206\u522b\u81ea\u589e\n     {random_ascii_letters(length)}            \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684ascii\u5b57\u7b26\u4e32\uff0c\u53ef\u80fd\u5927\u5199\uff0c\u53ef\u80fd\u5c0f\u5199\uff0c\u6700\u5927\u957f\u5ea6\u4e3alength\n     {random_ascii_lowercase(length)}          \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684ascii\u5b57\u7b26\u4e32\uff0c\u53ea\u80fd\u662f\u5927\u5199\u5b57\u6bcd\uff0c\u6700\u5927\u957f\u5ea6\u4e3alength\n     {random_ascii_uppercase(length)}          \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684ascii\u5b57\u7b26\u4e32\uff0c\u53ea\u80fd\u662f\u5c0f\u5199\u5b57\u6bcd\uff0c\u6700\u5927\u957f\u5ea6\u4e3alength\n     {random_digits(length)}                   \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684\u6570\u5b57\uff0c\u53ef\u80fd\u6570\u5b57\uff0c\u6700\u5927\u957f\u5ea6\u4e3alength\n     {random_ascii_letters_and_digits(length)} \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684ascii\u5b57\u7b26\u4e32\uff0c\u53ef\u80fd\u5927\u5199\uff0c\u53ef\u80fd\u5c0f\u5199\uff0c\u53ef\u80fd\u6570\u5b57\uff0c\u6700\u5927\u957f\u5ea6\u4e3alength\n     {random_date(start, end, frmt)}           \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684\u65e5\u671f\uff0c \u65e5\u671f\u533a\u95f4\u4e3a start\u5230end\uff0c\u65e5\u671f\u683c\u5f0f\u4e3afrmt\n                                               frmt\u53ef\u4ee5\u4e0d\u63d0\u4f9b\uff0c\u9ed8\u8ba4\u4e3a%Y-%m-%d\n     {random_time(start, end, frmt)}           \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684\u65f6\u95f4\uff0c \u65f6\u95f4\u533a\u95f4\u4e3a start\u5230end\uff0c\u65f6\u95f4\u683c\u5f0f\u4e3afrmt\n                                               frmt\u53ef\u4ee5\u4e0d\u63d0\u4f9b\uff0c\u9ed8\u8ba4\u4e3a%H:%M:%S\n     {random_timestamp(start, end, frmt)}      \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684\u65f6\u95f4\u6233\uff0c \u65f6\u95f4\u533a\u95f4\u4e3a start\u5230end\uff0c\u65e5\u671f\u683c\u5f0f\u4e3afrmt\n                                               frmt\u53ef\u4ee5\u4e0d\u63d0\u4f9b\uff0c\u9ed8\u8ba4\u4e3a%Y-%m-%d %H:%M:%S\n     {random_boolean())                        \u8868\u793a\u4e00\u4e2a\u968f\u673a\u7684Boolean\uff0c\u53ef\u80fd\u4e3a0\uff0c\u4e5f\u53ef\u80fd\u4e3a1\n     {current_unixtimestamp()}                 unix\u65f6\u95f4\u6233\u683c\u5f0f\u8868\u793a\u7684\u7cfb\u7edf\u5f53\u524d\u65f6\u95f4\n     {column_name: macro()}                    \u4e00\u4e2a\u5e26\u6709\u5217\u540d\u7684\u5b8f\u5b9a\u4e49\uff0c\u5176\u4e2dmacro()\u7684\u5199\u6cd5\u53c2\u8003\u524d\u9762\u7684\u5199\u6cd5\n     {value(:column_name)}                     \u6839\u636e\u5217\u540d\uff0c\u5f15\u7528\u4e4b\u524d\u7684\u4e00\u4e2a\u5b9a\u4e49\n     {random_from_seed(seedname,length)}                  \u8868\u793a\u4eceseed\u6587\u4ef6\u4e2d\u968f\u673a\u9009\u53d6\u4e00\u4e2a\u5185\u5bb9\uff0c\u5e76\u4e14\u6700\u5927\u957f\u5ea6\u9650\u5236\u5728length, \u6b64\u65f6seedname\u4e0d\u8981\u5f15\u53f7\n     {random_from_seed(seedname,start_pos, length)}       \u8868\u793a\u4eceseed\u6587\u4ef6\u4e2d\u968f\u673a\u9009\u53d6\u4e00\u4e2a\u5185\u5bb9\uff0c\u5185\u5bb9\u4ecestart_pos\u5f00\u59cb(\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u4e3a0)\uff0c \u5e76\u4e14\u6700\u5927\u957f\u5ea6\u9650\u5236\u5728length, \u6b64\u65f6seedname\u4e0d\u8981\u5f15\u53f7\n     \u4f7f\u7528random_from_seed\u9700\u8981\u7528\u5230seed\u6587\u4ef6\uff0c\u5fc5\u987b\u63d0\u524d\u51c6\u5907\u5230$TestCli_HOME/data\u4e0b\uff0c\u7528\u6765\u540e\u7eed\u7684\u968f\u673a\u51fd\u6570  \n\n   SQL> __internal__ DATA CREATE [MEM|FS|HDFS] FILE [LocalFileName] FROM [MEM|FS|HDFS] FILE [RemoteFileName]\n   \u5982\u679c\u662fHDFS\u6587\u4ef6\uff0c\u5219\u6587\u4ef6\u540d\u683c\u5f0f\u4e3a\uff1a http://HDFSHOST:HDFSRPCPORT/RemoteFileName\n   \u4f1a\u4e0b\u8f7d\u76f8\u5e94\u6587\u4ef6, \u5e76\u4fdd\u5b58\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u5373\u5b8c\u6210\u6587\u4ef6\u590d\u5236\n\n   \u4f8b\u5b50\uff1a\n   SQL> __internal__ DATA CREATE FS FILE abc.txt\n      > (\n      > {identity(10)},'{random_ascii_letters(5)}','{random_ascii_lowercase(3)}'\n      > ) ROWS 3;\n    \u4f1a\u5728\u5f53\u524d\u7684\u6587\u4ef6\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3aabc.txt\u7684\u6587\u672c\u6587\u4ef6\uff0c\u5176\u4e2d\u7684\u5185\u5bb9\u4e3a\uff1a\n    10,'vxbMd','jsr'\n    11,'SSiAa','vtg'\n    12,'SSdaa','cfg'\n\n   SQL> __internal__ DATA CREATE FS FILE abc.txt\n      > (\n      > {identity(10)},'{random_ascii_letters(5)}','{random_ascii_lowercase(3)}'\n      > {identity(10)},'{random_ascii_letters(5)}','{random_ascii_lowercase(3)}'\n      > );\n    \u4f1a\u5728\u5f53\u524d\u7684\u6587\u4ef6\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3aabc.txt\u7684\u6587\u672c\u6587\u4ef6\uff0c\u5176\u4e2d\u7684\u5185\u5bb9\u4e3a\uff1a\n    10,'vxbMd','jsr'\n    11,'SSiAa','vtg'\n\n```\n### \u7528TestCli\u5de5\u5177\u64cd\u4f5cKafka\n```\n   TestCli\u5de5\u5177\u53ef\u4ee5\u64cd\u4f5cKafka\uff0c\u5efa\u7acb\u3001\u5220\u9664Topic\uff0c\u67e5\u770bTopic\u7684\u72b6\u6001\uff0c\u7ed9Topic\u53d1\u9001\u4fe1\u606f\n\n   \u63d0\u524d\u51c6\u5907\uff1a\n   SQL> __internal__ kafka connect server [bootstrap_server];\n   \u8fde\u63a5\u4e00\u4e2aKafka\u670d\u52a1\u5668\uff0c\u683c\u5f0f\u4f4dnodex:port1,nodey:port2....\n   \u6ce8\u610f\uff0c\u8fd9\u91cc\u5e76\u6ca1\u6709\u6821\u9a8c\u670d\u52a1\u5668\u7684\u5b9e\u9645\u4fe1\u606f\u662f\u5426\u6b63\u786e\u3002\n\n   SQL> __internal__ kafka create topic [topic name] \n        [ Partitions [number of partitions] \n          replication_factor [number of replication factor] \n          timeout [timeout of creation]\n          .... kafka valid configuration ...\n        ];\n   \u521b\u5efa\u4e00\u4e2akafka\u7684Topic.\n   \u5176\u4e2d\uff1a timeout of creation \u53ef\u4ee5\u7701\u7565\uff0c \u9ed8\u8ba4\u662f60\n         number of partitions \u53ef\u4ee5\u7701\u7565\uff0c \u9ed8\u8ba4\u662f16\n         number of replication factor \u53ef\u4ee5\u7701\u7565\uff0c \u9ed8\u8ba4\u662f1\n         kafka valid configuration    \u53ef\u4ee5\u4e3a1\u4e2a\u6216\u8005\u591a\u4e2a\u6709\u6548\u7684\u914d\u7f6e\u53c2\u6570\uff0c\u6bd4\u5982retention.ms\n   \u4f8b\u5b50\uff1a __internal__ kafka create topic mytopic;\n   \n   SQL> __internal__ kafka get info topic [topic name] group [gruop id];\n   \u5176\u4e2d\uff1a group id \u53ef\u4ee5\u7701\u7565\n   \u83b7\u5f97\u6d88\u606f\u961f\u5217\u7684\u9ad8\u6c34\u4f4d\u7ebf\u548c\u4f4e\u6c34\u4f4d\u7ebf\n    +-----------+-----------+-----------+\n    | Partition | minOffset | maxOffset |\n    +-----------+-----------+-----------+\n    | 0         | 0         | 1         |\n    | 1         | 0         | 1         |\n    +-----------+-----------+-----------+\n   \u4f8b\u5b50\uff1a __internal__ kafka get info topic mytopic Partition 0 group abcd;\n\n   SQL> __internal__ kafka produce message from file [text file name] to topic [topic name];\n   \u5c06\u6307\u5b9a\u6587\u672c\u6587\u4ef6\u4e2d\u6240\u6709\u5185\u5bb9\u6309\u884c\u53d1\u9001\u5230Kafka\u6307\u5b9a\u7684Topic\u4e2d\n   \u4f8b\u5b50\uff1a __internal__ kafka produce message from file Doc.md to topic Hello;\n\n   SQL> __internal__ kafka consume message from topic [topic name] to file [text file name];\n   \u5c06Kafka\u6307\u5b9a\u7684Topic\u4e2d\u6240\u6709\u6d88\u606f\u6d88\u8d39\u5230\u6307\u5b9a\u6587\u672c\u6587\u4ef6\u4e2d\n   \u4f8b\u5b50\uff1a __internal__ kafka consume message from topic Hello to file xxx.md;\n\n   SQL> __internal__ kafka produce message topic [topic name]\n       > (\n       >    [message item1]\n       >    [message item2] \n       >    [message item3]\n       > );\n   \u5c06SQL\u4e2d\u5305\u542b\u7684Message item\u53d1\u9001\u5230kafka\u6307\u5b9a\u7684topic\u4e2d\n   \u4e0a\u8ff0\u7684\u4f8b\u5b50\uff0c\u5c06\u53d1\u90013\u6761\u6d88\u606f\u5230\u670d\u52a1\u5668\u3002\n\n   SQL> __internal__ kafka produce message topic [topic name]\n       > (\n       >    [message part1]\n       >    [message part2] \n       >    [message part3]\n       > ) rows [num of rowcount]\n       > frequency [num of frequency];   \n   \u5c06SQL\u4e2d\u5305\u542b\u7684Message part\u91cd\u590dnum of rowcount\u53d1\u9001\u5230kafka\u6307\u5b9a\u7684topic\u4e2d\n   \u4e0a\u8ff0\u7684\u4f8b\u5b50\uff0c\u5c06\u53d1\u9001num of rowcount\u6761\u6d88\u606f\u5230\u670d\u52a1\u5668\u3002\n   \u5176\u4e2d: num of frequency \u8868\u793a\u6bcf\u79d2\u6700\u591a\u53d1\u9001\u7684\u6d88\u606f\u6570\u91cf\u3002 \u53ef\u4ee5\u7701\u7565\uff0c\u7701\u7565\u8868\u793a\u4e0d\u5bf9\u53d1\u9001\u9891\u7387\u8fdb\u884c\u9650\u5236\n        \u5177\u4f53message part\u7684\u5199\u6cd5\u53c2\u8003\u524d\u9762\u63cf\u8ff0\u7684\u521b\u5efa\u6570\u636e\u6587\u4ef6\u7684\u4f8b\u5b50\n   \u6ce8\u610f\uff1afrequency\u7684\u8ba1\u6570\u5668\u5e76\u4e0d\u662f\u7cbe\u51c6\u8ba1\u6570\u5668\uff0c\u4e0d\u6392\u96641~2\u79d2\u7684\u8bef\u5dee\n\n   SQL> __internal__ kafka drop topic [topic name] timeout [timeout of deletion];\n   \u5176\u4e2d\uff1a timeout of deletion \u53ef\u4ee5\u7701\u7565\uff0c \u9ed8\u8ba4\u662f1800\n   \u5220\u9664\u6307\u5b9a\u7684topic\n```\n\n### \u7528TestCli\u5de5\u5177\u64cd\u4f5cHDFS\n```\n    SQL> __internal__ hdfs connect [hdfs webui url] with user [hdfs user name]\n    \u7528HDFSweb\u8fde\u63a5\u5230\u6307\u5b9a\u7684HDFS\u4e0a\n    \u4f8b\u5b50\uff1a\n    SQL> __internal__  hdfs connect http://localhost:9870/user/testuser/abcd with user testuser;\n    Hdfs Server set successful.\n    \u8fd9\u91cc\u7684/user/testuser/abcd\u5c06\u4f5c\u4e3a\u540e\u7eedHDFS\u64cd\u4f5c\u7684\u6839\u76ee\u5f55\n\n    SQL> __internal__ hdfs cd [hdfs new dir]\n    \u5207\u6362\u5f53\u524dHDFS\u7684\u4e3b\u76ee\u5f55\u5230\u65b0\u7684\u76ee\u5f55\u4e0a\n    \u4f8b\u5b50\uff1a\n    SQL> __internal__  hdfs cd testuser/abcd;\n    Hdfs root dir change successful.\n    \u8fd9\u91cc\u7684testuser/abcd\u5c06\u4f5c\u4e3a\u540e\u7eedHDFS\u64cd\u4f5c\u7684\u6839\u76ee\u5f55\n\n    SQL> __internal__ hdfs status [hdfs path]\n    \u83b7\u53d6\u6307\u5b9a\u7684HDFS\u6587\u4ef6\u4fe1\u606f\n    \u4f8b\u5b50\uff1a\n    SQL> __internal__  hdfs status aa.log;\n    HDFS file status:\n    +--------+------------+-------+--------+------+---------------------+\n    | Path   | Permission | owner | group  | Size | Modified            |\n    +--------+------------+-------+--------+------+---------------------+\n    | aa.log | -rw-r--r-- | ldb   | ldbp67 | 1148 | 2021-03-05 11:11:41 |\n    +--------+------------+-------+--------+------+---------------------+\n    Total 1 files listed.\n\n    SQL> __internal__ hdfs list [hdfs path] \n    \u663e\u793a\u8fdc\u7a0b\u7684HDFS\u6587\u4ef6\u76ee\u5f55\u4fe1\u606f\u3002 hdfs_path\u53ef\u4ee5\u7701\u7565\uff0c\u7701\u7565\u60c5\u51b5\u4e0b\u663e\u793a\u5f53\u7136\u76ee\u5f55\u4fe1\u606f\u3002\n    \u4f8b\u5b50\uff1a\n    SQL> __internal__  hdfs list;\n    HDFS file List:\n    +-------+------------+--------+--------+------+---------------------+\n    | Path  | Permission | owner  | group  | Size | Modified            |\n    +-------+------------+--------+--------+------+---------------------+\n    | 111   | drwxr-xr-x | ldbp67 | ldbp67 | 0    | 2021-03-05 09:26:56 |\n    | aa.sh | -rw-r--r-- | ldbp67 | ldbp67 | 363  | 2021-03-05 09:07:35 |\n    +-------+------------+--------+--------+------+---------------------+\n    Total 2 files listed.\n\n    SQL> __internal__ hdfs rm [hdfs path]\n    \u5220\u9664\u6307\u5b9a\u7684HDFS\u6587\u4ef6\u4fe1\u606f\uff0c\u5982\u679c\u9700\u8981\u5220\u9664\u591a\u4e2a\u6587\u4ef6\uff0c\u53ef\u4ee5\u63d0\u4f9b\u6587\u4ef6\u901a\u914d\u7b26\n    \u4f8b\u5b50\uff1a\n    SQL> __internal__  hdfs rm aa.log;\n    Hdfs file deleted successful.\n\n    SQL> __internal__ hdfs makedirs [hdfs path]\n    \u5efa\u7acb\u9700\u8981\u7684HDFS\u8def\u5f84\n\n    SQL> __internal__ hdfs upload [local file] [remote file]\n    \u4e0a\u4f20\u672c\u5730\u6587\u4ef6\u5230\u8fdc\u7a0b\u7684HDFS\u6587\u4ef6\u76ee\u5f55\u4e2d\n\n    SQL> __internal__ hdfs download [remote file] [local file] \n    \u4e0b\u8f7d\u8fdc\u7a0b\u7684HDFS\u6587\u4ef6\u5230\u672c\u5730\u6587\u4ef6\u76ee\u5f55\u4e2d\n\n```\n### \u7528TestCli\u5de5\u5177\u56de\u5f52\u6d4b\u8bd5\u6821\u9a8c\n```\n   TestCli\u53ef\u4ee5\u5728\u4f60\u6267\u884c\u6d4b\u8bd5\u811a\u672c\u7684\u65f6\u5019\u5c06\u76f8\u5173\u8f93\u51fa\u901a\u8fc7Spool\u547d\u4ee4\u8f93\u51fa\u5230\u6307\u5b9a\u7684\u65e5\u5fd7\u4e2d\uff08\u5177\u4f53\u65b9\u6cd5\u53c2\u8003Spool\u7684\u547d\u4ee4\uff09\n   \u901a\u8fc7\u8bb0\u5f55\u8f93\u51fa\u5185\u5bb9\uff0c\u6bd4\u5bf9\u4e4b\u524d\u7684\u8f93\u51fa\u5185\u5bb9\uff0c\u53ef\u4ee5\u5b8c\u6210\u56de\u5f52\u6d4b\u8bd5\u7684\u6821\u9a8c\n\n   SQL> __internal__ test set IgnoreEmptyLine TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u662f\u5426\u5ffd\u7565\u7a7a\u767d\u884c\uff0c\u9ed8\u8ba4\u4e3a\u5ffd\u7565\n\n   SQL> __internal__ test set CompareEnableMask TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u662f\u5426\u652f\u6301\u5728Ref\u6587\u4ef6\u4e2d\u5199\u5165\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u662f\n\n   SQL> __internal__ test set CompareIgnoreCase TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u662f\u5426\u5ffd\u7565\u5927\u5c0f\u5199\u7684\u4e0d\u540c\uff0c\u9ed8\u8ba4\u4e3aFalse\uff0c\u5373\u4e0d\u5ffd\u7565\n\n   SQL> __internal__ test set CompareIgnoreTailOrHeadBlank TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u662f\u5426\u5ffd\u7565\u884c\u9996\u6216\u8005\u884c\u672b\u7684\u7a7a\u683c\uff0c\u9ed8\u8ba4\u4e3aFalse\uff0c\u5373\u4e0d\u5ffd\u7565\n\n   SQL> __internal__ test set CompareWorkEncoding TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u662f\u5bf9Work\u6587\u4ef6\u7684\u5b57\u7b26\u96c6\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3aUTF-8\n\n   SQL> __internal__ test set CompareResultEncoding TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u8f93\u51fa\u7684\u7ed3\u679c\u6587\u4ef6\u7684\u5b57\u7b26\u96c6\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3aUTF-8\n\n   SQL> __internal__ test set CompareRefEncoding TRUE|FALSE\n   \u63a7\u5236\u5728Compare\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u53c2\u8003Ref\u6587\u4ef6\u7684\u5b57\u7b26\u96c6\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3aUTF-8\n\n   SQL> __internal__ test set CompareSkip CHAR_STRING\n   \u5f53\u5de5\u4f5c\u6587\u4ef6\u4e2d\u51fa\u73b0\u7b26\u5408CHAR_STRING\u7684\u4fe1\u606f\u540e\uff0c\u8fd9\u4e00\u884c\u5c06\u4e0d\u4f5c\u4e3a\u6bd4\u5bf9\u5224\u65ad\u4f9d\u636e\uff0c\u5373\u5373\u4f7f\u8fd9\u4e00\u884c\u4e0d\u540c\uff0c\u6bd4\u5bf9\u7684\u7ed3\u679c\u4ecd\u7136\u662f\u7b26\u5408\n   CHAR_STRING\u4e3a\u4e00\u4e2a\u5408\u6cd5\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u8fd9\u91cc\u662f\u4e00\u4e2a\u5b8c\u5168\u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\n   \u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u60f3\u5ffd\u7565\u65e5\u5fd7\u4e2d\u6240\u6709\u5305\u542b\u201d\u5f53\u524d\u65f6\u95f4\u201c\u5b57\u6837\u7684\u884c\uff0c\u8fd9\u91cc\u5e94\u8be5\u5199\u4f5c\uff1a\n   SQL> __internal__ test set CompareSkip .*\u5f53\u524d\u65f6\u95f4.*\n\n   SQL> __internal__ test set CompareNotSkip CHAR_STRING\n   \u53cd\u5411\u53d6\u6d88\u4e4b\u524d\u8bbe\u7f6e\u7684CompareSkip\u5bf9\u5e94\u4fe1\u606f\n\n   SQL> __internal__ test set CompareMask CHAR_STRING1=>CHAR_STRING2\n   \u5f53\u5de5\u4f5c\u6587\u4ef6\u4e2d\u51fa\u73b0\u7b26\u5408CHAR_STRING1\u7684\u4fe1\u606f\u540e\uff0c\u5728\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\uff0cCHAR_STRING1\u4f1a\u88ab\u9996\u5148\u66ff\u6362\u6210CHAR_STRING2\uff0c\u968f\u540e\u8fdb\u884c\u6bd4\u5bf9\n   CHAR_STRING1\u4e3a\u4e00\u4e2a\u5408\u6cd5\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u8fd9\u91cc\u662f\u4e00\u4e2a\u90e8\u5206\u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\uff08\u548c\u4e4b\u524d\u7684CompareSkip\u4e0d\u4e00\u6837\uff09\n   \u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u60f3\u66ff\u6362\u65e5\u5fd7\u4e2d\u6240\u6709\u5305\u542b\u201d\u5f53\u524d\u65f6\u95f4\u201c\u4e2d\u5177\u4f53\u7684\u65f6\u95f4\u4fe1\u606f\uff0c\u8fd9\u91cc\u5e94\u8be5\u5199\u4f5c\uff1a\n   SQL> __internal__ test set CompareMask \u5f53\u524d\u65f6\u95f4.*=>\u5f53\u524d\u65f6\u95f4*****\n   \u8fd9\u6837\uff0c\u5982\u4e0b\u7684\u8f93\u51fa\u201d\u5f53\u524d\u65f6\u95f4\uff1a 2021-03-13\u201c \u4f1a\u5728\u6bd4\u5bf9\u4e2d\u88ab\u66ff\u6362\u6210\u201d\u5f53\u524d\u65f6\u95f4*****\u201c\n\n   SQL> __internal__ test set CompareNotSMask CHAR_STRING1=>CHAR_STRING2\n   \u53cd\u5411\u53d6\u6d88\u4e4b\u524d\u8bbe\u7f6e\u7684CompareMask\u5bf9\u5e94\u4fe1\u606f\n\n   SQL> __internal__ test Compare  WORKFILE  REFFILE\n   \u6bd4\u5bf9WORKFILE\u548cREFFILE\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u5e76\u8f93\u51fa\u6bd4\u5bf9\u7ed3\u679c\n   SQL> __internal__ test set CompareGenerateReport TRUE|FALSE\n   \u53ef\u4ee5\u8f93\u51fa\u7684\u62a5\u544a\u4fe1\u606f\u62a5\u544a\uff1a\n       dif \u6587\u4ef6\uff1a   \u5f53\u524d\u5de5\u4f5c\u6587\u4ef6\u548c\u53c2\u8003Ref\u6587\u4ef6\u7684\u6bd4\u5bf9\u7ed3\u679c\uff08\u4ec5\u5728\u6bd4\u5bf9\u5931\u8d25\u7684\u65f6\u5019\u4ea7\u751f\uff0c\u6bd4\u5bf9\u6210\u529f\u7684\u65f6\u5019\u4e0d\u5b58\u5728\uff09\n                   dif\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u7684\u683c\u5f0f\u4e3a\uff1a  \n                      FLAG   \u884c\u53f7(\u5de5\u4f5c\u6587\u4ef6\uff09    \u884c\u53f7\uff08\u53c2\u8003\u6587\u4ef6\uff09     \u5de5\u4f5c\u6587\u4ef6/\u53c2\u8003\u6587\u4ef6\u5185\u5bb9\n                   FLAG\u53ef\u4ee5\u6709\uff1a\n                      \u7a7a    \uff1a  \u7a7a\u767d\uff0c\u5373\u5de5\u4f5c\u6587\u4ef6\u548c\u53c2\u8003\u6587\u4ef6\u5b8c\u6210\u76f8\u540c\n                      -     \uff1a  \u8868\u793a\u5de5\u4f5c\u6587\u4ef6\u4e2d\u7f3a\u5931\uff0c\u4f46\u662f\u53c2\u8003\u6587\u4ef6\u4e2d\u5b58\u5728\uff0c\u6b64\u523b\u5185\u5bb9\u8f93\u51fa\u7684\u662f\u53c2\u8003\u6587\u4ef6\u5185\u5bb9\n                      +     \uff1a  \u8868\u793a\u5de5\u4f5c\u6587\u4ef6\u4e2d\u65b0\u589e\uff0c\u4f46\u662f\u53c2\u8003\u6587\u4ef6\u4e2d\u7f3a\u5931\uff0c\u6b64\u523b\u5185\u5bb9\u8f93\u51fa\u7684\u662f\u5de5\u4f5c\u6587\u4ef6\u5185\u5bb9\n                      S     :   \u8868\u793a\u8fd9\u4e00\u884c\u7531\u4e8e\u53c2\u6570\u7684\u914d\u7f6e\uff0c\u5df2\u7ecf\u88ab\u6bd4\u5bf9\u5de5\u5177\u5ffd\u7565\n       suc \u6587\u4ef6\uff1a   \u5f53\u524d\u5de5\u4f5c\u6587\u4ef6\u548c\u53c2\u8003Ref\u6587\u4ef6\u7684\u6bd4\u5bf9\u7ed3\u679c\uff08\u4ec5\u5728\u6bd4\u5bf9\u6210\u529f\u7684\u65f6\u5019\u4ea7\u751f\uff0c\u6bd4\u5bf9\u5931\u8d25\u7684\u65f6\u5019\u4e0d\u5b58\u5728\uff0c\u5185\u5bb9\u4e3a\u7a7a\uff09\n       xlog\u6587\u4ef6\uff1a   \u6bd4\u5bf9\u7ed3\u679c\u7684JSON\u683c\u5f0f\u8f93\u51fa\u4fe1\u606f\uff0c\u7ed3\u6784\u4e3a\uff1a\n                {\n                     \"ScenarioResults\":\n                           [\n                               {\"ScenarioName1\":\"\u8be5\u573a\u666f\u5904\u7406\u7ed3\u679c\u3002\u5982\u679c\u5931\u8d25\uff0c\u8fd9\u91cc\u8bb0\u5f55\u8be5\u573a\u666f\u5931\u8d25\u7684\u6458\u8981\u4fe1\u606f\"},\n                               {\"ScenarioName2\":\"\u8be5\u573a\u666f\u5904\u7406\u7ed3\u679c\u3002\u5982\u679c\u5931\u8d25\uff0c\u8fd9\u91cc\u8bb0\u5f55\u8be5\u573a\u666f\u5931\u8d25\u7684\u6458\u8981\u4fe1\u606f\"},\n                               .....\n                           ]\n                }\n\n   SQL> __internal__ test assert  \u5224\u65ad\u8868\u8fbe\u5f0f\n   \u6839\u636e\u5224\u65ad\u8868\u8fbe\u5f0f\u7ed9\u51fa\u7ed3\u679c\uff0c\u5982\u679c\u4e3aTrue\uff0c\u663e\u793aAssert Successful\u3002 \u53cd\u4e4b\u663e\u793aAssert Failed.\n\n   \u8fd9\u91cc\u662f\u4e00\u4e2a\u5178\u578b\u7684\u7528\u6bd4\u5bf9\u65b9\u5f0f\u6765\u6821\u9a8c\u56de\u5f52\u7ed3\u679c\u7684\u4f8b\u5b50\uff1a\n    SQL> connect mem\n    Database connected.\n    \n    -- \u5f00\u59cb\u5c06\u8f93\u51fa\u7ed3\u679c\u8bb0\u5f55\u5230aa.log\u4e2d\n    SQL> spool aa.log\n    SQL> select 3+5 from dual;\n    +---+\n    | 8 |\n    +---+\n    | 8 |\n    +---+\n    1 row selected.\n    \n    SQL> spool off    \n    SQL> __internal__ test set CompareReportDetailMode True;\n    set successful.\n    \n    -- \u8fd9\u91cc\u6bd4\u5bf9\u521a\u4ea7\u751f\u7684SQL\u65e5\u5fd7\u548c\u4e4b\u524d\u5907\u4efd\u597d\u7684\u6bd4\u5bf9\u7ed3\u679c\u6587\u4ef6(aa.ref)\uff0c\u5e76\u663e\u793a\u6bd4\u5bf9\u7ed3\u679c\n    SQL> __internal__ test compare aa.log aa.ref;\n    Compare text files:\n      Workfile:          [aa.log]\n      Reffile:           [aa.ref]\n    +----------+------------+\n    | Scenario | Result     |\n    +----------+------------+\n    | NONE-0   | Successful |\n    +----------+------------+\n    Compare Successful!\n\n    -- \u5982\u679c\u6bd4\u5bf9\u5931\u8d25\uff0c\u663e\u793a\u7684\u7ed3\u679c\u7c7b\u4f3c\u5982\u4e0b\uff1a\n    Compare text files:\n      Workfile:          [aa.log]\n      Reffile:           [aa.ref]\n    +----------+--------+\n    | Scenario | Result |\n    +----------+--------+\n    | NONE-0   | Failed |\n    +----------+--------+\n    Compare Failed!\n    ... >>>>>>> ...\n    Scenario:[NONE-0]\n          1 SQL> select 3+5 from dual;\n          2 +---+\n          3 | 8 |\n          4 +---+\n    -     5 | 8 |\n    +     5 | 9 |\n          6 +---+\n          7 1 row selected.\n```\n***    \n### \u9000\u51fa\n\u4f60\u53ef\u4ee5\u4f7f\u7528exit\u6765\u9000\u51fa\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u6216\u8005\u5728\u811a\u672c\u4e2d\u4f7f\u7528Exit\u6765\u9000\u51fa\u6b63\u5728\u6267\u884c\u7684\u811a\u672c\n```\nSQL> exit\nDisconnected.\n```\n\u6ce8\u610f\uff1a \u5982\u679c\u5f53\u524d\u6709\u540e\u53f0\u4efb\u52a1\u6b63\u5728\u8fd0\u884c\uff0cEXIT\u5e76\u4e0d\u80fd\u7acb\u523b\u5b8c\u6210\u3002  \n1\uff1a \u63a7\u5236\u53f0\u5e94\u7528\uff1aEXIT\u5c06\u4e0d\u4f1a\u9000\u51fa\uff0c\u800c\u662f\u4f1a\u63d0\u793a\u4f60\u9700\u8981\u7b49\u5f85\u540e\u53f0\u8fdb\u7a0b\u5b8c\u6210\u5de5\u4f5c  \n2\uff1a \u811a\u672c\u5e94\u7528\uff1a  EXIT\u4e0d\u4f1a\u76f4\u63a5\u9000\u51fa\uff0c\u800c\u662f\u4f1a\u7b49\u5f85\u540e\u53f0\u8fdb\u7a0b\u5b8c\u6210\u5de5\u4f5c\u540e\u518d\u9000\u51fa  \n***\n### \u7a0b\u5e8f\u7684\u5e76\u53d1\u548c\u540e\u53f0\u6267\u884c\nTestCli\u88ab\u8bbe\u8ba1\u4e3a\u652f\u6301\u5e76\u53d1\u6267\u884c\u811a\u672c\uff0c\u652f\u6301\u540e\u53f0\u6267\u884c\u811a\u672c\u3002    \n\u4e3a\u4e86\u652f\u6301\u540e\u53f0\u64cd\u4f5c\uff0c\u6211\u4eec\u8fd9\u91cc\u6709\u4e00\u7cfb\u5217\u7684\u8bed\u53e5\uff0c\u4ed6\u4eec\u662f\uff1a    \n1\uff1a  Create         \u521b\u5efa\u540e\u53f0\u4efb\u52a1      \n2\uff1a  set            \u8bbe\u7f6eJOB\u76f8\u5173\u53c2\u6570    \n3\uff1a  show           \u663e\u793a\u5f53\u524d\u5df2\u7ecf\u63d0\u4ea4\u7684\u540e\u53f0\u4efb\u52a1\uff0c\u4ee5\u53ca\u4ed6\u4eec\u7684\u8fd0\u884c\u72b6\u6001    \n4\uff1a  start          \u5f00\u59cb\u8fd0\u884c\u540e\u53f0\u4f5c\u4e1a    \n5\uff1a  abort          \u653e\u5f03\u6b63\u5728\u6267\u884c\u7684JOB\uff0c\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684SQL\u5c06\u88ab\u5f3a\u5236\u4e2d\u65ad    \n6\uff1a  shutdown       \u505c\u6b62\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684JOB\uff0c\u4f46\u7b49\u5f85\u5f53\u524dSQL\u6b63\u5e38\u7ed3\u675f    \n7\uff1a  waitJob        \u7b49\u5f85\u4f5c\u4e1a\u961f\u5217\u5b8c\u6210\u76f8\u5173\u5de5\u4f5c    \n8\uff1a  timer          \u76f8\u5173Worker\u8fdb\u7a0b\u7b49\u5f85\u805a\u5408\u70b9\n\n#### \u521b\u5efa\u540e\u53f0\u4efb\u52a1\u811a\u672c\n\u5728\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981TestCli\u6765\u5e2e\u6211\u4eec\u6765\u8fd0\u884c\u6570\u636e\u5e93\u811a\u672c\uff0c\u4f46\u662f\u53c8\u4e0d\u60f3\u7b49\u5f85\u811a\u672c\u7684\u8fd0\u884c\u7ed3\u675f\u3002    \ncreate\u53ef\u4ee5\u6709\u591a\u4e2a\u53c2\u6570\uff1a      \n\u53c2\u65701\uff1a     JOB\u7684\u540d\u79f0  \n\u53c2\u65702-..:   JOB\u7684\u5404\u79cd\u53c2\u6570\uff0c\u8981\u6c42\u6210\u5bf9\u51fa\u73b0 ParameterName  ParameterValue\n```\nSQL> __internal__ job create jobtest;\nJOB [jobtest] create successful.\nSQL> __internal__ job create jobtest2 loop 4;\nJOB [jobtest2] create successful.\nSQL> __internal__ job create jobtest3 loop 4 parallel 2;\nJOB [jobtest3] create successful.\n\n```\n2:  \u8bbe\u7f6eJOB\u7684\u76f8\u5173\u53c2\u6570    \n\u901a\u8fc7set\uff0c\u6211\u4eec\u53ef\u4ee5JOB\u7684\u5177\u4f53\u53c2\u6570\u3002 \u652f\u6301\u7684\u53c2\u6570\u6709\uff1a\n```  \nscript                   \uff1a  \u5fc5\u9009\u53c2\u6570\u3002\u540e\u53f0\u4f5c\u4e1a\u7684\u811a\u672c\u540d\u79f0\u3002\u53ef\u4ee5\u7528\u7edd\u5bf9\u8def\u5f84\u5199\u6216\u8005\u5f53\u524d\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84    \nparallel                 \uff1a  \u53ef\u9009\u53c2\u6570\u3002\u540e\u53f0\u4f5c\u4e1a\u5e76\u53d1\u5ea6\uff0c\u5373\u540c\u65f6\u53ef\u4ee5\u6709\u51e0\u4e2a\u4f5c\u4e1a\u5728\u8fd0\u884c\u8be5\u811a\u672c\u3002\u9ed8\u8ba4\u4e3a1  \nloop                     \uff1a  \u53ef\u9009\u53c2\u6570\u3002\u4e00\u5171\u8981\u5faa\u73af\u5b8c\u6210\u7684\u6b21\u6570\uff0c\u9ed8\u8ba4\u4e3a1    \ntimeout                  \uff1a  \u53ef\u9009\u53c2\u6570\u3002\u540e\u53f0\u4f5c\u4e1a\u7684\u8d85\u65f6\u9650\u5236\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u5373\u4e0d\u9650\u5236\n                             \u82e5\u8bbe\u7f6e\u4e3a\u975e\u96f6\u6570\uff0c\u5219\u5728\u8fbe\u5230\u6307\u5b9a\u7684\u65f6\u95f4\u540e\uff0c\u4f5c\u4e1a\u4f1a\u88ab\u5f3a\u884c\u7ec8\u6b62\uff0c\u4e0d\u518d\u7ee7\u7eed\u4e0b\u53bb\nstarter_maxprocess       \uff1a  \u4e3a\u51cf\u5c11\u9996\u6b21\u542f\u52a8\u7684\u8d1f\u8f7d\u538b\u529b\u3002\u6bcf\u6b21\u542f\u52a8\u4f5c\u4e1a\u65f6\uff0c\u5355\u4e2a\u6279\u6b21\u6700\u5927\u542f\u52a8\u591a\u5c11\u4e2a\u5e76\u884c\u4f5c\u4e1a\n                             \u53ea\u5728\u4f5c\u4e1a\u9996\u6b21\u542f\u52a8\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u53c2\u6570\u6709\u610f\u4e49\u3002\n                             \u9ed8\u8ba4\u662f9999\uff0c\u5373\u5b8c\u5168\u4e0d\u505a\u9650\u5236\n                             \u4f8b\u5982\uff1a parallel \u8bbe\u7f6e\u4e3a10\uff0cstarter_maxprocess\u4e3a2\uff0c\n                               \u5219\uff1a\u4ee5starter_interval\u4e3a\u95f4\u9694\uff0c\u6bcf\u6b212\u4e2a\u542f\u52a8\u4f5c\u4e1a\uff0c\u4e00\u76f4\u5230\u6ee1\u8db3parallel\u8981\u6c42 \nstarter_interval         \uff1a  \u4e3a\u51cf\u5c11\u9996\u6b21\u542f\u52a8\u7684\u8d1f\u8f7d\u538b\u529b\u3002\u6bcf\u6b21\u542f\u52a8\u4f5c\u4e1a\u65f6\uff0c\u5355\u4e2a\u6279\u6b21\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u9ed8\u8ba4\u662f0\uff0c\u5373\u4e0d\u7b49\u5f85\nthink_time               \uff1a  \u6bcf\u4e00\u6b21\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u542f\u52a8\u4e0b\u4e00\u4e2a\u4f5c\u4e1a\u4e2d\u95f4\u9700\u8981\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u9ed8\u8ba4\u662f0\uff0c\u5373\u4e0d\u7b49\u5f85\nblowout_threshold_count  \uff1a  \u5b8c\u5168\u5931\u8d25\u9608\u503c\uff0c\u82e5\u5931\u8d25\u6b21\u6570\u5df2\u7ecf\u8fbe\u5230\u8be5\u6b21\u6570\uff0c\u8ba4\u4e3a\u540e\u7eed\u4f5c\u4e1a\u5df2\u7ecf\u6ca1\u5fc5\u8981\u8fd0\u884c\u3002\u9ed8\u8ba4\u662f0\uff0c\u5373\u4e0d\u9650\u5236   \ntag                      \uff1a  \u7a0b\u5e8f\u7ec4\u6807\u8bc6\uff0c\u6240\u6709\u5177\u6709\u76f8\u540ctag\u7684Worker\u8fdb\u7a0b\u5728\u5224\u65ad\u805a\u5408\u70b9\u7684\u65f6\u5019\u5c06\u4fdd\u6301\u540c\u6b65\n\u4f8b\u5b50\uff1a \nSQL> __internal__ job set jobtest parallel 2;\nJOB [jobtest] set successful.\nSQL> __internal__ job set jobtest loop 4;\nJOB [jobtest] set successful.\nSQL> __internal__ job set jobtest script bb.sql;\nJOB [jobtest] set successful.\nSQL>\n```\n\n#### \u67e5\u770b\u540e\u53f0\u4efb\u52a1\u811a\u672c\u7684\u8fd0\u884c\u60c5\u51b5\n\u901a\u8fc7show\u53ef\u4ee5\u67e5\u770b\u6211\u4eec\u4e4b\u524d\u63d0\u4ea4\u60c5\u51b5\uff0c\u811a\u672c\u7684\u8fd0\u884c\u60c5\u51b5\uff0c\u8fd0\u884c\u7684\u5f00\u59cb\u65f6\u95f4\uff0c\u8fd0\u884c\u7684\u7ed3\u675f\u65f6\u95f4\uff0c\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684SQL\u7b49\u3002\n```\nSQL> -- \u67e5\u770bJOB\u6574\u4f53\u60c5\u51b5\nSQL> __internal__ job show all;\n+----------+-----------+-------------+-------------+---------------+---------------------+------------+----------+\n| job_name | status    | active_jobs | failed_jobs | finished_jobs | submit_time         | start_time | end_time |\n+----------+-----------+-------------+-------------+---------------+---------------------+------------+----------+\n| jobtest  | Submitted | 0           | 0           | 0             | 2020-12-02 11:00:41 | None       | None     |\n+----------+-----------+-------------+-------------+---------------+---------------------+------------+----------+\nTotal 1 Jobs.\n\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u76ee\u524d1\u4e2a\u811a\u672c\u5df2\u7ecf\u63d0\u4ea4.\n\nSQL> -- \u67e5\u770bJOB\u5177\u4f53\u60c5\u51b5 \nSQL> __internal__ job show jobtest;\nJOB_Name = [jobtest     ]; ID = [   3]; Status = [Submitted          ]\nActiveJobs/FailedJobs/FinishedJobs: [         0/         0/         0]\nSubmit Time: [2020-12-02 11:00:41                                    ]\nStart Time : [None                ] ; End Time: [None                ]\nScript              : [bb.sql                                        ]\nScript Full FileName: [None                                          ]\nParallel: [         2]; Loop: [         4]; Starter: [    9999/    0s]\nThink time: [         0]; Timeout: [         0]; Elapsed: [      0.00]\nBlowout Threshold Count: [                                       9999]\nError Message : [None                                                ]\nDetail Tasks:\n+----------+----------+--------------------+--------------------+\n|Task-ID   |PID       |Start_Time          |End_Time            |\n+----------+----------+--------------------+--------------------+\n\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u5177\u4f53\u5bf9\u4e8eJOB\u540d\u79f0\u4e3ajobtst\u7684\u4efb\u52a1\u7684\u8be6\u7ec6\u60c5\u51b5\n```\n  \n#### \u5982\u4f55\u542f\u52a8\u540e\u53f0\u4efb\u52a1\u811a\u672c\n\u901a\u8fc7start\u7684\u65b9\u5f0f\uff0c\u6211\u53ef\u4ee5\u542f\u52a8\u5168\u90e8\u7684\u540e\u53f0\u4efb\u52a1\u6216\u8005\u53ea\u542f\u52a8\u90e8\u5206\u540e\u53f0\u4efb\u52a1\n```\nSQL> set jobmanager on\nSQL> __internal__ job start all;\n1 Jobs Started.\n\u8fd9\u91cc\u4f1a\u5c06\u4f60\u4e4b\u524d\u63d0\u4ea4\u7684\u6240\u6709\u540e\u53f0\u811a\u672c\u90fd\u4e00\u6b21\u6027\u7684\u542f\u52a8\u8d77\u6765\nSQL> __internal__ job start jobtest;\n1 Jobs Started.\n\u8fd9\u91cc\u53ea\u4f1a\u542f\u52a8JOB\u540d\u79f0\u4e3ajobtest\u7684\u540e\u53f0\u4efb\u52a1\n\u968f\u540e\uff0c\u518d\u6b21\u901a\u8fc7show\u6765\u67e5\u770b\u4fe1\u606f\uff0c\u53ef\u4ee5\u6ce8\u610f\u5230\u76f8\u5173\u5df2\u7ecf\u542f\u52a8\n```\n#### \u5982\u4f55\u505c\u6b62\u540e\u53f0\u4efb\u52a1\u811a\u672c\n\u5728\u811a\u672c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u4ee5\u7528shutdown\u6765\u505c\u6b62\u67d0\u4e2a\u67d0\u4e2a\u4efb\u52a1\u6216\u8005\u5168\u90e8\u4efb\u52a1\uff0c\n```\nSQL> __internal__ job shutdown all;\nTotal [1] jobs shutdowned.\n\u8fd9\u91cc\u4f1a\u5c06\u5f53\u524d\u8fd0\u884c\u7684\u6240\u6709\u540e\u53f0\u811a\u672c\u90fd\u505c\u6b62\u4e0b\u6765\nSQL> __internal__ job shutdown jobtst;\nTotal [1] jobs shutdowned.\n\u6ce8\u610f\uff1a shutdown\u5e76\u4e0d\u4f1a\u771f\u7684\u7ec8\u6b62\u4f60\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\uff0c\u4f46\u662f\u5728\u8fd9\u4e2a\u4f5c\u4e1a\u4e4b\u540e\u7684\u6240\u6709\u4f5c\u4e1a\u4e0d\u518d\u6267\u884c\uff0c\u8981\u6c42\u5faa\u73af\u6267\u884c\u7684\u811a\u672c\u4e5f\u4e0d\u518d\u5faa\u73af\u3002\n      \u53ea\u6709\u5728\u5b50\u4efb\u52a1\u5b8c\u6210\u5f53\u524d\u4f5c\u4e1a\u540e\uff0cshutdownjob\u624d\u80fd\u5b8c\u6210\u3002\n      \u8fd9\u4e2a\u610f\u601d\u662f\u8bf4\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u957fSQL\u4f5c\u4e1a\uff0cshutdownjob\u5e76\u4e0d\u80fd\u5f88\u5feb\u7684\u7ec8\u6b62\u4efb\u52a1\u8fd0\u884c\u3002\n```\n#### \u5982\u4f55\u5f3a\u884c\u505c\u6b62\u540e\u53f0\u4efb\u52a1\u811a\u672c\n\u5728\u811a\u672c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u4ee5\u7528abort\u6765\u5f3a\u884c\u505c\u6b62\u67d0\u4e2a\u67d0\u4e2a\u4efb\u52a1\u6216\u8005\u5168\u90e8\u4efb\u52a1\uff0c\n```\nSQL> __internal__ job abort all;\nTotal [1] jobs aborted.\n\u8fd9\u91cc\u4f1a\u5c06\u5f53\u524d\u8fd0\u884c\u7684\u6240\u6709\u540e\u53f0\u811a\u672c\u90fd\u505c\u6b62\u4e0b\u6765\nSQL> __internal__ job abort jobtst;\nTotal [1] jobs aborted.\n```\n#### \u7b49\u5f85\u540e\u53f0\u4efb\u52a1\u811a\u672c\u8fd0\u884c\u7ed3\u675f\n\u5728\u811a\u672c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u4ee5\u7528wait\u6765\u7b49\u5f85\u540e\u53f0\u811a\u672c\u7684\u8fd0\u884c\u7ed3\u675f\n```\nSQL> __internal__ job wait all;\nAll jobs [all] finished.\nSQL> __internal__ job wait jobtest;\nAll jobs [jobtest] finished.\nwaitjob\u4e0d\u4f1a\u9000\u51fa\uff0c\u800c\u662f\u4f1a\u4e00\u76f4\u7b49\u5f85\u76f8\u5173\u811a\u672c\u7ed3\u675f\u540e\u518d\u9000\u51fa\n```\n#### \u5982\u4f55\u8ba9\u82e5\u5e72\u7684Worker\u5e94\u7528\u7a0b\u5e8f\u4fdd\u6301\u805a\u5408\u70b9\n\u4e3b\u8c03\u5ea6\u7a0b\u5e8f\u811a\u672c\uff1a\n```\nSQL> set jobmanager on\nSQL> __internal__ job create mytest loop 2 parallel 2 script slave1.sql tag group1;\nSQL> __internal__ job create mytest2 loop 2 parallel 2 script slave2.sql tag group1;\nSQL> __internal__ job start mytest;\nSQL> __internal__ job start mytest2;\nSQL> __internal__ job wait all;\n```\n\nWorker\u5e94\u7528\u7a0b\u5e8f\u811a\u672c(slave1.sql, slave2.sql)\uff1a\n```\n-- \u4e24\u4e2aWorker\u7a0b\u5e8f(slave1.sql,slave2.sql)\u5c06\u4f1a\u540c\u65f6\u7ed3\u675fall_slave_started\u7684\u805a\u5408\u70b9\nSQL> __internal__ job timer all_slave_started;\nSQL> do some sql\nSQL> __internal__ job timer slave_point1;\nSQL> do some sql\nSQL> __internal__ job timer slave_finished;\n```\n\n***\n#### \u540e\u53f0\u6267\u884c\u811a\u672c\u5728\u4e3b\u7a0b\u5e8f\u9000\u51fa\u65f6\u5019\u7684\u5f71\u54cd\n\u5982\u679c\u5f53\u524d\u6709\u540e\u53f0\u7a0b\u5e8f\u8fd0\u884c\uff1a  \n1\uff1a \u63a7\u5236\u53f0\u5e94\u7528\uff1aEXIT\u5c06\u4e0d\u4f1a\u9000\u51fa\uff0c\u800c\u662f\u4f1a\u63d0\u793a\u4f60\u9700\u8981\u7b49\u5f85\u540e\u53f0\u8fdb\u7a0b\u5b8c\u6210\u5de5\u4f5c  \n2\uff1a \u811a\u672c\u5e94\u7528\uff1a  EXIT\u4e0d\u4f1a\u76f4\u63a5\u9000\u51fa\uff0c\u800c\u662f\u4f1a\u7b49\u5f85\u540e\u53f0\u8fdb\u7a0b\u5b8c\u6210\u5de5\u4f5c\u540e\u518d\u9000\u51fa  \n\n#### \u5c06TestCli\u542f\u52a8\u4e3a\u670d\u52a1\u5668C/S\u6a21\u5f0f\u4e2d\u7684\u670d\u52a1\u5668\n```\n   OS> TestCli --server [Port]\n   \u6b64\u5904\u7684Port\u4e3a\u4e00\u4e2a\u5408\u6cd5\u6709\u6548\u7684\u7aef\u53e3\u53f7\uff0c\u542f\u52a8\u540e\uff0cTestCli\u4f1a\u7ed1\u5b9a\u8fd9\u4e2a\u7aef\u53e3\u53f7\uff0c\u5e76\u63a5\u53d7\u5ba2\u6237\u7aef\u8bf7\u6c42 \n```\n\n#### \u5c06TestCli\u542f\u52a8\u4e3a\u670d\u52a1\u5668C/S\u6a21\u5f0f\u4e2d\u7684\u5ba2\u6237\u7aef\n```\n   OS> SET TestCli_REMOTESERVER XXX.XXXX.XXXX.XXXX:PORT\n   OS> TestCli\n   \u8fd9\u91cc\u7684IP\u548cPort\u4e3a\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c \u6307\u5b9a\u540e\uff0c\u968f\u540e\u6267\u884c\u7684\u8bed\u53e5\u548c\u672c\u5730\u7684Standalone\u6a21\u5f0f\u5b8c\u5168\u76f8\u540c\n \n```\n\n### \u7a0b\u5e8f\u5458\u5fc5\u8bfb\u90e8\u5206\n#### \u7a0b\u5e8f\u4ee3\u7801\u7ed3\u6784\n```\n---------- TestCli\n--------------- __init__.py                   # \u5305\u6807\u8bc6\u6587\u4ef6\uff0c\u7528\u6765\u8bb0\u5f55\u7248\u672c\u4fe1\u606f\n--------------- commandanalyze.py             # \u5bf9\u7528\u6237\u6216\u8005\u811a\u672c\u8f93\u5165\u7684\u547d\u4ee4\u8fdb\u884c\u5224\u65ad\uff0c\u5224\u65ad\u662f\u5426\u9700\u8981\u540e\u7eed\u89e3\u6790\uff0c\u6216\u8005\u6267\u884c\u5185\u90e8\u547d\u4ee4\n--------------- datawrapper.py                # \u7a0b\u5e8f\u4e2d\u5bf9\u6d4b\u8bd5\u6570\u636e\u6587\u4ef6\u7684\u76f8\u5173\u652f\u6301\n--------------- testwrapper.py                # \u7a0b\u5e8f\u4e2d\u5bf9\u6d4b\u8bd5\u547d\u4ee4\u7684\u76f8\u5173\u652f\u6301\n--------------- kafkawrapper.py               # \u7a0b\u5e8f\u4e2d\u5bf9kafka\u64cd\u4f5c\u7684\u76f8\u5173\u652f\u6301\n--------------- hdfswrapper.py                # \u7a0b\u5e8f\u4e2d\u5bf9HDFS\u6587\u4ef6\u64cd\u4f5c\u7684\u76f8\u5173\u652f\u6301\n--------------- main.py                       # \u4e3b\u7a0b\u5e8f\uff0c\u547d\u4ee4\u884c\u63a7\u5236\u754c\u9762\uff0c\u53c2\u6570\u8f93\u5165\u63a7\u5236\n--------------- TestCli.py                     # \u4e3b\u7a0b\u5e8f\n--------------- TestCliexception.py            # \u81ea\u5b9a\u4e49\u7a0b\u5e8f\u5f02\u5e38\u7c7b\n--------------- TestClijdbcapi.py              # \u6570\u636e\u5e93\u64cd\u4f5c\u5c01\u88c5\uff0cJDBC\u6a21\u5f0f\n--------------- TestCliodbcapi.py              # \u6570\u636e\u5e93\u64cd\u4f5c\u5c01\u88c5\uff0cODBC\u6a21\u5f0f\uff0c\u8fd9\u91cc\u53ea\u662f\u4e00\u4e2a\u5c01\u88c5\uff0c\u7528\u6765\u5b8c\u6210\u7f16\u8bd1\u5668\u68c0\u6d4b\uff0c\u5177\u4f53\u5b9e\u73b0\u903b\u8f91\u5728odbc\u76ee\u5f55\n--------------- TestClitransactionmanager.py   # \u540e\u53f0\u4f5c\u4e1a\u4e2d\u7684\u4e1a\u52a1\u7edf\u8ba1\u7ba1\u7406\n--------------- TestClijobmanager.py           # \u540e\u53f0\u4f5c\u4e1a\u7ba1\u7406\u5b9e\u73b0\n--------------- sqlexecute.py                 # \u7a0b\u5e8f\u4e3b\u8981\u903b\u8f91\u6587\u4ef6\uff0c\u5177\u4f53\u6267\u884cSQL\u8bed\u53e5\n--------------- sqlinternal.py                # \u6267\u884cinternal\u547d\u4ee4\n--------------- sqloption.py                  # \u7a0b\u5e8f\u8fd0\u884c\u53c2\u6570\u663e\u793a\u53ca\u63a7\u5236\u5b9e\u73b0\n--------------- sqlparse.py                   # \u7528\u6765\u89e3\u6790SQL\u8bed\u53e5\uff0c\u5224\u65ad\u6ce8\u91ca\u90e8\u5206\uff0c\u8bed\u53e5\u7684\u5206\u6bb5\u3001\u5206\u884c\u7b49\n--------------- sqlremoteserver.py            # \u7528\u6765\u652f\u6301TestCli\u4f5c\u4e3a\u4e00\u4e2a\u8fdc\u7a0b\u670d\u52a1\u5668\u542f\u52a8\u65f6\u7684\u76f8\u5173\u652f\u6301\n---------- setup.py                           # Python\u6253\u5305\u53d1\u5e03\u7a0b\u5e8f\n---------- setup.cfg                          # Python\u6253\u5305\u53d1\u5e03\u7a0b\u5e8f\u914d\u7f6e\n---------- README.md                          # \u5e94\u7528\u7a0b\u5e8f\u8bf4\u660e\n---------- conf                               # \u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n--------------  TestCli.conf                   # \u7a0b\u5e8f\u914d\u7f6e\u6587\u4ef6\n---------- profile                            # \u7a0b\u5e8f\u521d\u59cb\u5316\u811a\u672c\u5b58\u653e\u76ee\u5f55\n--------------  default                       # \u9ed8\u8ba4\u7684\u7a0b\u5e8f\u521d\u59cb\u5316\u811a\u672c\n---------- jlib                               # \u5e94\u7528\u7a0b\u5e8f\u8fde\u63a5\u6570\u636e\u5e93\u9700\u8981\u7684\u5404\u79cdjar\u5305\n--------------  Dm7JdbcDriver17.jar\n--------------  gbase-connector-java-8.3-bin.jar\n--------------  hadoop-common-2.7.2.jar\n--------------  hive-jdbc-1.2.2-standalone.jar\n--------------  kingbasejdbc4.jar\n--------------  linkoopdb-jdbc-3.0.0.jar\n--------------  mysql-connector-java-8.0.20.jar\n--------------  ojdbc8.jar\n--------------  oscarJDBC.jar\n--------------  postgresql-42.2.12.jar\n--------------  sqljdbc42.jar\n--------------  tdgssconfig.jar\n--------------  terajdbc4.jar\n--------------  xxxx1.jar                 \n--------------  xxxx2.jar        \n---------- odbc                               # ODBC\u4ee3\u7801C\u8bed\u8a00\u5c01\u88c5\n--------------  ceoApiTypes.c\n--------------  ceoConnection.c\n--------------  ceoCursor.c\n--------------  ceoDbType.c\n--------------  ceoError.c\n--------------  ceoModule.c\n--------------  ceoModule.h\n--------------  ceoTransform.c\n--------------  ceoUtils.c\n--------------  ceoVar.c\n--------------  CMakeLists.txt\n---------- .gitignore                         # git\u63a7\u5236\u6587\u4ef6\n---------- uploadpypi.bat                     # windows\u5e73\u53f0\u4e0b\u7528\u6765\u5411pypi\u66f4\u65b0\u5b89\u88c5\u5305\u7684\u76f8\u5173\u547d\u4ee4\n---------- uploadpypi.sh                      # Linux\u5e73\u53f0\u4e0b\u7528\u6765\u5411pypi\u66f4\u65b0\u5b89\u88c5\u5305\u7684\u76f8\u5173\u547d\u4ee4\n---------- .vscode                            # Visual Stuio Code \u5de5\u7a0b\u914d\u7f6e\u76ee\u5f55\n--------------  launch.json                   # Visual Stuio Code \u5de5\u7a0b\u542f\u52a8\u6587\u4ef6\n```\n#### \u7ebf\u7a0b\u5b89\u5168\u6027\n\u76ee\u524d\u7a0b\u5e8f\u5728\u8bbe\u8ba1\u4e0a\uff0c\u662f\u5145\u5206\u8003\u8651\u5230\u4e86\u7ebf\u7a0b\u5b89\u5168\u6027\u7684\u3002\n\n#### \u901a\u8fc7Python API\u65b9\u5f0f\u8c03\u7528\u672c\u5e94\u7528\u7a0b\u5e8f\n```\n    from TestCli.TestCli import TestCli\n\n    # \u521d\u59cb\u5316\u73af\u5883\u53e5\u67c4\uff0c\u6807\u8bb0\u5c4f\u5e55\u4e0a\u4e0d\u6253\u5370\u4efb\u4f55\u8f93\u51fa\u4fe1\u606f    \n    m_TestCli = TestCli(HeadlessMode=True)\n\n    # cmdExecuteHandler.run\u4f1a\u7528yield\u7684\u65b9\u5f0f\u5206\u6279\u8fd4\u56deSQL\u6267\u884c\u7ed3\u679c    \n    for title, cur, headers, columnTypes, status in \\\n            m_TestCli.cmdExecuteHandler.run(\"Connect .....\"):\n        print(title, cur, headers, columnTypes, status)\n\n    for title, cur, headers, columnTypes, status in \\\n            m_TestCli.cmdExecuteHandler.run(\"Select * FROM XXX\"):\n        print(title, cur, headers, columnTypes, status)\n    \n    # \u8fd4\u56de\u7ed3\u679c\u5305\u542b5\u4e2a\u65b9\u9762\u7684\u5185\u5bb9 (title, rows, headers, columnTypes, status).\n    #     title       \u8868\u5934\u4fe1\u606f\n    #     rows        \u7ed3\u679c\u6570\u636e\u96c6\n    #     headers     \u7ed3\u679c\u96c6\u7684header\u5b9a\u4e49\uff0c\u5217\u540d\u4fe1\u606f\n    #     columnTypes \u5217\u7c7b\u578b\uff0c\u5b57\u7b26\u4e32\u683c\u5f0f\n    #     status       \u8fd4\u56de\u7ed3\u679c\u6c47\u603b\u6d88\u606f\n \n    # \u5176\u4e2dTestCli\u521d\u59cb\u5316\u53c2\u6570\u6709\uff1a\n    logon=None,                             # \u9ed8\u8ba4\u767b\u5f55\u4fe1\u606f\uff0cNone\u8868\u793a\u4e0d\u9700\u8981\n    logfilename=None,                       # \u7a0b\u5e8f\u8f93\u51fa\u6587\u4ef6\u540d\uff0cNone\u8868\u793a\u4e0d\u9700\u8981\n    sqlscript=None,                         # \u811a\u672c\u6587\u4ef6\u540d\uff0cNone\u8868\u793a\u4e0d\u9700\u8981\n    commandMap=None,                            # SQL\u6620\u5c04\u6587\u4ef6\u540d\uff0cNone\u8868\u793a\u4e0d\u9700\u8981\n    nologo=False,                           # \u662f\u5426\u4e0d\u6253\u5370\u767b\u9646\u65f6\u7684Logo\u4fe1\u606f\uff0cTrue\u7684\u65f6\u5019\u4e0d\u6253\u5370\n    breakwitherror=False,                   # \u9047\u5230SQL\u9519\u8bef\uff0c\u662f\u5426\u7acb\u523b\u9000\u51fa\n    sqlperf=None,                           # SQL\u5ba1\u8ba1\u6587\u4ef6\u8f93\u51fa\u540d\uff0cNone\u8868\u793a\u4e0d\u9700\u8981\n    Console=sys.stdout,                     # \u63a7\u5236\u53f0\u8f93\u51fa\uff0c\u9ed8\u8ba4\u4e3asys.stdout,\u5373\u6807\u51c6\u8f93\u51fa\n    HeadlessMode=False,                     # \u662f\u5426\u4e3a\u65e0\u7ec8\u7aef\u6a21\u5f0f\uff0c\u65e0\u7ec8\u7aef\u6a21\u5f0f\u4e0b\uff0c\u4efb\u4f55\u5c4f\u5e55\u4fe1\u606f\u90fd\u4e0d\u4f1a\u88ab\u8f93\u51fa\n    WorkerName='MAIN',                     # \u7a0b\u5e8f\u522b\u540d\uff0c\u53ef\u7528\u6765\u533a\u5206\u4e0d\u540c\u7684\u5e94\u7528\u7a0b\u5e8f\n    logger=None,                            # \u7a0b\u5e8f\u8f93\u51fa\u65e5\u5fd7\u53e5\u67c4\n    clientcharset='UTF-8',                 # \u5ba2\u6237\u7aef\u5b57\u7b26\u96c6\uff0c\u5728\u8bfb\u53d6SQL\u6587\u4ef6\u65f6\uff0c\u91c7\u7eb3\u8fd9\u4e2a\u5b57\u7b26\u96c6\uff0c\u9ed8\u8ba4\u4e3aUTF-8\n    resultcharset='UTF-8',                 # \u8f93\u51fa\u5b57\u7b26\u96c6\uff0c\u5728\u6253\u5370\u8f93\u51fa\u6587\u4ef6\uff0c\u65e5\u5fd7\u7684\u65f6\u5019\u5747\u91c7\u7528\u8fd9\u4e2a\u5b57\u7b26\u96c6\n    EnableJobManager=True,                  # \u662f\u5426\u5f00\u542f\u540e\u53f0\u8c03\u5ea6\u7a0b\u5e8f\u7ba1\u7406\u6a21\u5757\uff0c\u5426\u5219\u65e0\u6cd5\u4f7f\u7528JOB\u7c7b\u76f8\u5173\u547d\u4ee4\n    profile=None                            # \u7a0b\u5e8f\u521d\u59cb\u5316\u6267\u884c\u811a\u672c\n```\n#### \u901a\u8fc7\u672c\u5730API\u65b9\u5f0f\u8fdc\u7a0b\u8c03\u7528\u672c\u5e94\u7528\u7a0b\u5e8f\n```\n    from TestCli.TestCli import TestCli\n    TestCli = TestCli(\n        logfilename=[log FileName],                          -- \u65e5\u5fd7\u6587\u4ef6\u540d\n        logon=[Login User/Login Password|None],              -- \u767b\u5f55\u7528\u6237\u540d/\u5bc6\u7801\uff0c \u53ef\u4ee5\u4e3aNone\uff0c\u4e3aNone\u7684\u65f6\u5019\u540e\u7eed\u7684\u811a\u672c\u4e2d\u5fc5\u987b\u5305\u542b\u8fde\u63a5\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3aNone\n        sqlscript=[SQL Script FileName],                     -- SQL\u811a\u672c\u540d\u79f0\uff0c\u5fc5\u987b\u586b\u5199\n        commandMap=[SQL Mapping FileName | None],                -- \u9ed8\u8ba4\u4e3aNone\n        nologo=True|False,                                   -- \u9ed8\u8ba4\u4e3aFalse\n        sqlperf=[SQL Performence Log FileName | None],       -- \u9ed8\u8ba4\u4e3aNone\n        clientcharset=[client charset | UTF-8],              -- \u5ba2\u6237\u7aef\u5b57\u7b26\u96c6\uff0c\u9ed8\u8ba4\u4e3aUTF-8\n        resultcharset=[result charset | UTF-8],              -- \u7ed3\u679c\u96c6\u5b57\u7b26\u96c6\uff0c\u9ed8\u8ba4\u4e3aUTF-8\n        profile=[init FileName|None]                         -- \u521d\u59cb\u5316\u6587\u4ef6\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3aNone\n    )\n    # \u8fd0\u884c\u4e3b\u7a0b\u5e8f\n    TestCli.run_cli()\n\n```\n\n#### \u901a\u8fc7RestAPI\u65b9\u5f0f\u8fdc\u7a0b\u8c03\u7528\u672c\u5e94\u7528\u7a0b\u5e8f\n\u7a0b\u5e8f\u652f\u6301\u7528POST\u4ee5\u53caWebSocket\u65b9\u5f0f\u6765\u8fdc\u7a0b\u8c03\u7528\u672c\u7a0b\u5e8f\uff0c\u8c03\u7528\u7684\u524d\u63d0\u662f\uff1a\n```\n \n```\n\u7a0b\u5e8f\u652f\u6301\u7528POST\u4ee5\u53caWebSocket\u65b9\u5f0f\u6765\u8fdc\u7a0b\u8c03\u7528\u672c\u7a0b\u5e8f\uff0c\u8c03\u7528\u7684\u65b9\u5f0f\u662f\uff1a  \n\u767b\u5f55\uff1a\n```\n    request_data = json.dumps({})\n    headers = {'Content-Type': 'application/json', 'accept': 'application/json'}\n    ret = requests.post(\"http://TestCli_REMOTESERVER:PORT/DoLogin\",\n                        data=request_data,\n                        headers=headers)\n\n    \u8fd4\u56de\u7684\u7ed3\u679c\u4e3a\uff1a\n    {\n        \"ret\":  -1,\n        \"message\":  \u9519\u8bef\u6d88\u606f\n    }\n    \u6216\u8005:\n    {\n        \"ret\":  0,\n        \"clientid\":  \u5ba2\u6237\u7aefID\u6807\u8bc6\n    }\n```\n\u6267\u884c\u8bed\u53e5\uff1a\n```\n        def show_result(p_result):\n            '''\n            \u8fd4\u56de\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u591a\u79cd\u7c7b\u578b\uff0c\u5904\u7406\u7684\u65f6\u5019\u9700\u8981\u6839\u636etype\u7684\u7ed3\u679c\u6765\u5224\u65ad\u5177\u4f53\u7684\u6570\u636e\u683c\u5f0f\uff1a\n            SQL\u89e3\u6790\u7ed3\u679c\uff1a\n            {\n                \"type\": \"parse\",\n                \"rawCommand\": \"\u539f\u59cb\u547d\u4ee4\u8bed\u53e5\",\n                \"formattedCommand\": \"\u88ab\u6392\u7248\u540e\u7684\u547d\u4ee4\u8bed\u53e5\uff08\u5305\u542b\u6ce8\u91ca\u4fe1\u606f\uff09\",\n                \"rewrotedCommand\": \"\u88ab\u6539\u5199\u540e\u7684\u547d\u4ee4\u8bed\u53e5\uff08\u5df2\u7ecf\u88ab\u6392\u7248\u8fc7\uff09\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u6539\u5199\uff0c\u5219\u4e0d\u5b58\u5728\",\n                \"script\"\uff1a\"Command\u5f53\u524d\u6267\u884c\u7684\u811a\u672c\u540d\u79f0\"\n            }\n            SQL\u6267\u884c\u7ed3\u679c\uff1a\n            {\n                \"type\": \"result\",\n                \"title\": \"\u8868\u5934\u4fe1\u606f\",\n                \"rows\": \"\u7ed3\u679c\u6570\u636e\u96c6\",\n                \"headers\": \"\u7ed3\u679c\u96c6\u7684header\u5b9a\u4e49\uff0c\u5217\u540d\u4fe1\u606f\",\n                \"columnTypes\": \"\u5217\u7c7b\u578b\uff0c\u5b57\u7b26\u4e32\u683c\u5f0f\",\n                \"status\": \"\u8fd4\u56de\u7ed3\u679c\u6c47\u603b\u6d88\u606f\"\n            }\n            SQL\u9519\u8bef\u4fe1\u606f\uff1a\n            {\n                \"type\": \"error\",\n                \"message\": \"\u9519\u8bef\u63cf\u8ff0\"\n            }\n            SQL\u56de\u663e\u4fe1\u606f\uff1a\n            {\n                \"type\": \"error\",\n                \"message\": \"\u9519\u8bef\u63cf\u8ff0\",\n                \"script\"\uff1a\"SQL\u5f53\u524d\u6267\u884c\u7684\u811a\u672c\u540d\u79f0\"\n            }\n            '''\n        async def test_ws_quote():\n            async with websockets.connect(\"ws://\" + os.environ[\"TestCli_REMOTESERVER\"] + \"/DoCommand\") \\\n                    as websocket:\n                request_data = json.dumps(\n                    {\n                        'clientid': str(self.ClientID),\n                        'op': 'execute',\n                        'command': str(text)\n                    })\n                await websocket.send(request_data)\n                while True:\n                    try:\n                        ret = await websocket.recv()\n                        result = json.loads(ret)\n                        show_result(result)\n                        )\n                    except websockets.ConnectionClosedOK:\n                        return\n        asyncio.get_event_loop().run_until_complete(test_ws_quote())\n    result = run_remote()\n```\n\u9000\u51fa\uff1a\n```\n    request_data = json.dumps(\n        {\n            \"clientid\": self.ClientID\n        })\n    headers = {'Content-Type': 'application/json', 'accept': 'application/json'}\n    ret = requests.post(\"http://TestCli_REMOTESERVER:PORT/DoLogout\",\n                        data=request_data,\n                        headers=headers)\n    \u8fd4\u56de\u7684\u7ed3\u679c\u4e3a\uff1a\n    {\n        \"ret\":  -1,\n        \"message\":  \u9519\u8bef\u6d88\u606f\n    }\n    \u6216\u8005:\n    {\n        \"ret\":  0,\n    }\n\n```\n#### \u7a0b\u5e8f\u8c03\u8bd5\n```\n   SQL> set DEBUG ON\n   \u6253\u5f00DEBUG\u540e\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u8f93\u51fa\u5927\u91cf\u7684\u8c03\u8bd5\u4fe1\u606f\uff0c\u4ee5\u53ca\u9519\u8bef\u53d1\u751f\u65f6\u7684\u5806\u6808\u4fe1\u606f\n\n```\n\n\n#### \u5df2\u77e5\u95ee\u9898\n```\n\u5728Python3.7\u4ee5\u53ca\u4ee5\u4e0a\u7684\u7248\u672c\u4e2d\uff0c\u4f1a\u51fa\u73b0ttypes\u7684\u5bfc\u5165\u9519\u8bef  \n\u8fd9\u662f\u7531\u4e8eHbase\u7684\u76f8\u5173\u7a0b\u5e8f\u4e0d\u652f\u6301Python3.7\u4ee5\u53ca\u4ee5\u4e0a\u7248\u672c  \n\u9700\u8981\uff1a\n\u4e0b\u8f7dhttps://github.com/data-infra/infrastructure/tree/master/hbase\u4e2d\u5185\u5bb9\uff0c\n\u66ff\u6362\u672c\u5730site-packages/hbase/Hbase.py\u548cttypes.py\n```\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/robotslacker/testcli.git",
            "keywords": "test command sql api",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "robotslacker-testcli",
            "package_url": "https://pypi.org/project/robotslacker-testcli/",
            "platform": "any",
            "project_url": "https://pypi.org/project/robotslacker-testcli/",
            "project_urls": {
                "Homepage": "https://github.com/robotslacker/testcli.git"
            },
            "release_url": "https://pypi.org/project/robotslacker-testcli/0.0.2/",
            "requires_dist": [
                "JPype1",
                "setproctitle",
                "urllib3",
                "click",
                "prompt-toolkit",
                "paramiko",
                "antlr4-python3-runtime",
                "pytest"
            ],
            "requires_python": ">=3.6",
            "summary": "Test Command tool",
            "version": "0.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15916960,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "d283f6d1909723de12644cb87aa1cc08",
                    "sha256": "69c5eff46648f251680ba494e4276285ba2150c1b6f84caab1c599b06809b629"
                },
                "downloads": -1,
                "filename": "robotslacker_testcli-0.0.2-py2.py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "d283f6d1909723de12644cb87aa1cc08",
                "packagetype": "bdist_wheel",
                "python_version": "py2.py3",
                "requires_python": ">=3.6",
                "size": 2476136,
                "upload_time": "2022-11-28T17:06:49",
                "upload_time_iso_8601": "2022-11-28T17:06:49.820574Z",
                "url": "https://files.pythonhosted.org/packages/a1/03/bd77357b20ed491c3374e13431651eb7d503c9d34e4b9b090f472ad4264c/robotslacker_testcli-0.0.2-py2.py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "8f3d2f4646471e9b5a921c4bafe05655",
                    "sha256": "8812f4aa2ea446069f2ef92d45de9e9212ab3d265946f3a3d1b8a9334cc9900a"
                },
                "downloads": -1,
                "filename": "robotslacker_testcli-0.0.2-py3.9.egg",
                "has_sig": false,
                "md5_digest": "8f3d2f4646471e9b5a921c4bafe05655",
                "packagetype": "bdist_egg",
                "python_version": "0.0.2",
                "requires_python": ">=3.6",
                "size": 2711060,
                "upload_time": "2022-11-28T17:06:55",
                "upload_time_iso_8601": "2022-11-28T17:06:55.607738Z",
                "url": "https://files.pythonhosted.org/packages/57/90/32ea9445b87d2cc5a6521b3c2a5fe25d8235cb26602faebf67ce6824f1cb/robotslacker_testcli-0.0.2-py3.9.egg",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "897c8a017b95e1bcbebe1c0ee5b4d475",
                    "sha256": "25b91b87384cec9a715cff4e56e70be4202c2384463bc189347ad67054c5e123"
                },
                "downloads": -1,
                "filename": "robotslacker-testcli-0.0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "897c8a017b95e1bcbebe1c0ee5b4d475",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 2504210,
                "upload_time": "2022-11-28T17:06:53",
                "upload_time_iso_8601": "2022-11-28T17:06:53.417719Z",
                "url": "https://files.pythonhosted.org/packages/72/90/56b58f9b38678026008bc9e48eb8cf4a4779e7b560bd8cdcbf2787403ee8/robotslacker-testcli-0.0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}