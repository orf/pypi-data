{
    "0.0.1.dev0": {
        "info": {
            "author": "Qualita Seguranca e Saude Ocupacional",
            "author_email": "lab.ti@qualitaocupacional.com.br",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 2.7",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.4",
                "Programming Language :: Python :: 3.5"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/qualitaocupacional/libesocial",
            "keywords": "",
            "license": "Apache 2.0",
            "maintainer": "",
            "maintainer_email": "",
            "name": "libesocial",
            "package_url": "https://pypi.org/project/libesocial/",
            "platform": "",
            "project_url": "https://pypi.org/project/libesocial/",
            "project_urls": {
                "Homepage": "https://github.com/qualitaocupacional/libesocial"
            },
            "release_url": "https://pypi.org/project/libesocial/0.0.1.dev0/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Biblioteca para uso com o eSocial",
            "version": "0.0.1.dev0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 11449755,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e5042d13a0fcb93030a8a8efe558fb1f",
                    "sha256": "1d8d94e5a46548ebf5df4d394796e3c994b9b549b85efc01e72e5f99a0f8641c"
                },
                "downloads": -1,
                "filename": "libesocial-0.0.1.dev0.tar.gz",
                "has_sig": false,
                "md5_digest": "e5042d13a0fcb93030a8a8efe558fb1f",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 112835,
                "upload_time": "2018-05-23T19:05:35",
                "upload_time_iso_8601": "2018-05-23T19:05:35.892391Z",
                "url": "https://files.pythonhosted.org/packages/77/32/0e714da89d47f132ff6f1d142e0093a0da192188ea586d96ea2271617ff9/libesocial-0.0.1.dev0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.1rc1": {
        "info": {
            "author": "Qualita Seguranca e Saude Ocupacional",
            "author_email": "lab.ti@qualitaocupacional.com.br",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 2.7",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.4",
                "Programming Language :: Python :: 3.5"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/qualitaocupacional/libesocial",
            "keywords": "",
            "license": "Apache 2.0",
            "maintainer": "",
            "maintainer_email": "",
            "name": "libesocial",
            "package_url": "https://pypi.org/project/libesocial/",
            "platform": "",
            "project_url": "https://pypi.org/project/libesocial/",
            "project_urls": {
                "Homepage": "https://github.com/qualitaocupacional/libesocial"
            },
            "release_url": "https://pypi.org/project/libesocial/0.0.1rc1/",
            "requires_dist": [
                "requests (>=2.7.0)",
                "lxml (>=4.2.1)",
                "zeep (>=2.5.0)",
                "pyOpenSSL (>=17.5.0)",
                "signxml (>=2.5.2)",
                "six (>=1.11.0)"
            ],
            "requires_python": "",
            "summary": "Biblioteca para uso com o eSocial",
            "version": "0.0.1rc1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 11449755,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "7b9c9dbd4fd88eef3a26638bc65027c0",
                    "sha256": "01949c09496cc8b3f6cd5dbe543bd573399c5cdc9fcf26fc7232c93d56446ea4"
                },
                "downloads": -1,
                "filename": "libesocial-0.0.1rc1-py2.py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "7b9c9dbd4fd88eef3a26638bc65027c0",
                "packagetype": "bdist_wheel",
                "python_version": "py2.py3",
                "requires_python": null,
                "size": 171566,
                "upload_time": "2018-09-20T02:31:07",
                "upload_time_iso_8601": "2018-09-20T02:31:07.287767Z",
                "url": "https://files.pythonhosted.org/packages/4d/df/ebfd955abd53f8522a54c3c480e9120b2afa4b7e757f872d3d5490ae45e3/libesocial-0.0.1rc1-py2.py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "405d80d4185213f35ad4c5eb9ca6a3e5",
                    "sha256": "5881198a5fb835ca82bd2df2f071561db5d5307fd051aff94eec1c651d7a43b5"
                },
                "downloads": -1,
                "filename": "libesocial-0.0.1rc1.tar.gz",
                "has_sig": false,
                "md5_digest": "405d80d4185213f35ad4c5eb9ca6a3e5",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 116558,
                "upload_time": "2018-09-20T02:31:09",
                "upload_time_iso_8601": "2018-09-20T02:31:09.681797Z",
                "url": "https://files.pythonhosted.org/packages/3f/e1/174ac444dfa46930088335b12e3eab48c67949855c2149262f9cc11ffe93/libesocial-0.0.1rc1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.1rc2": {
        "info": {
            "author": "Qualita Seguranca e Saude Ocupacional",
            "author_email": "lab.ti@qualitamais.com.br",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Programming Language :: Python :: 2.7",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.4",
                "Programming Language :: Python :: 3.5"
            ],
            "description": "# LIBeSocial\n\nBiblioteca em Python para lidar com os processos do [eSocial](https://www.gov.br/esocial/pt-br):\n\n- Valida\u00e7\u00e3o dos XML's dos eventos;\n- Comunica\u00e7\u00e3o com o Webservices do eSocial para envio e consulta de lotes;\n- Assinatura dos XML's (e conex\u00e3o com o webservices) com certificado tipo `A1`.\n\nApesar desta biblioteca ter sido desenvolvida para lidar especialmente com os eventos de SST (Sa\u00fade e Seguran\u00e7a do Trabalho), nada impede que ela possa ser utilizada para enviar/validar quaisquer dos eventos dispon\u00edveis no projeto eSocial.\n\nNo momento s\u00f3 \u00e9 poss\u00edvel utilizar assinaturas do tipo `A1` em arquivos no formato `PKCS#12` (geralmente arquivos com extens\u00e3o `.pfx` ou `.p12`).\n\n# Instala\u00e7\u00e3o\n\nPyPi:\n```\npip install libesocial\n```\n\nA vers\u00e3o mais recente diretamente do reposit\u00f3rio:\n\n```\npip install https://github.com/qualitaocupacional/libesocial/archive/master.zip\n```\n\nOu voc\u00ea pode clonar este reposit\u00f3rio:\n```\ngit clone https://github.com/qualitaocupacional/libesocial\n```\n\nEntrar na pasta do reposit\u00f3rio rec\u00e9m clonado:\n```\n> cd libesocial\n> python setup.py install\n```\n# Uso b\u00e1sico\n\n**Montando um Lote e transmitindo para o eSocial**\n\n```python\nimport esocial.xml\nimport esocial.client\n\nide_empregador = {\n    'tpInsc': 1,\n    'nrInsc': '12345678901234' # CNPJ/CPF completo (com 14/11 d\u00edgitos)\n}\n\nide_transmissor = {\n    'tpInsc': 1,\n    'nrInsc': '43210987654321' # CNPJ/CPF completo (com 14/11 d\u00edgitos)\n}\n\nesocial_ws = esocial.client.WSClient(\n    pfx_file='caminho/para/o/arquivo/certificado/A1',\n    pfx_passw='senha do arquivo de certificado',\n    employer_id=ide_empregador,\n    # Se o transmissor \u00e9 o pr\u00f3prio empregador, n\u00e3o precisa informar o \"sender_id\"\n    sender_id=ide_transmissor,\n)\n\nevento1_grupo1 = esocial.xml.load_fromfile('evento1.xml')\nevento2_grupo1 = esocial.xml.load_fromfile('evento2.xml')\n\n# Adicionando eventos ao lote. O evento j\u00e1 vai ser assinado usando o certificado fornecido\nesocial_ws.add_event(evento1_grupo1)\nesocial_ws.add_event(evento2_grupo1)\n\nresult = esocial_ws.send(group_id=1)\n\n# result vai ser um Element object\n#<Element {http://www.esocial.gov.br/schema/lote/eventos/envio/retornoEnvio/v1_1_0}eSocial at 0x>\nprint(esocial.xml.dump_tostring(result, xml_declaration=False, pretty_print=True))\n```\n\nPor padr\u00e3o, o webservice de envio/consulta de lotes \u00e9 o de \"**Produ\u00e7\u00e3o Restrita**\", para enviar para o ambiente de \"**Produ\u00e7\u00e3o Empresas**\", onde as coisas s\u00e3o para valer:\n\n```python\nimport esocial.client\n\nesocial_ws = esocial.client.WSClient(\n    pfx_file='caminho/para/o/arquivo/certificado/A1',\n    pfx_passw='senha do arquivo de certificado',\n    employer_id=ide_empregador,\n    sender_id=ide_empregador,\n    target='production'\n)\n\n...\n\n```\n\n\n**Assinando um evento**\n\nSe por algum motivo voc\u00ea precisar assinar algum arquivo XML separadamente, pode usar as fun\u00e7\u00f5es utilit\u00e1rias da LIBeSocial. Lembrando que o m\u00e9todo \"**add_event(xml_element)**\" j\u00e1 faz a assinatura do evento antes de adicion\u00e1-lo ao lote.\n\n```python\nimport esocial.xml\nimport esocial.utils\n\ncert_data = esocial.utils.pkcs12_data('my_cert_file.pfx', 'my password')\nevt2220 = esocial.xml.load_fromfile('S2220.xml')\n\n# Assina o XML com os algoritmos descritos na documenta\u00e7\u00e3o do eSocial\nevt2220_signed = esocial.xml.sign(evt2220, cert_data)\n\n```\n\n**Validando um evento**\n\n```python\nimport esocial.xml\n\nevt2220 = esocial.xml.load_fromfile('S2220.xml')\ntry:\n    esocial.xml.XMLValidate(evt2220).validate()\nexcept AssertionError as e:\n    print('O XML do evento S-2220 \u00e9 inv\u00e1lido!')\n    print(e)\n```\nou\n```python\nimport esocial.xml\n\nevt2220 = esocial.xml.load_fromfile('S2220.xml')\nxmlschema = esocial.xml.XMLValidate(evt2220)\nif xmlschema.isvalid():\n    print('XML do evento \u00e9 v\u00e1lido! :-D.')\nelse:\n    print('O XML do evento S-2220 \u00e9 inv\u00e1lido!')\n    print(str(xmlschema.last_error))\n```\n\n# Certificados do ICP-Brasil no lado cliente\n\nDe acordo com o [manual do desenvolvedor do eSocial, vers\u00e3o 1.10](https://www.gov.br/esocial/pt-br/documentacao-tecnica/manuais/manualorientacaodesenvolvedoresocialv1-10.pdf) (p\u00e1gina 114), \u00e9 necess\u00e1rio instalar a cadeia de certifica\u00e7\u00e3o do eSocial para poder utilizar os *Webservices*. Que s\u00e3o:\n\n**Raiz**\n\n**[AC - Primeiro N\u00edvel](http://acraiz.icpbrasil.gov.br/credenciadas/RFB/v2/p/AC_Secretaria_da_Receita_Federal_do_Brasil_v3.crt)**\n\n**[AC - Segundo N\u00edvel](http://acraiz.icpbrasil.gov.br/credenciadas/RFB/v2/Autoridade_Certificadora_do_SERPRO_RFB_SSL.crt)**\n\nPrimeiro, o manual est\u00e1 desatualizado, sendo que os servidores do eSocial est\u00e3o utilizando a vers\u00e3o 10 do certificado **Raiz** do ICP-Brasil:\n\n[Raiz v10](http://acraiz.icpbrasil.gov.br/credenciadas/RAIZ/ICP-Brasilv10.crt)\n\nSegundo, utilizando a **LIBeSocial** n\u00e3o h\u00e1 necessidade de instalar nenhum desses certificados na m\u00e1quina que vai enviar os eventos. Os respectivos certificados j\u00e1 est\u00e3o \"agrupados\" no arquivo \"**serpro_full_chain.pem**\" na pasta **certs** que acompanha a **LIBeSocial**.\n\nEntretando, certificados expiram e/ou s\u00e3o trocados. Se necess\u00e1rio, para criar um novo arquivo com a cadeia de certificados novos, ap\u00f3s baixar os devidos arquivos `.crt` (que devem estar no formato *PEM*), \u00e9 s\u00f3 concatenar os arquivos em um \u00fanico. Exemplo em Linux/Unix:\n\n```\n$ cat ICP-Brasilv10.crt AC_Secretaria_da_Receita_Federal_do_Brasil_v3.crt Autoridade_Certificadora_do_SERPRO_RFB_SSL.crt > novo_arquivo_certificados.pem\n```\n\nE informar esse arquivo ao instanciar o cliente *esocial*:\n\n```python\nimport esocial.client\n\nesocial_ws = esocial.client.WSClient(\n    pfx_file='caminho/para/o/arquivo/certificado/A1',\n    pfx_passw='senha do arquivo de certificado',\n    employer_id=ide_empregador,\n    target='production',\n    ca_file='/caminho/para/novo_arquivo_certificados.pem',\n)\n\n...\n\n```\n\n# Requisitos\n\nA LIBeSocial requer as seguintes bibliotecas Python:\n\n- **requests** >= 2.26.0\n- **lxml** >= 4.6.3\n- **zeep** >=4.1.0\n- **signxml** >= 2.8.2\n- **pyOpenSSL** < 19\n- **six** >= 1.11.0\n\n# Licen\u00e7a\n\nA LIBeSocial \u00e9 um projeto de c\u00f3digo aberto, desenvolvido pelo departamento de\nPesquisa e Desenvolvimento e Tecnologia da Informa\u00e7\u00e3o da [Qualit\u00e1 Seguran\u00e7a e Sa\u00fade Ocupacional](https://qualitamais.com.br)\ne est\u00e1 licenciada pela [Apache License 2.0](http://www.apache.org/licenses/LICENSE-2.0).\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/qualitaocupacional/libesocial",
            "keywords": "",
            "license": "Apache 2.0",
            "maintainer": "",
            "maintainer_email": "",
            "name": "libesocial",
            "package_url": "https://pypi.org/project/libesocial/",
            "platform": "",
            "project_url": "https://pypi.org/project/libesocial/",
            "project_urls": {
                "Homepage": "https://github.com/qualitaocupacional/libesocial"
            },
            "release_url": "https://pypi.org/project/libesocial/0.0.1rc2/",
            "requires_dist": [
                "requests (>=2.26.0)",
                "lxml (>=4.6.3)",
                "zeep (>=4.1.0)",
                "signxml (>=2.8.2)",
                "pyOpenSSL (<19)",
                "six (>=1.11.0)"
            ],
            "requires_python": "",
            "summary": "Biblioteca para uso com o eSocial",
            "version": "0.0.1rc2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 11449755,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "b2b68394dc411c5811f957ea32859085",
                    "sha256": "6fae0d69cf1dee45e255f8cb1017049c6ac6768c694112e9a368fda93e29cbc3"
                },
                "downloads": -1,
                "filename": "libesocial-0.0.1rc2-py2.py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "b2b68394dc411c5811f957ea32859085",
                "packagetype": "bdist_wheel",
                "python_version": "py2.py3",
                "requires_python": null,
                "size": 327755,
                "upload_time": "2021-09-14T17:46:45",
                "upload_time_iso_8601": "2021-09-14T17:46:45.319226Z",
                "url": "https://files.pythonhosted.org/packages/a8/e8/ee1d9d9bb765ad4116b9212568a61babe59cbc0a416c1471c9fadd68b7f8/libesocial-0.0.1rc2-py2.py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "3c914e142220257b19ced361b8ec9f7b",
                    "sha256": "d7ac2437ae82affc289c983c372f504b6c8eeb13c0db7cd2a13f260ae641521b"
                },
                "downloads": -1,
                "filename": "libesocial-0.0.1rc2.tar.gz",
                "has_sig": false,
                "md5_digest": "3c914e142220257b19ced361b8ec9f7b",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 228646,
                "upload_time": "2021-09-14T17:46:47",
                "upload_time_iso_8601": "2021-09-14T17:46:47.187960Z",
                "url": "https://files.pythonhosted.org/packages/04/70/5da0386d2519d21ac664a525bc54db0394eefc5a19a67297999c81579671/libesocial-0.0.1rc2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}