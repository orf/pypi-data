{
    "0.1": {
        "info": {
            "author": "Andreas Madsack",
            "author_email": "",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/mfa/datasette-webhook-write",
            "keywords": "",
            "license": "Apache License, Version 2.0",
            "maintainer": "",
            "maintainer_email": "",
            "name": "datasette-webhook-write",
            "package_url": "https://pypi.org/project/datasette-webhook-write/",
            "platform": "",
            "project_url": "https://pypi.org/project/datasette-webhook-write/",
            "project_urls": {
                "CI": "https://github.com/mfa/datasette-webhook-write/actions",
                "Changelog": "https://github.com/mfa/datasette-webhook-write/releases",
                "Homepage": "https://github.com/mfa/datasette-webhook-write",
                "Issues": "https://github.com/mfa/datasette-webhook-write/issues"
            },
            "release_url": "https://pypi.org/project/datasette-webhook-write/0.1/",
            "requires_dist": [
                "datasette",
                "sqlite-utils",
                "httpx ; extra == 'test'",
                "pytest ; extra == 'test'",
                "pytest-asyncio ; extra == 'test'"
            ],
            "requires_python": ">=3.6",
            "summary": "Datasette plugin to write to database via verified webhooks",
            "version": "0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 11030955,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "03fbaf522247ed55e3a86791a11be331",
                    "sha256": "438281d6367fb88c5f61de6e8dca8ba583f16502f7b2fc4562b977432a5e98eb"
                },
                "downloads": -1,
                "filename": "datasette_webhook_write-0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "03fbaf522247ed55e3a86791a11be331",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 3483,
                "upload_time": "2021-07-28T19:10:33",
                "upload_time_iso_8601": "2021-07-28T19:10:33.469423Z",
                "url": "https://files.pythonhosted.org/packages/39/c5/e0765acd039650541c4094d6053e5a2c4e5e3438d8365815708eea1cb53f/datasette_webhook_write-0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "1856711e202edac57b71f47e922c1b0c",
                    "sha256": "82a6f30a270de2e4d54eb91b45d9e74e6388bc9881a2f6f836ff0619069d703d"
                },
                "downloads": -1,
                "filename": "datasette-webhook-write-0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "1856711e202edac57b71f47e922c1b0c",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 3272,
                "upload_time": "2021-07-28T19:10:34",
                "upload_time_iso_8601": "2021-07-28T19:10:34.378179Z",
                "url": "https://files.pythonhosted.org/packages/c4/20/38152017225b68cce1029315ee1f6800a97af1889d021515dbd37a42c494/datasette-webhook-write-0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2": {
        "info": {
            "author": "Andreas Madsack",
            "author_email": "",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# datasette-webhook-write\n\n[![PyPI](https://img.shields.io/pypi/v/datasette-webhook-write.svg)](https://pypi.org/project/datasette-webhook-write/)\n[![Changelog](https://img.shields.io/github/v/release/mfa/datasette-webhook-write?include_prereleases&label=changelog)](https://github.com/mfa/datasette-webhook-write/releases)\n[![Tests](https://github.com/mfa/datasette-webhook-write/workflows/Test/badge.svg)](https://github.com/mfa/datasette-webhook-write/actions?query=workflow%3ATest)\n[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](https://github.com/mfa/datasette-webhook-write/blob/main/LICENSE)\n\nDatasette plugin to write to database via verified webhooks\n\n## Installation\n\nInstall this plugin in the same environment as Datasette.\n\n    $ datasette install datasette-webhook-write\n\n## Usage (datasette/receiving side)\n\nThis plugin allows writing to a datasette database via hmac-signed http POST calls.\n\nExample for metadata.yml (for usage to receive texts from https://nlg.ax/):\n```\nplugins:\n  datasette-webhook-write:\n    webhook_secret:\n      \"$env\": \"WEBHOOK_SECRET\"\n    http_header_name: \"x-myax-signature\"\n    database_name: \"example\"\n    table_name: \"generated_texts\"\n    use_pk:\n      - \"uid\"\n      - \"collection_id\"\n```\n\nWEBHOOK_SECRET is set as environment variable.\n\n\n## Usage (pushing side)\n\nThe json data pushed has to be signed with the WEBHOOK_SECRET and added to the headers of the POST call.\n\nGenerate the hmac signature (where `document` is the data you want to send, and `WEBKOOK_SECRET` is the secret only pushing+receving parties should know):\n```\ndigest = hmac.new(\n    key=WEBHOOK_SECRET.encode(),\n    msg=json.dumps(document).encode(),\n    digestmod=hashlib.sha1,\n)\n\nheader = {\n    \"X-SIGNATURE\": f\"sha1={digest.hexdigest()}\",\n}\n```\n\nThe pushed data is written to the database only when secret+document are generating the same digest.\n\n\n## Development\n\nTo set up this plugin locally, first checkout the code. Then create a new virtual environment:\n\n    cd datasette-webhook-write\n    python3 -mvenv venv\n    source venv/bin/activate\n\nNow install the dependencies and test dependencies:\n\n    pip install -e '.[test]'\n\nTo run the tests:\n\n    pytest\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/mfa/datasette-webhook-write",
            "keywords": "",
            "license": "Apache License, Version 2.0",
            "maintainer": "",
            "maintainer_email": "",
            "name": "datasette-webhook-write",
            "package_url": "https://pypi.org/project/datasette-webhook-write/",
            "platform": "",
            "project_url": "https://pypi.org/project/datasette-webhook-write/",
            "project_urls": {
                "CI": "https://github.com/mfa/datasette-webhook-write/actions",
                "Changelog": "https://github.com/mfa/datasette-webhook-write/releases",
                "Homepage": "https://github.com/mfa/datasette-webhook-write",
                "Issues": "https://github.com/mfa/datasette-webhook-write/issues"
            },
            "release_url": "https://pypi.org/project/datasette-webhook-write/0.2/",
            "requires_dist": [
                "datasette",
                "sqlite-utils",
                "httpx ; extra == 'test'",
                "pytest ; extra == 'test'",
                "pytest-asyncio ; extra == 'test'"
            ],
            "requires_python": ">=3.6",
            "summary": "Datasette plugin to write to database via verified webhooks",
            "version": "0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 11030955,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e845e89bc962ab6521aa63716cb5cd6a",
                    "sha256": "c64e83ac96a3b21710eb49dd55adac44165fb29f149b9cfb9d5d1b8c493314fa"
                },
                "downloads": -1,
                "filename": "datasette_webhook_write-0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e845e89bc962ab6521aa63716cb5cd6a",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 3764,
                "upload_time": "2021-07-28T19:40:35",
                "upload_time_iso_8601": "2021-07-28T19:40:35.872899Z",
                "url": "https://files.pythonhosted.org/packages/a1/09/cb4749fdd079bf800a2cff2edb00a72c986ac0b9b34c5ace5967e695a303/datasette_webhook_write-0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "0d18200f621bc58e681bf6be0527e270",
                    "sha256": "43fc7fb2860f70d353950a8c3df76626718ff6aa97d589b847ff415fe1ded5fe"
                },
                "downloads": -1,
                "filename": "datasette-webhook-write-0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "0d18200f621bc58e681bf6be0527e270",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 3557,
                "upload_time": "2021-07-28T19:40:37",
                "upload_time_iso_8601": "2021-07-28T19:40:37.170725Z",
                "url": "https://files.pythonhosted.org/packages/47/cf/2aaf2bf5750cbf48712d88a2be30a903edff0674d51da6efc07a1f742810/datasette-webhook-write-0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}