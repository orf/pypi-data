{
    "0.1": {
        "info": {
            "author": "Mete Balci",
            "author_email": "metebalci@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
                "Natural Language :: English",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3 :: Only",
                "Topic :: Scientific/Engineering",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Scientific/Engineering :: Visualization",
                "Topic :: Utilities"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/metebalci/masnet",
            "keywords": "Mastodon",
            "license": "GPLv3",
            "maintainer": "",
            "maintainer_email": "",
            "name": "masnet",
            "package_url": "https://pypi.org/project/masnet/",
            "platform": null,
            "project_url": "https://pypi.org/project/masnet/",
            "project_urls": {
                "Homepage": "https://github.com/metebalci/masnet"
            },
            "release_url": "https://pypi.org/project/masnet/0.1/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "tools for Mastodon network analysis",
            "version": "0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16072589,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "c1864b41e1fe4cabd968dc4bb0fc517b",
                    "sha256": "d76f465d021bd4cc422dcf28a5ede95515db9c62203a961400c4ed21d03eeae7"
                },
                "downloads": -1,
                "filename": "masnet-0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "c1864b41e1fe4cabd968dc4bb0fc517b",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 7727,
                "upload_time": "2022-12-06T10:18:14",
                "upload_time_iso_8601": "2022-12-06T10:18:14.707864Z",
                "url": "https://files.pythonhosted.org/packages/5c/1b/dfda52a3fd4dcf3a20b26fc46c5a27fb9e36c5fed05dedb4e7fdcfe84d5b/masnet-0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.1": {
        "info": {
            "author": "Mete Balci",
            "author_email": "metebalci@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
                "Natural Language :: English",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3 :: Only",
                "Topic :: Scientific/Engineering",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Scientific/Engineering :: Visualization",
                "Topic :: Utilities"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/metebalci/masnet",
            "keywords": "Mastodon",
            "license": "GPLv3",
            "maintainer": "",
            "maintainer_email": "",
            "name": "masnet",
            "package_url": "https://pypi.org/project/masnet/",
            "platform": null,
            "project_url": "https://pypi.org/project/masnet/",
            "project_urls": {
                "Homepage": "https://github.com/metebalci/masnet"
            },
            "release_url": "https://pypi.org/project/masnet/0.1.1/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "tools for Mastodon network analysis",
            "version": "0.1.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16072589,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "156121524e2620806fec55d48e2eed84",
                    "sha256": "b9c3d0add42475c40c94c2104dbba75efed44bca28f52605c4572514b51d7e65"
                },
                "downloads": -1,
                "filename": "masnet-0.1.1.tar.gz",
                "has_sig": false,
                "md5_digest": "156121524e2620806fec55d48e2eed84",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 7737,
                "upload_time": "2022-12-06T10:27:31",
                "upload_time_iso_8601": "2022-12-06T10:27:31.407809Z",
                "url": "https://files.pythonhosted.org/packages/b9/5e/c08e7b8e966e9d3439f75dcb0c2372009e330434becb0b2ff4127240d792/masnet-0.1.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2": {
        "info": {
            "author": "Mete Balci",
            "author_email": "metebalci@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
                "Natural Language :: English",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3 :: Only",
                "Topic :: Scientific/Engineering",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Scientific/Engineering :: Visualization",
                "Topic :: Utilities"
            ],
            "description": "# masnet\n\n`masnet` includes basic tools for Mastodon network/graph analysis. \n\nIt can be installed by executing `pip install masnet`. \n\nAfter installation, following commands can be used: \n\n- `masnet.download`: downloads peers information from Mastodon instances.\n\n- `masnet.generate`: creates Mastodon graph using the peers information downloaded.\n\n- `masnet.analyze`: performs basic graph/network analysis on Mastodon graph.\n\nThere a few common arguments to each command:\n\n- `-d <directory>`: uses the directory instead of the current directory to read and/or write files to. If the directory specified does not exist, it is created. This is important as `masnet.download` creates a lot of files and `masnet.generate` reads them.\n\n- `-v`: enables verbose logging. It should not be normally needed.\n\n- `--debug`: enables debug logging. It is only to be used during development.\n\nEach command provide verbose logging with `-v` argument and debug logging with `--debug` argument.\n\n# hardware requirements\n\nMastodon graph has over 10K vertices and more than 20M edges.\n\n# masnet.download\n\n`masnet.download` connects to a given start domain (given with `-s` argument), downloads its peers (with `api/v1/instance/peers` API call), and then repeats this for each peer until all domains are visited. If start domain is not specified, `mastodon.social` is used.\n\nAfter downloading the peers information of a domain, it is saved to `<domain>.peers.json` (any `/` in domain is replaced with `_` for the filename). Thus, it is possible to restart the download after a graceful exit. If needed, saved files can be discarded (with `--discard` argument) and all of them are downloaded again (existing files are not deleted but when needed overwritten).\n\nIn addition to caching the API response, `masnet.download` also saves the http or network errors to `<domain>.error` files in order to not try to connect these after a restart. This behaviour is not controlled with `-d` argument, it is always enabled. If you want to retry these domains, you can delete the error files.\n\nFor network connections, a timeout in seconds can be specified with `-t` argument. System default timeout is usually too high, I recommend experimenting with lower values such as 15 (seconds).\n\nBecause the download process is network I/O heavy, a number of Python threads are created to concurrently fetch peers data of different domains. The number of these threads can be specified with `-n` argument. If not specified, four times the cpu count threads for download are created. In addition to download threads, four more threads are created in addition to the program main thread. Each of these threads are working independently, fetching the request from its own queue and either creating a response in another queue (which is an input for another thread) or terminates the processing there (e.g. by writing the result to a file). Inter-thread communication is done using Python's `deque` because it provides bi-directional, non-blocking and thread-safe O(1) `append` and `pop` methods. I\n\nBecause there are (many) malicious or irrelevant domains in Mastodon network, it is possible to exclude them from traversal as they are seen in peers. Exclusion is specified as regular expression patterns. The name of the file containing such patterns can given with `-e` argument. If not specified, a default list (`masnet/default_exclusion_patterns`) is used. This default list excludes all private IP spaces, special domain names and known malicious domains at the time of release.\n\n`masnet.download` is a long running process, approx. 60 minutes on my computer. The execution of `masnet.download` can be terminated gracefully with `Ctrl-C`. Graceful exit means that running threads will be given time to terminate properly, so it will take some seconds. If you want to terminate immediately, you can use `Ctrl-C` once or a few times more. If terminated immediately, the peers information of some domains may not be saved, so if you care about data consistency or plan to restart the run, terminate the execution gracefully.\n\nAll expected errors are handled gracefully with no stack trace printed to stdout or stderr. If you see any stack trace, that means there is an unexpected error and then the outputs of the program cannot be trusted.\n\nAt the end of an execution (also when terminated by Ctrl-C), in addition to (many) `peers.json` and `.error` files, 5 files are generated:\n\n- `masnet.download.visits`: list of (successfully) visited domains\n- `masnet.download.errors`: list of domains where an error is encountered. For each domain, after a space, also the error message is saved.\n- `masnet.download.skips`: list of skipped domains due exclusion patterns\n- `masnet.download.times`: list of download times (in ms) of each peers.json file\n- `masnet.download.log`: a few information that might be useful to remember the context of this execution\n\nAll files other than `*.peers.json` are only for information. Only `*.peers.json` files are used by `masnet.generate`.\n\nAn example run, with 30s timeout, saving files to current directory would be:\n\n```\n$ masnet.download -t 30\n```\n\nThis command will print (to stdout) a status line like:\n\n```\nd:011740 e:032335 s:02008264 qd:00007320 t:00:46:22 da:193 to:58\n```\n\nThe meaning of the fields are:\n\n- d: # of domains visited with success (peers data is downloaded and being used)\n- e: # of domains visited with error (peers data cannot be downloaded)\n- s: # of skipped domains (due to exclusion)\n- qd: # of domains in download queue (to be visited)\n- t: elapsed time hh:mm:ss\n- da: average download time in seconds\n- to: number of connections gave timeout error\n\nThe status line is printed every second and at the end of the execution.\n\n`masnet.download` finishes automatically when there are zero elements observed in download queue (qd=0 above) for 5 seconds. This is not a 100% correct termination condition as by chance there can be download threads waiting at the same time while download queue is empty but this is almost impossible to occur.\n\nIf you observe too many timed out connections (`to` above), you should use a longer time out value. With `-t 30`, I see around 100 time outs.\n\nAs of 2022-12-12, it takes more than an hour for `masnet.download` to complete a full traversal of Mastodon network on a 4-core virtual machine with 30 seconds timeout, with the status line below:\n\n```\nd:011816 e:039811 s:02113992 qd:00000000 t:01:28:10 da:485 to:77\n```\n\n# masnet.generate\n\n`masnet.generate` reads the .peers.json files saved by `masnet.download` and creates a graph and saves it in networkit Binary format to `mastodon.graph` file. This step is to optimize graph reading time for the analysis. In addition to the graph, the actual labels (domains) are also save into `mastodon.labels` file. Both of these files are read by `masnet.analyze`.\n\nEach `peers.json` file (thus a working domain) will be represented by a vertex in the graph, and it will have connections to its peers as long as the peer also has `peers.json` file. This is the quickest and cleanest approach to create the graph.\n\n```\n$ masnet.generate\nmasnet v0.2\ncreating the graph from peers...\nv:00000000 e:00000000 t:00:00:00 \nv:00000562 e:00000000 t:00:00:01 \n... repeats lines like this ...\n:00011775 e:23631551 t:00:00:38 \ngraph created.\nlabels saved.\nsaving graph...\n0% 31% 59% 80% 99% WARNING:root:overriding given file\n100%\ngraph saved.\nbye.\n```\n\nwhere `v` means number of vertices, `e` means number of edges and `t` means elapsed time.\n\nThis is a relatively fast operation, it completes under a minute.\n\n# masnet.analyze\n\n`masnet.analyze` performs basic graph/network analysis on Mastodon graph using `networkit` large-scale network analysis toolkit. As its core is written in C++ using OpenMP, it is close to being as fast as possible.\n\nEach analysis is requested with an argument to `masnet.analyze` and multiple analysis can be performed at the same run (they run sequentially). Please check the help with `--help` to see a list of analysis.\n\nFor example, the run below calculates and writes in and out degrees to a file (`mastodon.degrees`) and displays the top 10 nodes with the most degree centrality.\n\n```\n$ masnet.analyze --degree-distribution --degree-centrality-ranks\nmasnet v0.2\nvertex labels loaded.\nreading graph into networkit...\ngraph read in 1.6 seconds.\ncalculating degrees...\nsaving degrees...\ndone.\ntealnetwork.org 0.973\nfriends.joinfediverse.online 0.972\nhallole.eu 0.972\ngoatdaddy.net 0.970\ndis-le.de 0.967\nfr.droidbuilders.uk 0.967\nfriendica.drk.network 0.965\nsoc.villisek.fr 0.964\ntwotingwafu.rikozone.net 0.963\namical.info 0.963\nbye.\n```\n# Release History\n\n0.2:\n- major rewrite of masnet.download\n- initial release of masnet.generate\n- initial release of masnet.analyze\n\n0.1.1:\n- small fixes\n    \n0.1:\n- initial release of masnet.download",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/metebalci/masnet",
            "keywords": "Mastodon",
            "license": "GPLv3",
            "maintainer": "",
            "maintainer_email": "",
            "name": "masnet",
            "package_url": "https://pypi.org/project/masnet/",
            "platform": null,
            "project_url": "https://pypi.org/project/masnet/",
            "project_urls": {
                "Homepage": "https://github.com/metebalci/masnet"
            },
            "release_url": "https://pypi.org/project/masnet/0.2/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "tools for Mastodon network analysis",
            "version": "0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16072589,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "5e7c085797f1f7f3e9a39d9c3886424c",
                    "sha256": "200c12a74b0f42b7e3304296c19f472f1c346446b766e47bc62fc701ad3decd8"
                },
                "downloads": -1,
                "filename": "masnet-0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "5e7c085797f1f7f3e9a39d9c3886424c",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 20149,
                "upload_time": "2022-12-12T10:26:41",
                "upload_time_iso_8601": "2022-12-12T10:26:41.154983Z",
                "url": "https://files.pythonhosted.org/packages/a0/78/9f918ec7ff54a2141e68e2d15044a10d23445214046d1df752faef9e0d39/masnet-0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}