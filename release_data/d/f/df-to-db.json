{
    "1.1": {
        "info": {
            "author": "Masum Billal",
            "author_email": "billalmasum93@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/proafxin/df_to_db",
            "keywords": "",
            "license": "LICENSE",
            "maintainer": "",
            "maintainer_email": "",
            "name": "df-to-db",
            "package_url": "https://pypi.org/project/df-to-db/",
            "platform": null,
            "project_url": "https://pypi.org/project/df-to-db/",
            "project_urls": {
                "Homepage": "https://github.com/proafxin/df_to_db"
            },
            "release_url": "https://pypi.org/project/df-to-db/1.1/",
            "requires_dist": [
                "pandas",
                "pymysql",
                "pytest",
                "cryptography",
                "pymongo",
                "sqlalchemy",
                "mysqlclient",
                "coverage",
                "sphinx",
                "sphinx-rtd-theme",
                "psycopg2-binary",
                "sqlalchemy-utils",
                "dnspython",
                "pymssql",
                "tox",
                "tox-gh-actions"
            ],
            "requires_python": "",
            "summary": "An awesome package that does something",
            "version": "1.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15340065,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "3af22701a831fda81917197e83030fe2",
                    "sha256": "dc6635d084b230c06d059b8c78280f41010d31223684120166b5db9efe69afcf"
                },
                "downloads": -1,
                "filename": "df_to_db-1.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "3af22701a831fda81917197e83030fe2",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 14855,
                "upload_time": "2022-10-06T22:52:48",
                "upload_time_iso_8601": "2022-10-06T22:52:48.424689Z",
                "url": "https://files.pythonhosted.org/packages/13/0a/6886618f4680580b8d4d5335b5d67630817b3b203c81856ab1f0c9d730e4/df_to_db-1.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "063628a817c555ba98c1825dab1a8609",
                    "sha256": "6936e566f5e9620adb1754f46d6dd4ee5512611eb108910664221001171863bd"
                },
                "downloads": -1,
                "filename": "df-to-db-1.1.tar.gz",
                "has_sig": false,
                "md5_digest": "063628a817c555ba98c1825dab1a8609",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 12747,
                "upload_time": "2022-10-06T22:52:50",
                "upload_time_iso_8601": "2022-10-06T22:52:50.500858Z",
                "url": "https://files.pythonhosted.org/packages/6e/92/e294960d4b751e7e94ed712a814ec5279d85f7ab90f12857ec7f95a64210/df-to-db-1.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.2": {
        "info": {
            "author": "Masum Billal",
            "author_email": "billalmasum93@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "![Build](https://github.com/proafxin/df_to_db/actions/workflows/build.yml/badge.svg)\n![codecov](https://github.com/proafxin/df_to_db/blob/develop/coverage.svg)\n\n# Dataframe to Database\n\nWrite a pandas dataframe to a database directly. The `df.to_sql` is severely insufficient for this purpose. It not only overwrites the current table, it also requires manually creating an `SQLAlchemy` engine for connection. `df-to-db` is meant to take all the extra steps away from this writing process. Currently, the goal is to support both SQL and NoSQL databases including data warehouse such as `Google BigQuery` or `Apache Cassandra`. For SQL databases, `SQLAlchemy` is used internally for generalizing all SQL database connections.\n\n## Supported So Far\n* MySQL\n* Postgresql\n* SQL Server\n* Mongo\n\n\n# Notes for Linux\n\nYou may need some packages otherwise `mysqlclient` installation may fail. Command for installing these in Debian/Ubuntu: `sudo apt-get install python3-dev default-libmysqlclient-dev build-essential`.\n\n\n# Environment setup\n\nCreate a virtual environment and activate it. Inside the virtual environment, run `pip install -r requirements.txt`. If you get this error `git clone --filter=blob:none --quiet 'ssh://****@github.com/proafxin/df_to_db.git' '..\\df_to_db\\env\\src\\dataframe-to-database' did not run successfully`, then go to `requirements.txt` and remove the line `-e git+ssh://git@github.com/proafxin/df_to_db.git...`. Now the command should run succesfully. If you are on windows and get the following error `tests run-test: commands[0] | python3 calculate_coverage.py WARNING: test command found but not installed in testenv`, then replace `python3 calculate_coverage.py` by `python calculate_coverage.py` or make `python3` available in tox.\n\n# Example Usage\n\n## Writing to SQL Database\n\nFor SQL databases, use `SQLDatabaseWriter`.\n\n```python\nfrom write_df.sql_writer import SQLDatabaseWriter\n\nwriter = SQLDatabaseWriter(\n    dbtype=\"mysql\",\n    host=MYSQL_HOST,\n    dbname=DBNAME,\n    user=MYSQL_USER,\n    password=MYSQL_PASSWORD,\n    port=MYSQL_PORT,\n)\n```\n\n`dbtype` can be one of the SQL databses supported i.e. one of `mysql, postgresql, sqlserver`.\nGet the list of databases using the connection.\n\n```python\ndatabase_names = writer.get_list_of_database()\n```\n\nCheck if the database has a certain table `table_name`.\n\n```python\nwriter.has_table(table_name=table_name)\n```\n\nWrite the dataframe to the database using this connection.\n\n```python\nresult = writer.write_df_to_db(\n    data=data,\n    table_name=table_name,\n    id_col=None,\n    drop_first=True,\n)\n```\n\n`data` is the actual dataframe to write. This `result` is an SQLAlchemy `CursorResult` object. `id_col` is the column name of the primary key (corresponding to `id` column of a table). If this column exists in the dataframe itself, pass the name of the column in this argument. If `drop_first` is `True`, then the table will be dropped and created from the dataframe schema. Otherwise, the writer will read the schema from the database, check whether there is any null data in non-nullable columns and then try to write the data to the table. Needless to say, the column names must be identical in dataframe and the table.\n\n\n## Writing to NoSQL Database\n\nCreate the writer object.\n\n```python\nfrom write_df.nosql_writer import NoSQLDatabaseWriter\n\nwriter = NoSQLDatabaseWriter(\n    dbtype=\"mongo\",\n    host=os.environ[\"MONGO_HOST\"],\n    dbname=DBNAME,\n    user=os.environ[\"MONGO_USER\"],\n    password=os.environ[\"MONGO_PASSWORD\"],\n    port=int(os.environ[\"MONGO_PORT\"]),\n)\n```\n\nGet list of databases.\n\n```python\ndbnames = writer.get_list_of_databases()\n```\n\nGet list of collections of the current database.\n\n```python\ncollection_names = writer.get_list_of_collections()\n```\n\nGet a certain collection or create it.\n\n```python\ncollection = writer.get_or_create_collection(collection_name=collection_name)\n```\n\nGet document count of a collection.\n\n```python\ndoc_count = writer.get_document_count(collection_name=collection_name)\n```\n\nWrite to a collection `collection_name`.\n\n```python\nresult = write_data_to_collection(collection_name=collection_name, data=data)\n```\n\n\n\n## Generate Documentation Source Files\nYou should not have to do this but in case you want to generate the source ReStructuredText files yourself, here is how. Skip to the next section to simply generate html documentation locally.\n\nRun `sphinx-quickstart`. Choose `y` when it asks to seperate build and source directories.\n\nChange to `docs/source` directory. In `conf.py`, add the following lines at the start of the script. \n\n```python\nimport os\nimport sys\n\nsys.path.insert(0, os.path.abspath(\"../..\"))\n```\n\nand save it. Add `\"sphinx.ext.autodoc\",` to the `extensions` list. Run `python -m pip install -U sphinx_rtd_theme` and set `html_theme = \"sphinx_rtd_theme\"`.\n\nIn `index.rst`, add `modules` to toctree. The structure should look like this:\n\n```\n.. toctree::\n:maxdepth: 2\n:caption: Contents:\n\nmodules\n```\n\nRun `sphinx-apidoc -f -o . ../../ ../../calculate_coverage.py  ../../setup.py ../../tests/`. It should generate the necessary ReStructuredText files for documentation.\n\n## Generating HTML Documentation\nChange to `docs/` using `cd ..` then run `.\\make clean` and `.\\make html`. Output should be built with no errors or warnings. You will get the html documenation in `docs/build/html` directory. Open `index.html`.\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/proafxin/df_to_db",
            "keywords": "",
            "license": "LICENSE",
            "maintainer": "",
            "maintainer_email": "",
            "name": "df-to-db",
            "package_url": "https://pypi.org/project/df-to-db/",
            "platform": null,
            "project_url": "https://pypi.org/project/df-to-db/",
            "project_urls": {
                "Homepage": "https://github.com/proafxin/df_to_db"
            },
            "release_url": "https://pypi.org/project/df-to-db/1.2/",
            "requires_dist": [
                "pandas",
                "pymysql",
                "pytest",
                "cryptography",
                "pymongo",
                "sqlalchemy",
                "mysqlclient",
                "coverage",
                "sphinx",
                "sphinx-rtd-theme",
                "psycopg2-binary",
                "sqlalchemy-utils",
                "dnspython",
                "pymssql",
                "tox",
                "tox-gh-actions"
            ],
            "requires_python": "",
            "summary": "An awesome package that does something",
            "version": "1.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15340065,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "ad941f797b153747e8b71fa71e765a60",
                    "sha256": "79afc2afab7fd7e267431e5fc6c2cbc8bc50e2655adea7940bfcd9e13032ec9c"
                },
                "downloads": -1,
                "filename": "df_to_db-1.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "ad941f797b153747e8b71fa71e765a60",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 14970,
                "upload_time": "2022-10-07T21:58:08",
                "upload_time_iso_8601": "2022-10-07T21:58:08.404940Z",
                "url": "https://files.pythonhosted.org/packages/80/2f/ddab74c00257aad11e392fb7b9581e490ff4ef9f102607c8d684513b1df9/df_to_db-1.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "1acdda5d8d737c18b9c271e49cac99f7",
                    "sha256": "59f1a7bde5256f2698951f48e8288b77d307dad419b59a8360f6d416089e2d9e"
                },
                "downloads": -1,
                "filename": "df-to-db-1.2.tar.gz",
                "has_sig": false,
                "md5_digest": "1acdda5d8d737c18b9c271e49cac99f7",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 12843,
                "upload_time": "2022-10-07T21:58:10",
                "upload_time_iso_8601": "2022-10-07T21:58:10.839096Z",
                "url": "https://files.pythonhosted.org/packages/92/10/fd573faf0392bf0de54fbe61c5a4d052d6a4b736e6a113d1d2277a2028ac/df-to-db-1.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}