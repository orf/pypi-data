{
    "0.1.0": {
        "info": {
            "author": "",
            "author_email": "Tom Solberg <me@sbg.dev>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Programming Language :: Python",
                "Topic :: Software Development :: Build Tools"
            ],
            "description": "# OCI backend for Pants\n\nThis is a backend implementing support for building OCI images in pants; running them, and publishing them to container registries. To do this, this plugin uses three different tools:\n\n* [umoci](https://github.com/opencontainers/umoci) for manipulating OCI images\n* [runc](https://github.com/opencontainers/runc) for exeuction\n* [skopeo](https://github.com/containers/skopeo) for pulling and pushing images\n\n# Planned and missing features\n\n* Currently there's no support for pulling tags, as that would break determinism\n* Multi-platform SHA/.sig is untested/unsupported\n* skopeo doesn't support MacOS, preventing pulling and pushing images.\n* No empty image base\n* No \"in-container\" build steps\n\n## Targets\n\nThere's three targets currently implemented:\n\n* `oci_pull_image`\n* `oci_pull_images`\n* `oci_build_image`\n\nThere are also plans to support targets optimized for various languages.\n\n### `oci_pull_image`\n\nPull an image from a repository with a specific digest.\n\n``` python\noci_pull_image(\n    name=\"base-python\",\n    repository=\"docker.io/library/python\",\n    sha=\"b78b777208be08edd8f297035cdfbacddb45170ad778fd643c792ee045187e39\"\n)\n```\n\n| Argument | Meaning | Default value |\n| --- | --- | --- |\n| name | The target name | Same as any other target, which is the directory name |\n| repository | Fully qualified repository name | Required |\n| sha | The digest of the image, minus the @sha: prefix. | Required |\n| decsription | A description of the target | \"\" |\n| tags | List of tags | [] |\n\n### `oci_pull_images`\n\nPull multiple shas for an image, generating a target for each. In the below example, we'd get the targets `:python#slim` and `:python#buster`.\n\n``` python\noci_pull_image(\n    name=\"python\",\n    repository=\"docker.io/library/python\",\n    variants={\n       \"slim\": \"f8fbb2370c6314c806b2ddbec8d94375987e16bc122379bef979c6fc5e962920\",\n       \"buster\": \"97c123c899c8c9ca46248f4002ec4173322e0a1086b386efefac163c64967ba2\"\n    }\n)\n```\n\n| Argument | Meaning | Default value |\n| --- | --- | --- |\n| name | The target name | Same as any other target, which is the directory name |\n| repository | Fully qualified repository name | Required |\n| variants | Dictionary with local tags to the remote sha | Required |\n| decsription | A description of the target | \"\" |\n| tags | List of tags | [] |\n\n### `oci_build_image`\n\nPull multiple shas for an image, generating a target for each.\n\n``` python\noci_build_image(\n    name=\"my-server\",\n    base=\":python#slim\",\n    repository=\"my-registry.example.com/a-namespace/an-image\",\n    tag=\"latest\",\n    packages=[\":my_pex\"]\n)\n```\n\n| Argument | Meaning | Default value |\n| --- | --- | --- |\n| name | The target name | Same as any other target, which is the directory name |\n| base | The base image to use. Matches the `FROM` directive in a Dockerfile | Required |\n| packages | Packaged targets to include. The first element will be used as the entrypoint. | [] |\n| repository | Fully qualified repository name | Required when publishing |\n| tag | Remote tag to use | Required when publishing |\n| decsription | A description of the target | \"\" |\n| tags | List of tags | [] |\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "pantsbuild,pants,docker,oci,container",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pants-backend-oci",
            "package_url": "https://pypi.org/project/pants-backend-oci/",
            "platform": null,
            "project_url": "https://pypi.org/project/pants-backend-oci/",
            "project_urls": {
                "Changelog": "https://github.com/tgolsson/pants-backend-oci/tree/main/CHANGELOG.md",
                "Repository": "https://github.com/tgolsson/pants-backend-oci"
            },
            "release_url": "https://pypi.org/project/pants-backend-oci/0.1.0/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "An OCI plugin for the Pants build system",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15751858,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "6a398874d48d9ca5a6f4201982d38fda",
                    "sha256": "cf89334e1a98c94c39d34f5235779943c73550fcd7b899f0da962d694966fa39"
                },
                "downloads": -1,
                "filename": "pants_backend_oci-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "6a398874d48d9ca5a6f4201982d38fda",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 16454,
                "upload_time": "2022-11-13T15:50:06",
                "upload_time_iso_8601": "2022-11-13T15:50:06.776367Z",
                "url": "https://files.pythonhosted.org/packages/b5/35/ae0ccd2021c13c2767c2d192a3755b5f660ae603ba3d5014018f3249cf14/pants_backend_oci-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "cc6f1d265d0f8d5d072f9f2c65b4f4b6",
                    "sha256": "6f39ef11baef7b5111e5c8633da9ae26cce889c8343e63d91604f216e9dc1746"
                },
                "downloads": -1,
                "filename": "pants-backend-oci-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "cc6f1d265d0f8d5d072f9f2c65b4f4b6",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 11264,
                "upload_time": "2022-11-13T15:50:08",
                "upload_time_iso_8601": "2022-11-13T15:50:08.263765Z",
                "url": "https://files.pythonhosted.org/packages/87/87/87870b73d039346567a71ac72782da4dc899c78e2d6b451b6dac5e43d146/pants-backend-oci-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}