{
    "1.0.0": {
        "info": {
            "author": "Jian",
            "author_email": "",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/jianfch/stable-ts",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "stable-ts",
            "package_url": "https://pypi.org/project/stable-ts/",
            "platform": null,
            "project_url": "https://pypi.org/project/stable-ts/",
            "project_urls": {
                "Homepage": "https://github.com/jianfch/stable-ts"
            },
            "release_url": "https://pypi.org/project/stable-ts/1.0.0/",
            "requires_dist": null,
            "requires_python": ">=3.7",
            "summary": "Stabilizing timestamps of OpenAI's Whisper outputs down to word-level.",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15893226,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "a90ea687bf6cdc03c87b8926091142ca",
                    "sha256": "63f3b79b11b2ce8a6771d519ed423b49491a6161d281a452a679d81d57fdb5dc"
                },
                "downloads": -1,
                "filename": "stable-ts-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "a90ea687bf6cdc03c87b8926091142ca",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 22606,
                "upload_time": "2022-11-20T23:26:28",
                "upload_time_iso_8601": "2022-11-20T23:26:28.913841Z",
                "url": "https://files.pythonhosted.org/packages/7c/30/dfceac5e5da83b6459756c18f914110a9d02f3f33bfa3f710f2f9c312dd2/stable-ts-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.1": {
        "info": {
            "author": "Jian",
            "author_email": "",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# Stabilizing Timestamps for Whisper\r\n\r\n## Description\r\nThis script modifies methods of Whisper's model to gain access to the predicted timestamp tokens of each word (token) without needing additional inference. It also stabilizes the timestamps down to the word (token) level to ensure chronology. Additionally, it can suppress gaps in speech for more accurate timestamps.\r\n\r\n![image](https://user-images.githubusercontent.com/28970749/192950141-40ac8cbd-ccac-45da-b563-f8144d22c54e.png)\r\n\r\n## TODO\r\n- [ ] Add function to stabilize with multiple inferences\r\n- [x] Add word timestamping (previously only token based)\r\n\r\n## Dependency\r\n* [Whisper](https://github.com/openai/whisper)\r\n\r\n## Setup \r\n1. Install [Whisper](https://github.com/openai/whisper#setup)\r\n2. Check if Whisper is installed correctly by running a quick test\r\n```python\r\nimport whisper\r\nmodel = whisper.load_model('base')\r\nassert model.transcribe('audio.mp3').get('segments')\r\n```\r\n3. Install stable-ts\r\n```commandline\r\npip install stable-ts\r\n```\r\n\r\n### Executing script\r\n```python\r\nfrom stable_whisper import load_model\r\n\r\nmodel = load_model('base')\r\n# modified model should run just like the regular model but with additional hyperparameters and extra data in results\r\nresults = model.transcribe('audio.mp3')\r\nstab_segments = results['segments']\r\nfirst_segment_word_timestamps = stab_segments[0]['whole_word_timestamps']\r\n\r\n# or to get token timestamps that adhere more to the top prediction\r\nfrom stable_whisper import stabilize_timestamps\r\nstab_segments = stabilize_timestamps(results, top_focus=True)\r\n```\r\n\r\n### Generate .srt with stable timestamps\r\n```python\r\n# word-level \r\nfrom stable_whisper import results_to_word_srt\r\n# after you get results from modified model\r\n# this treats a word timestamp as end time of the word\r\n# and combines words if their timestamps overlap\r\nresults_to_word_srt(results, 'audio.srt')  # combine_compound=True will merge words with no prepended space\r\n```\r\n```python\r\n# sentence/phrase-level\r\nfrom stable_whisper import results_to_sentence_srt\r\n# after you get results from modified model\r\nresults_to_sentence_srt(results, 'audio.srt')\r\n# below is from large model default settings\r\n```\r\n\r\nhttps://user-images.githubusercontent.com/28970749/202782436-0d56140b-5d52-4f33-b32b-317a19ad32ca.mp4\r\n\r\n\r\n```python\r\n# sentence/phrase-level & word-level\r\nfrom stable_whisper import results_to_sentence_word_ass\r\n# after you get results from modified model\r\nresults_to_sentence_word_ass(results, 'audio.ass')\r\n# below is from large model default settings\r\n```\r\n\r\nhttps://user-images.githubusercontent.com/28970749/202782412-dfa027f8-7073-4023-8ce5-285a2c26c03f.mp4\r\n\r\n#### Additional Info\r\n* Since the sentence/segment-level timestamps are predicted directly, they are always more accurate and precise than word/token-level timestamps.\r\n* Although timestamps are chronological, they can still be off sync depending on the model and audio.\r\n* The `unstable_word_timestamps` are left in the results, so you can possibly find better way to utilize them.\r\n\r\n## License\r\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details\r\n\r\n## Acknowledgments\r\nIncludes slight modification of the original work: [Whisper](https://github.com/openai/whisper)\r\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/jianfch/stable-ts",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "stable-ts",
            "package_url": "https://pypi.org/project/stable-ts/",
            "platform": null,
            "project_url": "https://pypi.org/project/stable-ts/",
            "project_urls": {
                "Homepage": "https://github.com/jianfch/stable-ts"
            },
            "release_url": "https://pypi.org/project/stable-ts/1.0.1/",
            "requires_dist": null,
            "requires_python": ">=3.7",
            "summary": "Stabilizing timestamps of OpenAI's Whisper outputs down to word-level.",
            "version": "1.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15893226,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "0d19575f54fbaf401c25c8f3c9bdf14b",
                    "sha256": "8242952db389043fc7715f78949d0f3f3df420912c609dca5d7bd7d25d85689d"
                },
                "downloads": -1,
                "filename": "stable-ts-1.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "0d19575f54fbaf401c25c8f3c9bdf14b",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 22836,
                "upload_time": "2022-11-25T19:07:36",
                "upload_time_iso_8601": "2022-11-25T19:07:36.493396Z",
                "url": "https://files.pythonhosted.org/packages/e4/5d/c8b77da793a44399f04863730d67279f06a7c1d068b71a1b1da230d74ea5/stable-ts-1.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}