{
    "0.1.1": {
        "info": {
            "author": "tuweifeng",
            "author_email": "907391489@qq.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Framework :: Django",
                "Framework :: Django :: 3.2",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Software Development :: Libraries :: Python Modules"
            ],
            "description": "# README\n\n\u521b\u5efa\u65f6\u95f4: March 22, 2022 6:24 PM\n\u6587\u7ae0\u7c7b\u578b: \u9879\u76ee\u6587\u6863\n\u6700\u8fd1\u4fee\u6539: March 22, 2022 7:23 PM\n\n## \u524d\u8a00\n\n---\n\n\u4ec5\u9002\u7528\u4e8e Django\u9879\u76ee\uff0c\u76ee\u7684\u662f\u5feb\u901f\u5f00\u53d1\u51fa Swagger \u6587\u6863\u548c gRPC \u63a5\u53e3\n\n## \u539f\u7406\n\n---\n\n\u7531\u4e8e **drf-yasg** \u3001 **django_grpc_framework**  \u90fd\u662f\u57fa\u4e8e\u5f00\u53d1\u5de5\u5177\u5305  **djangorestframework** \u4e3a Django \u63d0\u4f9b\u7684\u5e8f\u5217\u5316\u7279\u6027\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u4e00\u5957\u4ee3\u7801\uff0c\u901a\u8fc7\u88c5\u9970\u5668\u751f\u6210\u5404\u81ea\u63a5\u53e3\u3002\n\n## \u73af\u5883\n\n---\n\n\u8981\u6c42\u8fd0\u884c\u5728 **Python** \u7248\u672c 3.6+\u3002\n\n| \u64cd\u4f5c\u7cfb\u7edf | \u662f\u5426\u53ef\u7528 |\n| --- | --- |\n| Ubuntu 16.04+ | \u2705\u00a0 |\n| macOS 10.13.6+ | \u2705\u00a0 |\n| Windows \u7cfb\u5217 | \u274c |\n\n\u7a0b\u5e8f\u8fd0\u884c\u4f9d\u8d56\u7684\u5e93\u3002\n\n| \u5e93 | \u662f\u5426\u53ef\u7528 |\n| --- | --- |\n| django\u22653.2.9 | \u2705\u00a0 |\n| drf-yasg\u22651.20.0 | \u2705\u00a0 |\n| djangorestframework\u22653.12.4 | \u2705\u00a0 |\n| djangogrpcframework\u22650.2.1 | \u2705\u00a0 |\n| grpcio-tools\u22651.44.0 | \u2705\u00a0 |\n\n## \u5b89\u88c5\n\n---\n\n\u8fdb\u5165\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c\u5b89\u88c5\u547d\u4ee4\uff0c\u4f1a\u81ea\u52a8\u5b89\u88c5\u8be5\u5e93\u548c\u6240\u6709\u4f9d\u8d56\u3002\n\n```bash\npython3 setup.py install\n```\n\n## \u4f7f\u7528\n\n---\n\n1. \u5728\u4f60\u7684 Django \u9879\u76ee\u4e2d\u7684 settings.py \u6587\u4ef6\u6dfb\u52a0\u914d\u7f6e\n\n    ```python\n    INSTALLED_APPS = [\n    \t\t...\n        'rest_framework',\n        'drf_yasg',\n        'django_grpc_framework',\n        'django_grpc_swagger',\n    \t\t...\n    ]\n\n    SWAGGER_SETTINGS = {\n        'TITLE': \"\u9274\u6743\u4e2d\u5fc3\",\n        'PUBLIC': True,\n    }\n\n    GRPC_SWAGGER_SETTINGS = {\n        \"package\": \"ca\",\n        \"add_grpc_prefix\": False\n    }\n    ```\n\n2. \u65b0\u5efa serializers.py\n\n    ```python\n    from rest_framework import serializers\n    from django.contrib.auth.models import User\n\n    class LoginRequest(serializers.ModelSerializer):\n        class Meta:\n            model = User\n            fields = ['username', 'password']\n            extra_kwargs = {'username': {'validators': []}}\n\n    class LoginResponse(serializers.ModelSerializer):\n        token = serializers.CharField(max_length=1000, allow_blank=False)\n    ```\n\n3. \u4fee\u6539 views.py\n\n    ```python\n    from rest_framework import viewsets\n    from rest_framework.decorators import action\n    from .serializers import *\n    from django_grpc_swagger import serializer_handler\n\n    class UserView(viewsets.ViewSet):\n\n        @action(detail=False, methods=[\"PUT\"])\n        @serializer_handler.serializer(LoginRequest, LoginResponse, add_swagger=True, add_grpc=True)\n        def login(self, request):\n            password = request.data[\"password\"]\n            username = request.data[\"username\"]\n    \t\treturn {\"token\": \"abc\"}\n    ```\n\n4. \u4fee\u6539 urls.py\n\n    ```python\n    from django.conf import settings\n    from django.contrib import admin\n    from django.conf.urls import url, include\n    from rest_framework import routers\n    from user.views import UserView\n    from django_grpc_swagger import serializer_handler\n\n    router = routers.DefaultRouter()\n    router.register(r'users', UserView, basename=\"users\")\n\n    urlpatterns = [\n        # api\n        url('', include(router.urls)),\n        # \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\n        url('admin/', admin.site.urls),\n        # swagger\n        *serializer_handler.get_swagger_urls(\n            doc_title=settings.SWAGGER_SETTINGS['TITLE'],\n            public=settings.SWAGGER_SETTINGS['PUBLIC'],\n        )\n    ]\n\n    grpc_handlers = serializer_handler.get_grpc_handlers\n    ```\n\n5. \u8fd0\u884c Django Server with swagger\n\n    ```bash\n    python3 manage.py runserver\n    ```\n\n6. \u8fd0\u884c gRPC\n\n    ```bash\n    python3 manage.py generate_proto\n    python3 manage.py grpcrunserver\n    ```\n\n\n## \u58f0\u660e\n\n---\n\n\u7981\u6b62\u7528\u4e8e\u5546\u4e1a\u7528\u9014\u3002\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/tuweifeng/django_grpc_swagger",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "django-grpc-swagger",
            "package_url": "https://pypi.org/project/django-grpc-swagger/",
            "platform": "any",
            "project_url": "https://pypi.org/project/django-grpc-swagger/",
            "project_urls": {
                "Homepage": "https://github.com/tuweifeng/django_grpc_swagger"
            },
            "release_url": "https://pypi.org/project/django-grpc-swagger/0.1.1/",
            "requires_dist": [
                "django (<=3.2.12,>=3.2.9)",
                "drf-yasg (>=1.20.0)",
                "grpcio-tools (>=1.44.0)",
                "djangogrpcframework (>=0.2.1)",
                "djangorestframework (>=3.12.4)"
            ],
            "requires_python": ">=3.6",
            "summary": "Django with gRPC\u3001Swagger",
            "version": "0.1.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 13251912,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "0b066cb6d3d000e62a49882bff3ebdde",
                    "sha256": "923dd6db755a6754bd381c9ab36158b420465b9765df8fe7baa38e698e8ccf4c"
                },
                "downloads": -1,
                "filename": "django_grpc_swagger-0.1.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "0b066cb6d3d000e62a49882bff3ebdde",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 9123,
                "upload_time": "2022-03-22T16:33:52",
                "upload_time_iso_8601": "2022-03-22T16:33:52.960731Z",
                "url": "https://files.pythonhosted.org/packages/7f/2f/2f1fe27b30747e04cc1b090291bc331c797ec023496827c2a92d8dd3e801/django_grpc_swagger-0.1.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}