{
    "1.0.0": {
        "info": {
            "author": "shabbywu",
            "author_email": "shabbywu@tencent.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "# \u589e\u5f3a SSH\nssh\u8fde\u63a5\u7ba1\u7406\u5de5\u5177\n\u9879\u76ee\u80cc\u666f: \u65b9\u4fbf\u7ba1\u7406 ssh \u8fde\u63a5\uff0c\u964d\u4f4e\u767b\u5f55\u670d\u52a1\u5668\u7684\u6210\u672c\n\u4f7f\u7528\u573a\u666f:\n-   \u7ba1\u7406 ssh \u8d26\u53f7\u3001\u5bc6\u7801\u3001\u79d8\u94a5\u7b49\u914d\u7f6e\n-   \u4e00\u952e\u767b\u5f55\u670d\u52a1\u5668\n-   \u57fa\u4e8e expect \u6307\u4ee4\u8fdb\u884c\u989d\u5916\u64cd\u4f5c(e.g. \u901a\u8fc7\u8df3\u677f\u673a\u767b\u5f55\u8fd0\u7ef4\u673a)\n\n## \u4f7f\u7528\u8bf4\u660e\n### \u5982\u4f55\u5b89\u88c5\u8be5\u9879\u76ee\n\u672c\u9879\u76ee\u4f7f\u7528 [poetry](https://python-poetry.org/) \u7ba1\u7406\u4f9d\u8d56\u548c\u6253\u5305, \u76ee\u524d\u8be5\u9879\u76ee\u4ee5\u53d1\u5e03\u81f3 pypi.org, \u4f60\u53ef\u4ee5\u4ece pypi.org \u5b89\u88c5\u8be5\u4f9d\u8d56\u6216\u8005\u9009\u62e9\u4ece\u6e90\u7801\u8fdb\u884c\u5b89\u88c5\u3002\n\n#### \u4ece pypi.org \u5b89\u88c5\u8be5\u5e94\u7528\n##### 1. \u5b89\u88c5\np.s. \u63a8\u8350\u4f7f\u7528 [pipx](https://pipxproject.github.io/pipx/) \u7ba1\u7406\u57fa\u4e8e pip \u5b89\u88c5\u7684\u547d\u4ee4\n```bash\n#!/usr/bin/env bash\n## \u7b80\u5355\u5b89\u88c5\npip install ssh-mgr -i https://pypi.org/simple/\n## \u4f7f\u7528 pipx \u5b89\u88c5\npipx install ssh-mgr -i https://pypi.org/simple/\n\n## \u52a0\u8f7d ssh2_wrapper.sh \u5185\u7f6e\u7684\u6307\u4ee4\nsource $(ssh2 get-wrapper-dot-sh)\n```\n\n##### 2. \u4f7f\u7528\n5. \u4f7f\u7528(demo)\n```yml\n# file `demo.yml`\n## Create with a nested object\nkind: Session\nspec:\n    tag: session-1\n    name: unique_name_to_mark_this_session_1\n    plugins:\n        -   kind:   SSH_LOGIN\n            args:\n    client:\n        spec:\n            user: username_whose_login_to_server\n            name: unique_name_to_mark_this_client_1\n            auth:\n                spec:\n                    name: unique_name_to_mark_this_auth_1\n                    type: PASSWORD\n                    content: your_password\n                    expect_for_password: str\n    server:\n        spec:\n            name: unique_name_to_mark_this_server_1\n            host: host_of_server\n            port: port_of_server\n---\n# Create with multi object\nkind: ClientConfig\nspec:\n  name: unique_name_to_mark_this_client_2\n  user: username_whose_login_to_server\n  auth:\n    spec:\n      name: unique_name_to_mark_this_auth_2\n      type: INTERACTIVE_PASSWORD\n      content: 'a placeholder'\n---\nkind: ServerConfig\nspec:\n  name: unique_name_to_mark_this_server_2\n  host: host_of_server\n  port: port_of_server\n---\nkind: Session\nspec:\n    tag: session-2\n    name: unique_name_to_mark_this_session_2\n    plugins:\n        -   kind:   SSH_WETERM\n            args:\n    client:\n      ref:\n        field: name\n        value: unique_name_to_mark_this_client_2\n    server:\n      ref:\n        field: name\n        value: unique_name_to_mark_this_server_2\n```\n```bash\nssh2 create -f demo.yml\ngo2s\n# show `session-1 session-2`\ngo2s session-1\n# try login to session-1\n```\n\n#### \u4ece\u6e90\u7801\u5b89\u88c5\u8be5\u5e94\u7528\n##### 1. \u8bf7\u6839\u636e [\u5b98\u65b9\u6587\u6863](https://python-poetry.org/docs/#installation) \u5b89\u88c5 poetry\n##### 2. \u4e0b\u8f7d\u6e90\u7801\n```bash\n#!/usr/bin/env bash\ngit clone github https://github.com/shabbywu/ssh2.git\n```\n##### 3. \u4f7f\u7528 poetry \u6253\u5305\u9879\u76ee\n```bash\n#!/usr/bin/env bash\n# \u5047\u8bbe\u4f60\u521a\u6267\u884c\u5b8c git clone\ncd ssh2\npoetry build\n```\n##### 4. \u5b89\u88c5   \np.s. \u63a8\u8350\u4f7f\u7528 [pipx](https://pipxproject.github.io/pipx/) \u7ba1\u7406\u57fa\u4e8e pip \u5b89\u88c5\u7684\u547d\u4ee4\n```bash\n#!/usr/bin/env bash\n# \u5047\u8bbe\u4f60\u521a\u6267\u884c poetry build\ncd dist\n## \u7b80\u5355\u4f7f\u7528\npip install ssh2-0.1.1.tar.gz\n## \u4f7f\u7528 pipx\npipx install ssh2-0.1.1.tar.gz\n\n## \u52a0\u8f7d ssh2_wrapper.sh \u5185\u7f6e\u7684\u6307\u4ee4\nbash\nsource $(ssh2 get-wrapper-dot-sh)\n```\n##### 5. \u4f7f\u7528(demo)\n```yml\n# file `demo.yml`\n## Create with a nested object\nkind: Session\nspec:\n    tag: session-1\n    name: unique_name_to_mark_this_session_1\n    plugins:\n        -   kind:   SSH_LOGIN\n            args:\n    client:\n        spec:\n            user: username_whose_login_to_server\n            name: unique_name_to_mark_this_client_1\n            auth:\n                spec:\n                    name: unique_name_to_mark_this_auth_1\n                    type: PASSWORD\n                    content: your_password\n                    expect_for_password: str\n    server:\n        spec:\n            name: unique_name_to_mark_this_server_1\n            host: host_of_server\n            port: port_of_server\n---\n# Create with multi object\nkind: ClientConfig\nspec:\n  name: unique_name_to_mark_this_client_2\n  user: username_whose_login_to_server\n  auth:\n    spec:\n      name: unique_name_to_mark_this_auth_2\n      type: INTERACTIVE_PASSWORD\n      content: 'a placeholder'\n---\nkind: ServerConfig\nspec:\n  name: unique_name_to_mark_this_server_2\n  host: host_of_server\n  port: port_of_server\n---\nkind: Session\nspec:\n    tag: session-2\n    name: unique_name_to_mark_this_session_2\n    plugins:\n        -   kind:   SSH_WETERM\n            args:\n    client:\n      ref:\n        field: name\n        value: unique_name_to_mark_this_client_2\n    server:\n      ref:\n        field: name\n        value: unique_name_to_mark_this_server_2\n```\n```bash\nssh2 create -f demo.yml\ngo2s\n# show `session-1 session-2`\ngo2s session-1\n# try login to session-1\n```\n## \u9644\u5f55\n### \u6570\u636e\u7ed3\u6784\n```yaml\n---\nkind: AuthMethod\nspec:\n    name: str | nullable\n    type: str\n    content: str\n    expect_for_password: str\n    save_private_key_in_db: bool\n---\nkind: ClientConfig\nspec:\n    user: str\n    name: str | nullable\n    auth:\n        ref:\n            field: id/name\n            value: int/str\n        spec:\n            name: str | nullable\n            type: str\n            content: str\n            expect_for_password: str\n            save_private_key_in_db: bool\n---\nkind: ServerConfig\nspec:\n    name: str\n    host: str\n    port: int\n\n---\nkind: Session\nspec:\n    tag: str\n    name: str\n    plugins:\n        -   kind:   SSH_LOGIN\n            args:\n        -   kind:   EXPECT\n            args:\n                expect: str\n                send:   str\n                raw:\n                -   str\n                -   str\n                -   str\n    client:\n        ref:\n            field: id/name\n            value: int/str\n        spec:\n            user: str\n            name: str | nullable\n            auth:\n                ref:\n                    field: id/name\n                    value: int/str\n                spec:\n                    name: str | nullable\n                    type: str\n                    content: password\n                    expect_for_password: str\n                    save_private_key_in_db: bool\n    server:\n        ref:\n            field: id/name\n            value: int/str\n        spec:\n            name: str\n            host: str\n            port: int\n```\n### \u9879\u76ee\u5efa\u6a21:\n**AuthMethod**: \u8fde\u63a5\u670d\u52a1\u5668\u65f6, \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u7684\u65b9\u6cd5(PASSWORD\u3001PUBLISH_KEY\u7b49)\n**ClientConfig**: \u8fde\u63a5\u670d\u52a1\u5668\u65f6, \u4f7f\u7528\u7684\u8eab\u4efd\u4fe1\u606f(username), \u5173\u8054\u7740 AuthMethod\n**ServerConfig**: \u8fde\u63a5\u7684\u670d\u52a1\u5668\u4fe1\u606f, \u5305\u62ec(host\u3001port)\n**Session**: ssh\u4f1a\u8bdd\u914d\u7f6e, \u63cf\u8ff0\u4e86\u4f7f\u7528\u54ea\u4e2aClientConfig\u8fde\u63a5\u54ea\u4e2aServerConfig\u7684\u4fe1\u606f\n\u9879\u76ee\u6574\u4f53\u7ed3\u6784:\n```text\n                                                                                             +--------------------+\n                                        +-------------+       +-------------+                |  +--------------+  |\n                                        | config.yaml | --+-- | config.yaml |                |  |              |  |\n                                        +-------------+   |   +-------------+                |  |  AuthMethod  |  |\n                                                          |                                  |  |              |  |\n                                                          |                                  |  +-------+------+  |\n                                                          v                                  |          ^         |\n                                                    +-----+------+                           |          v         |\n                                    cretae/update   |            |                           |  +-------+------+  |\n                                 +----------------->+ YamlParser |                           |  |              |  |\n                                 |                  |            |                           |  | ClientConfig |  |\n                                 |                  +-----+------+                           |  |              |  |\n                                 |                        |                                  |  +-------+------+  |\n                                 |                        |                                  |          |         |\n                                 |                        v                                  |          |         |\n+-----------------+         +----+--------+         +-----+-------+           +----------+   |    +-----+---+     |\n|                 | invoke  |             |  read   |             |           |          |   |    |         |     |\n|  shell-wrapper  +-------->+  Click-cli  +-------->+ sqlalchemy  +---------->+  models  |   |    | Session |     |\n|                 |         |             |         |             |           |          |   |    |         |     |\n+-----+-----------+         +-------------+         +-------------+           +----------+   |    +-----+---+     |\n      ^                                                                                      |          |         |\n      |                                                                                      |          |         |\n      |                                             +-------------+                          |  +-------+------+  |\n      |    eval              +-----------+ generate |             |           bind           |  |              |  |\n      +--------------------+ | expect.sh |  <----+  |   plugins   +<----------------------------+ ServerConfig |  |\n                             +-----------+          |             |                          |  |              |  |\n                                  ..                +-------------+                          |  +--------------+  |\n                                  ..                |             |                          |                    |\n                             +-----------+          | *SSH_LOGIN  |                          +--------------------+\n                             | expect.sh |          |             |\n                             +-----------+          | *SSH_WETERM |\n                                  ..                |             |\n                                  ..                | *EXPECT     |\n                                  ..                |             |\n                                  ..                +-------------+\n                             +-----------+\n                             | expect.sh |\n                             +-----------+\n\n```\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "ssh",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "ssh-mgr",
            "package_url": "https://pypi.org/project/ssh-mgr/",
            "platform": "",
            "project_url": "https://pypi.org/project/ssh-mgr/",
            "project_urls": null,
            "release_url": "https://pypi.org/project/ssh-mgr/1.0.0/",
            "requires_dist": [
                "PyYaml (==5.1.2)",
                "aenum (==2.2.2)",
                "click (>=7.0)",
                "cryptography (==2.8)",
                "sqlalchemy (==1.3.10)"
            ],
            "requires_python": ">=3.6,<4.0",
            "summary": "A Tool to manage ssh connection",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 10727460,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "4d15e69724997420c83cc90accdcbe4d",
                    "sha256": "6efb2c1adda5dcaffac03b472116b6069dfaf3925b20325d347ffa8d5c4aff63"
                },
                "downloads": -1,
                "filename": "ssh_mgr-1.0.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "4d15e69724997420c83cc90accdcbe4d",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6,<4.0",
                "size": 18344,
                "upload_time": "2021-06-24T02:27:56",
                "upload_time_iso_8601": "2021-06-24T02:27:56.272109Z",
                "url": "https://files.pythonhosted.org/packages/e6/78/22c65e6f7cbfa8eb02a13998c1022cce1500f8f71e06dbc345eb4bec891b/ssh_mgr-1.0.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "d29384f19a7244948d44f558d3f22fa5",
                    "sha256": "c8c421de57140029855152e4571f4c3fba44d54cb0176379d3ae44c934a41265"
                },
                "downloads": -1,
                "filename": "ssh-mgr-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "d29384f19a7244948d44f558d3f22fa5",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6,<4.0",
                "size": 15920,
                "upload_time": "2021-06-24T02:27:57",
                "upload_time_iso_8601": "2021-06-24T02:27:57.995008Z",
                "url": "https://files.pythonhosted.org/packages/c3/86/cf96503da96e932493f937bd6e8d3d8f3a2ac8fedee8c4ba4bb52a0c3b3e/ssh-mgr-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}