{
    "0.1.3": {
        "info": {
            "author": "Andr\u00e9 Pedersen",
            "author_email": "andrped94@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/andreped/GradientAccumulator",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "gradient-accumulator",
            "package_url": "https://pypi.org/project/gradient-accumulator/",
            "platform": null,
            "project_url": "https://pypi.org/project/gradient-accumulator/",
            "project_urls": {
                "Homepage": "https://github.com/andreped/GradientAccumulator"
            },
            "release_url": "https://pypi.org/project/gradient-accumulator/0.1.3/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package for gradient accumulation in TensorFlow",
            "version": "0.1.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15704632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "4645e7f83f6bd4517a2b92833a575397",
                    "sha256": "4da1819797b3dc8d899035f22b1e260a3bc0f0936af9f015fdb1ca7b310f94f9"
                },
                "downloads": -1,
                "filename": "gradient-accumulator-0.1.3.tar.gz",
                "has_sig": false,
                "md5_digest": "4645e7f83f6bd4517a2b92833a575397",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 7255,
                "upload_time": "2022-06-05T12:59:34",
                "upload_time_iso_8601": "2022-06-05T12:59:34.678159Z",
                "url": "https://files.pythonhosted.org/packages/b7/8c/766352961306c60048e87dcc2e16ee5826f828f57277cced6b853bf6aea1/gradient-accumulator-0.1.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.4": {
        "info": {
            "author": "Andr\u00e9 Pedersen",
            "author_email": "andrped94@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/andreped/GradientAccumulator",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "gradient-accumulator",
            "package_url": "https://pypi.org/project/gradient-accumulator/",
            "platform": null,
            "project_url": "https://pypi.org/project/gradient-accumulator/",
            "project_urls": {
                "Homepage": "https://github.com/andreped/GradientAccumulator"
            },
            "release_url": "https://pypi.org/project/gradient-accumulator/0.1.4/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package for gradient accumulation in TensorFlow",
            "version": "0.1.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15704632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e9dd45eef5a95a8af0027ceb50edc3c3",
                    "sha256": "b031ac8c81284e6778610fc44b76473213de53c10a142ab4093162408cc5ea4f"
                },
                "downloads": -1,
                "filename": "gradient-accumulator-0.1.4.tar.gz",
                "has_sig": false,
                "md5_digest": "e9dd45eef5a95a8af0027ceb50edc3c3",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 7504,
                "upload_time": "2022-06-05T14:31:23",
                "upload_time_iso_8601": "2022-06-05T14:31:23.177104Z",
                "url": "https://files.pythonhosted.org/packages/20/81/4b02c76e7a74c3b915563a0753c5be09659bc3e0e09659a5b2eb583284fb/gradient-accumulator-0.1.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.5": {
        "info": {
            "author": "Andr\u00e9 Pedersen",
            "author_email": "andrped94@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/andreped/GradientAccumulator",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "gradient-accumulator",
            "package_url": "https://pypi.org/project/gradient-accumulator/",
            "platform": null,
            "project_url": "https://pypi.org/project/gradient-accumulator/",
            "project_urls": {
                "Homepage": "https://github.com/andreped/GradientAccumulator"
            },
            "release_url": "https://pypi.org/project/gradient-accumulator/0.1.5/",
            "requires_dist": [
                "tensorflow",
                "tensorflow-addons"
            ],
            "requires_python": ">=3.6",
            "summary": "Package for gradient accumulation in TensorFlow",
            "version": "0.1.5",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15704632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "27b2038f973f9dcec66965f33473671b",
                    "sha256": "d9302b01d1d96fd03cc7e248ec48daecb8c1f39ace0d9257cd1418886facfceb"
                },
                "downloads": -1,
                "filename": "gradient_accumulator-0.1.5-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "27b2038f973f9dcec66965f33473671b",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 10000,
                "upload_time": "2022-06-20T15:54:18",
                "upload_time_iso_8601": "2022-06-20T15:54:18.065770Z",
                "url": "https://files.pythonhosted.org/packages/f9/69/a8bd73b0449c2dbe6d0b1d209591db84a2dc2f12d6d024830e6607059add/gradient_accumulator-0.1.5-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2.0": {
        "info": {
            "author": "Andr\u00e9 Pedersen and David Bouget",
            "author_email": "andrped94@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/andreped/GradientAccumulator",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "gradient-accumulator",
            "package_url": "https://pypi.org/project/gradient-accumulator/",
            "platform": null,
            "project_url": "https://pypi.org/project/gradient-accumulator/",
            "project_urls": {
                "Homepage": "https://github.com/andreped/GradientAccumulator"
            },
            "release_url": "https://pypi.org/project/gradient-accumulator/0.2.0/",
            "requires_dist": [
                "tensorflow",
                "tensorflow-addons"
            ],
            "requires_python": ">=3.6",
            "summary": "Package for gradient accumulation in TensorFlow",
            "version": "0.2.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15704632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "9104c2b66ceef80cd875a8fd77682a1b",
                    "sha256": "3139c80012025d5d9a6cafd9ea41230093948085e14d05f2b0642cce2fa868af"
                },
                "downloads": -1,
                "filename": "gradient_accumulator-0.2.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "9104c2b66ceef80cd875a8fd77682a1b",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 14105,
                "upload_time": "2022-06-24T16:34:10",
                "upload_time_iso_8601": "2022-06-24T16:34:10.235307Z",
                "url": "https://files.pythonhosted.org/packages/99/fa/def33e49e72a898bcf3ab951f42e6e45a1de2ee606fd45db9d57e6a43237/gradient_accumulator-0.2.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2.1": {
        "info": {
            "author": "Andr\u00e9 Pedersen and David Bouget",
            "author_email": "andrped94@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/andreped/GradientAccumulator",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "gradient-accumulator",
            "package_url": "https://pypi.org/project/gradient-accumulator/",
            "platform": null,
            "project_url": "https://pypi.org/project/gradient-accumulator/",
            "project_urls": {
                "Homepage": "https://github.com/andreped/GradientAccumulator"
            },
            "release_url": "https://pypi.org/project/gradient-accumulator/0.2.1/",
            "requires_dist": [
                "tensorflow",
                "tensorflow-addons"
            ],
            "requires_python": ">=3.6",
            "summary": "Package for gradient accumulation in TensorFlow",
            "version": "0.2.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15704632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "808dad8ef9de0c9550c70a0f161b51bb",
                    "sha256": "682c9b8011c33bd495bf825ed08f93e352e03c6af241f90da53ec4ca53ff7a38"
                },
                "downloads": -1,
                "filename": "gradient_accumulator-0.2.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "808dad8ef9de0c9550c70a0f161b51bb",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 10215,
                "upload_time": "2022-08-25T17:32:46",
                "upload_time_iso_8601": "2022-08-25T17:32:46.871091Z",
                "url": "https://files.pythonhosted.org/packages/bb/0d/ab34a9216e0b85d1c81c38fdb2d5a537e100aeeac892053949ef33f341be/gradient_accumulator-0.2.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2.2": {
        "info": {
            "author": "Andr\u00e9 Pedersen and David Bouget",
            "author_email": "andrped94@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Scientific/Engineering :: Artificial Intelligence"
            ],
            "description": "<div align=\"center\">\n<h1 align=\"center\">GradientAccumulator</h1>\n<h3 align=\"center\">Seemless gradient accumulation for TensorFlow 2</h3>\n\n[![Pip Downloads](https://img.shields.io/pypi/dm/gradient-accumulator?label=pip%20downloads&logo=python)](https://pypi.org/project/gradient-accumulator/)\n[![PyPI version](https://badge.fury.io/py/gradient-accumulator.svg)](https://badge.fury.io/py/gradient-accumulator)\n[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)\n[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.7023582.svg)](https://doi.org/10.5281/zenodo.7023582)\n[![CI](https://github.com/andreped/GradientAccumulator/workflows/CI/badge.svg)](https://github.com/andreped/GradientAccumulator/actions)\n \n**GradientAccumulator** enables gradient accumulation (GA) by overloading the train_step of any given tf.keras.Model, to update correctly according to a user-specified number of accumulation steps. GA enables theoretically infinitely large batch size, with the same memory consumption as for a regular mini batch, at the cost of increased runtime. To improve runtime, mixed precision is supported. As batch normalization is not natively compatible with GA, support for adaptive gradient clipping has been added as an alternative.\n\nPackage is compatible with and have been tested against TF >= 2.2 and Python >= 3.6 (tested with 3.6-3.10), and works cross-platform (Ubuntu, Windows, macOS).\n</div>\n\n\n## Install\n\nStable release from PyPI:\n```\npip install gradient-accumulator\n```\n\nOr from source:\n```\npip install git+https://github.com/andreped/GradientAccumulator\n```\n\n## Usage\n```\nfrom gradient_accumulator.GAModelWrapper import GAModelWrapper\nfrom tensorflow.keras.models import Model\n\nmodel = Model(...)\nmodel = GAModelWrapper(accum_steps=4, inputs=model.input, outputs=model.output)\n```\n\nThen simply use the `model` as you normally would!\n\n#### Mixed precision\nThere has also been added experimental support for mixed precision:\n```\nfrom tensorflow.keras import mixed_precision\nfrom tensorflow.keras.optimizers import Adam\n\nmixed_precision.set_global_policy('mixed_float16')\nmodel = GAModelWrapper(accum_steps=4, mixed_precision=True, inputs=model.input, outputs=model.output)\n\nopt = Adam(1e-3, epsilon=1e-4)\nopt = mixed_precision.LossScaleOptimizer(opt)\n```\n\nIf using TPUs, use `bfloat16` instead of `float16`, like so:\n```\nmixed_precision.set_global_policy('mixed_bfloat16')\n```\n\nThere is also an example of how to use gradient accumulation with mixed precision [here](https://github.com/andreped/GradientAccumulator/blob/main/tests/test_mixed_precision.py#L58).\n\n#### Adaptive gradient clipping\nThere has also been added support for adaptive gradient clipping, based on [this](https://github.com/sayakpaul/Adaptive-Gradient-Clipping) implementation:\n```\nmodel = GAModelWrapper(accum_steps=4, use_agc=True, clip_factor=0.01, eps=1e-3, inputs=model.input, outputs=model.output)\n```\n\nThe hyperparameters values for `clip_factor` and `eps` presented here are the default values.\n\n#### Model format\nIt is recommended to use the SavedModel format when using this implementation. That is because the HDF5 format is only compatible with `TF <= 2.6` when using the model wrapper. However, if you are using older TF versions, both formats work out-of-the-box. The SavedModel format works fine for all versions of TF 2.x\n\n#### macOS compatibility\nNote that GradientAccumulator is perfectly compatible with macOS, both with and without GPUs. In order to have GPU support on macOS, you will need to install the tensorflow-compiled version that is compatible with metal:\n```\npip install tensorflow-metal\n```\n\nGradientAccumulator can be used as usually. However, note that there only exists one tf-metal version, which should be equivalent to TF==2.5.\n\n\n## Disclaimer\nIn theory, one should be able to get identical results for batch training and using gradient accumulation. However, in practice, one may observe a slight difference. One of the cause may be when operations are used (or layers/optimizer/etc) that update for each step, such as Batch Normalization. It is **not** recommended to use BN with GA, as BN would update too frequently. However, you could try to adjust the `momentum` of BN (see [here](https://keras.io/api/layers/normalization_layers/batch_normalization/)).\n\nIt was also observed a small difference when using adaptive optimizers, which I believe might be due to how frequently they are updated. Nonetheless, for the optimizers, the difference was quite small, and one may approximate batch training quite well using our GA implementation, as rigorously tested [here](https://github.com/andreped/GradientAccumulator/tree/main/tests)).\n\n## TODOs:\n- [ ] Add multi-GPU support\n\n## Acknowledgements\nThe gradient accumulator model wrapper is based on the implementation presented in [this thread](https://stackoverflow.com/a/66524901) on stack overflow.\n\nThe adaptive gradient clipping method is based on [the implementation by @sayakpaul](https://github.com/sayakpaul/Adaptive-Gradient-Clipping).\n\nThis repository serves as an open solution for everyone to use, until TF/Keras integrates a proper solution into their framework(s).\n\n## Troubleshooting\nOverloading of `train_step` method of tf.keras.Model was introduced in TF 2.2, hence, this code is compatible with TF >= 2.2.\n\nAlso, note that TF depends on different python versions. If you are having problems getting TF working, try a different TF version or python version.\n\nFor TF 1, I suggest using the AccumOptimizer implementation in the [H2G-Net repository](https://github.com/andreped/H2G-Net/blob/main/src/utils/accum_optimizers.py#L139) instead, which wraps the optimizer instead of overloading the train_step of the Model itself (new feature in TF2).\n\n## How to cite\nIf you use this package in your research, please, cite this reference:\n```\n@software{andre_pedersen_2022_7023582,\n  author       = {Andr\u00e9 Pedersen and\n                  David Bouget},\n  title        = {andreped/GradientAccumulator: v0.2.1},\n  month        = aug,\n  year         = 2022,\n  publisher    = {Zenodo},\n  version      = {v0.2.1},\n  doi          = {10.5281/zenodo.7023582},\n  url          = {https://doi.org/10.5281/zenodo.7023582}}\n```",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/andreped/GradientAccumulator",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "gradient-accumulator",
            "package_url": "https://pypi.org/project/gradient-accumulator/",
            "platform": null,
            "project_url": "https://pypi.org/project/gradient-accumulator/",
            "project_urls": {
                "Homepage": "https://github.com/andreped/GradientAccumulator"
            },
            "release_url": "https://pypi.org/project/gradient-accumulator/0.2.2/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package for gradient accumulation in TensorFlow",
            "version": "0.2.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15704632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "7b1e73bced277bef5133e222de8e9661",
                    "sha256": "c29dec0501f341f5a37d466aefa28cb630bbcbdae64ec4a993ed3dcf9d4b115b"
                },
                "downloads": -1,
                "filename": "gradient-accumulator-0.2.2.tar.gz",
                "has_sig": false,
                "md5_digest": "7b1e73bced277bef5133e222de8e9661",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 6524,
                "upload_time": "2022-11-08T23:48:17",
                "upload_time_iso_8601": "2022-11-08T23:48:17.169688Z",
                "url": "https://files.pythonhosted.org/packages/40/d5/1f42a066755bbfc053320f025bc223a0436a4c38b51775c79992f2aac3e2/gradient-accumulator-0.2.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}