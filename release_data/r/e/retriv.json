{
    "0.1.0": {
        "info": {
            "author": "Elias Bassani",
            "author_email": "elias.bssn@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Text Processing :: General"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/AmenRa/retriv",
            "keywords": "information retrieval,search engine,bm25,numba",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "retriv",
            "package_url": "https://pypi.org/project/retriv/",
            "platform": null,
            "project_url": "https://pypi.org/project/retriv/",
            "project_urls": {
                "Homepage": "https://github.com/AmenRa/retriv"
            },
            "release_url": "https://pypi.org/project/retriv/0.1.0/",
            "requires_dist": [
                "numpy",
                "nltk",
                "numba (>=0.54.1)",
                "rich",
                "optuna",
                "krovetzstemmer",
                "ranx",
                "indxr",
                "oneliner-utils"
            ],
            "requires_python": ">=3.7",
            "summary": "retriv: A Blazing-Fast Python Search Engine.",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15979912,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "fd36465cb1ae6a45c20cbd1b3c614579",
                    "sha256": "8621bf677e94a727e633a961df05fce120ff59116e7b75605d4e91be96b2c01d"
                },
                "downloads": -1,
                "filename": "retriv-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "fd36465cb1ae6a45c20cbd1b3c614579",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 11339,
                "upload_time": "2022-11-16T17:03:24",
                "upload_time_iso_8601": "2022-11-16T17:03:24.605827Z",
                "url": "https://files.pythonhosted.org/packages/61/88/13dd32d6c9ced9d3a18d53221bfdf3b103788b9547bba9e8dbf28ea3aedc/retriv-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "84b1771cb52dc57cb714d7ff1839ee15",
                    "sha256": "7450aabf8c10f36048037f2e89a46d2ecdf53ce92b5bfb75e1ef5676d8703a68"
                },
                "downloads": -1,
                "filename": "retriv-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "84b1771cb52dc57cb714d7ff1839ee15",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 9764,
                "upload_time": "2022-11-16T17:03:30",
                "upload_time_iso_8601": "2022-11-16T17:03:30.998462Z",
                "url": "https://files.pythonhosted.org/packages/89/ce/2fa4976958bd0233cd5a9b4af9b8f1f1bc897ae7a503d21a1ed83c35a17c/retriv-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.1": {
        "info": {
            "author": "Elias Bassani",
            "author_email": "elias.bssn@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Text Processing :: General"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/AmenRa/retriv",
            "keywords": "information retrieval,search engine,bm25,numba",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "retriv",
            "package_url": "https://pypi.org/project/retriv/",
            "platform": null,
            "project_url": "https://pypi.org/project/retriv/",
            "project_urls": {
                "Homepage": "https://github.com/AmenRa/retriv"
            },
            "release_url": "https://pypi.org/project/retriv/0.1.1/",
            "requires_dist": [
                "numpy",
                "nltk",
                "numba (>=0.54.1)",
                "rich",
                "optuna",
                "krovetzstemmer",
                "ranx",
                "indxr",
                "oneliner-utils"
            ],
            "requires_python": ">=3.7",
            "summary": "retriv: A Blazing-Fast Python Search Engine.",
            "version": "0.1.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15979912,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "6ff0835164f7bdf3269870c81d4106fc",
                    "sha256": "2d89b90f0269075d2783d0c11a4dd0086889fa57c3c25ac0fe3d28f6fc3d1615"
                },
                "downloads": -1,
                "filename": "retriv-0.1.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "6ff0835164f7bdf3269870c81d4106fc",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 11390,
                "upload_time": "2022-11-16T17:25:47",
                "upload_time_iso_8601": "2022-11-16T17:25:47.393059Z",
                "url": "https://files.pythonhosted.org/packages/a3/98/7557aadd4897e52483a52de060c85cef8adea5fa492af17813d801634cfa/retriv-0.1.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "982175e5b3f679aca4b62263ab1ba434",
                    "sha256": "a63f244b152ee7a6561c14ba4ae1fb6e49ca9fc0e709c72c11b939e1d7e4c6f0"
                },
                "downloads": -1,
                "filename": "retriv-0.1.1.tar.gz",
                "has_sig": false,
                "md5_digest": "982175e5b3f679aca4b62263ab1ba434",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 12399,
                "upload_time": "2022-11-16T17:25:51",
                "upload_time_iso_8601": "2022-11-16T17:25:51.601566Z",
                "url": "https://files.pythonhosted.org/packages/01/9b/49877274e80e5edf490bcba9c01c267d177031ff4655232b105c933b648a/retriv-0.1.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.2": {
        "info": {
            "author": "Elias Bassani",
            "author_email": "elias.bssn@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Text Processing :: General"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/AmenRa/retriv",
            "keywords": "information retrieval,search engine,bm25,numba",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "retriv",
            "package_url": "https://pypi.org/project/retriv/",
            "platform": null,
            "project_url": "https://pypi.org/project/retriv/",
            "project_urls": {
                "Homepage": "https://github.com/AmenRa/retriv"
            },
            "release_url": "https://pypi.org/project/retriv/0.1.2/",
            "requires_dist": [
                "numpy",
                "nltk",
                "numba (>=0.54.1)",
                "tqdm",
                "optuna",
                "krovetzstemmer",
                "pystemmer",
                "cyhunspell",
                "unidecode",
                "ranx",
                "indxr",
                "oneliner-utils"
            ],
            "requires_python": ">=3.7",
            "summary": "retriv: A Blazing-Fast Python Search Engine.",
            "version": "0.1.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15979912,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "9c6bb445ee1c311bb9070762ba8a6ced",
                    "sha256": "7d43cca631054ca28c9e92feb5f16939314118156dcd158b91265364bf2cba5b"
                },
                "downloads": -1,
                "filename": "retriv-0.1.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "9c6bb445ee1c311bb9070762ba8a6ced",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 20560,
                "upload_time": "2022-12-03T14:09:18",
                "upload_time_iso_8601": "2022-12-03T14:09:18.185648Z",
                "url": "https://files.pythonhosted.org/packages/b2/1b/68a62b93dc998ae6538b232c81c3e177f031831581d02047e42d2cbeed85/retriv-0.1.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "c860fcc930c597f736e93ad015e564dd",
                    "sha256": "7e27078326a1022e5f5a0017e8a15324d9bc46e5249381aec9c283bab7bba4e6"
                },
                "downloads": -1,
                "filename": "retriv-0.1.2.tar.gz",
                "has_sig": false,
                "md5_digest": "c860fcc930c597f736e93ad015e564dd",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 21206,
                "upload_time": "2022-12-03T14:09:20",
                "upload_time_iso_8601": "2022-12-03T14:09:20.903051Z",
                "url": "https://files.pythonhosted.org/packages/42/21/14b68b861e9d038651af5f25f084eef6a0787ca1b8b99813aaf943b561b3/retriv-0.1.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.3": {
        "info": {
            "author": "Elias Bassani",
            "author_email": "elias.bssn@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Text Processing :: General"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/AmenRa/retriv",
            "keywords": "information retrieval,search engine,bm25,numba",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "retriv",
            "package_url": "https://pypi.org/project/retriv/",
            "platform": null,
            "project_url": "https://pypi.org/project/retriv/",
            "project_urls": {
                "Homepage": "https://github.com/AmenRa/retriv"
            },
            "release_url": "https://pypi.org/project/retriv/0.1.3/",
            "requires_dist": [
                "numpy",
                "nltk",
                "numba (>=0.54.1)",
                "tqdm",
                "optuna",
                "krovetzstemmer",
                "pystemmer (==2.0.1)",
                "cyhunspell",
                "unidecode",
                "ranx",
                "indxr",
                "oneliner-utils"
            ],
            "requires_python": ">=3.7",
            "summary": "retriv: A Blazing-Fast Python Search Engine.",
            "version": "0.1.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15979912,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "280c8ea9497cbd4b621288ed72a3a655",
                    "sha256": "fa27cb5e063f2310a9b1f867b3922086082f104352f55e2a0cac83f516176d82"
                },
                "downloads": -1,
                "filename": "retriv-0.1.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "280c8ea9497cbd4b621288ed72a3a655",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 20567,
                "upload_time": "2022-12-03T16:35:27",
                "upload_time_iso_8601": "2022-12-03T16:35:27.594047Z",
                "url": "https://files.pythonhosted.org/packages/82/f0/3b09311a79724976adf84f284c852f581266bf2eb8c9aa5b63c9131d274c/retriv-0.1.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "f138cb9c3dcd6a47209af482677084f2",
                    "sha256": "ec4f535727018098b6a9eb0ae077da74b2a3523a643fac7c38fb00e50d9f6de4"
                },
                "downloads": -1,
                "filename": "retriv-0.1.3.tar.gz",
                "has_sig": false,
                "md5_digest": "f138cb9c3dcd6a47209af482677084f2",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 21207,
                "upload_time": "2022-12-03T16:35:31",
                "upload_time_iso_8601": "2022-12-03T16:35:31.645564Z",
                "url": "https://files.pythonhosted.org/packages/ca/5d/121fa14aecb40a9aab1e2d821c242365d23feb046882b2d876c25e8c69b8/retriv-0.1.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.4": {
        "info": {
            "author": "Elias Bassani",
            "author_email": "elias.bssn@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Text Processing :: General"
            ],
            "description": "<div align=\"center\">\n  <img src=\"https://repository-images.githubusercontent.com/566840861/ce7eeed0-7454-4aff-9073-235a83eeb6e7\">\n</div>\n\n<p align=\"center\">\n  <!-- Python -->\n  <a href=\"https://www.python.org\" alt=\"Python\">\n      <img src=\"https://badges.aleen42.com/src/python.svg\" />\n  </a>\n  <!-- Version -->\n  <a href=\"https://badge.fury.io/py/retriv\"><img src=\"https://badge.fury.io/py/retriv.svg\" alt=\"PyPI version\" height=\"18\"></a>\n  <!-- Docs -->\n  <!-- <a href=\"https://amenra.github.io/retriv\"><img src=\"https://img.shields.io/badge/docs-passing-<COLOR>.svg\" alt=\"Documentation Status\"></a> -->\n  <!-- Black -->\n  <a href=\"https://github.com/psf/black\" alt=\"Code style: black\">\n      <img src=\"https://img.shields.io/badge/code%20style-black-000000.svg\" />\n  </a>\n  <!-- License -->\n  <a href=\"https://lbesson.mit-license.org/\"><img src=\"https://img.shields.io/badge/License-MIT-blue.svg\" alt=\"License: MIT\"></a>\n  <!-- Google Colab -->\n  <!-- <a href=\"https://colab.research.google.com/github/AmenRa/retriv/blob/master/notebooks/1_overview.ipynb\"> -->\n      <!-- <img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/> -->\n  </a>\n</p>\n\n## \u26a1\ufe0f Introduction\n\n[retriv](https://github.com/AmenRa/retriv) is a fast [search engine](https://en.wikipedia.org/wiki/Search_engine) implemented in [Python](https://en.wikipedia.org/wiki/Python_(programming_language)), leveraging [Numba](https://github.com/numba/numba) for high-speed [vector operations](https://en.wikipedia.org/wiki/Automatic_vectorization) and [automatic parallelization](https://en.wikipedia.org/wiki/Automatic_parallelization).\nIt offers a user-friendly interface to index and search your document collection and allows you to automatically tune the underling retrieval model, [BM25](https://en.wikipedia.org/wiki/Okapi_BM25).\n\n[How fast is your retriv?](#speed-comparison)\n\n\n## \u2728 Features\n\n### Retrieval Models\n[retriv](https://github.com/AmenRa/retriv) implements [BM25](https://en.wikipedia.org/wiki/Okapi_BM25) as a retrieval model. Alternatives will probably be added in the future.\n\n\n### Multi-search & Batch-search\nIn addition to the standard [search](#search) functionality, [retriv](https://github.com/AmenRa/retriv) provides two additional search methods: [msearch](#multi-search) and [bsearch](#batch-search).\n- [msearch](#multi-search) allows computing the results for multiple queries at once, leveraging the [automatic parallelization](https://en.wikipedia.org/wiki/Automatic_parallelization) features offered by [Numba](https://github.com/numba/numba).\n- [bsearch](#batch-search) is similar to [msearch](#multi-search) but automatically generates batches of queries to evaluate and allows dynamic writing of the search results to disk in [JSONl](https://jsonlines.org) format. [bsearch](#batch-search) is very useful for pre-computing [BM25](https://en.wikipedia.org/wiki/Okapi_BM25) results for hundred of thousands or even millions of queries without hogging your RAM. Pre-computed results can be leveraged for negative sampling during the training of [Neural Models](https://en.wikipedia.org/wiki/Artificial_neural_network) for [Information Retrieval](https://en.wikipedia.org/wiki/Information_retrieval).\n\n\n### AutoTune\n[retriv](https://github.com/AmenRa/retriv) offers an automatic tuning functionality that allows you to tune [BM25](https://en.wikipedia.org/wiki/Okapi_BM25)'s parameters with a single function call.\nUnder the hood, [retriv](https://github.com/AmenRa/retriv) leverages [Optuna](https://optuna.org), a [hyperparameter optimization](https://en.wikipedia.org/wiki/Hyperparameter_optimization) framework, and [ranx](https://github.com/AmenRa/ranx), an [Information Retrieval](https://en.wikipedia.org/wiki/Information_retrieval) evaluation library, to test several parameter configurations for [BM25](https://en.wikipedia.org/wiki/Okapi_BM25) and choose the best one.\n\n\n### Stemmers\n[Stemmers](https://en.wikipedia.org/wiki/Stemming) reduce words to their word stem, base or root form.  \n[retriv](https://github.com/AmenRa/retriv) supports the following stemmers:\n- [snowball](https://snowballstem.org) (default)  \nThe following languages are supported by Snowball Stemmer: \nArabic, Basque, Catalan, Danish, Dutch, English, Finnish, French, German, Greek, Hindi, Hungarian, Indonesian, Irish, Italian, Lithuanian, Nepali, Norwegian, Portuguese, Romanian, Russian, Spanish, Swedish, Tamil, Turkish.  \nTo select your preferred language simply use `<language>` .\n- [arlstem](https://www.nltk.org/api/nltk.stem.arlstem.html) (Arabic)\n- [arlstem2](https://www.nltk.org/api/nltk.stem.arlstem2.html) (Arabic)\n- [cistem](https://www.nltk.org/api/nltk.stem.cistem.html) (German)\n- [isri](https://www.nltk.org/api/nltk.stem.isri.html) (Arabic)\n- [krovetz](https://dl.acm.org/doi/10.1145/160688.160718) (English)\n- [lancaster](https://www.nltk.org/api/nltk.stem.lancaster.html) (English)\n- [porter](https://www.nltk.org/api/nltk.stem.porter.html) (English)\n- [rslp](https://www.nltk.org/api/nltk.stem.rslp.html) (Portuguese)\n\n\n### Tokenizers\n[Tokenizers](https://en.wikipedia.org/wiki/Lexical_analysis#Tokenization) divide a string into smaller units, such as words.  \n[retriv](https://github.com/AmenRa/retriv) supports the following tokenizers:\n- [whitespace](https://www.nltk.org/api/nltk.tokenize.html)\n- [word](https://www.nltk.org/api/nltk.tokenize.html)\n- [wordpunct](https://www.nltk.org/api/nltk.tokenize.html)\n- [sent](https://www.nltk.org/api/nltk.tokenize.html)\n\n\n### Stop-word Lists\n[retriv](https://github.com/AmenRa/retriv) supports [stop-word](https://en.wikipedia.org/wiki/Stop_word) lists for the following languages: Arabic, Azerbaijani, Basque, Bengali, Catalan, Chinese, Danish, Dutch, English, Finnish, French, German, Greek, Hebrew, Hinglish, Hungarian, Indonesian, Italian, Kazakh, Nepali, Norwegian, Portuguese, Romanian, Russian, Slovene, Spanish, Swedish, Tajik, and Turkish.\n\n\n### Automatic Spell Correction\n[retriv](https://github.com/AmenRa/retriv) provides automatic spell correction through [Hunspell](http://hunspell.github.io) for [92 languages](https://github.com/wooorm/dictionaries#list-of-dictionaries).\nPlease, follow the link and choose your preferred language (e.g., Italian \u2192 \"dictionary-it\" \u2192 use \"it\").\nFor some languages you can directly pass their names: Danish, Dutch, English, Finnish, French, German, Greek, Hungarian, Italian, Portuguese, Romanian, Russian, Spanish, and Swedish.  \n\n_NOTE: Automatic spell correction is disabled by default. It can introduce artifacts, degrading retrieval performances when documents are free from misspellings. If possible, check whether it can improve retrieval performances for your specific document collection._\n\n## \ud83d\udd0c Installation\n```bash\npip install retriv\n```\n\n\n\n## \ud83d\udca1 Usage\n\n### Minimal Working Example\n\n```python\nfrom retriv import SearchEngine\n\ncollection = [\n  {\"id\": \"doc_1\", \"text\": \"Generals gathered in their masses\"},\n  {\"id\": \"doc_2\", \"text\": \"Just like witches at black masses\"},\n  {\"id\": \"doc_3\", \"text\": \"Evil minds that plot destruction\"},\n  {\"id\": \"doc_4\", \"text\": \"Sorcerer of death's construction\"},\n]\n\nse = SearchEngine(\"new-index\")\nse.index(collection)\n\nse.search(\"witches masses\")\n```\nOutput:\n```python\n[\n  {\n    \"id\": \"doc_2\",\n    \"text\": \"Just like witches at black masses\",\n    \"score\": 1.7536403\n  },\n  {\n    \"id\": \"doc_1\",\n    \"text\": \"Generals gathered in their masses\",\n    \"score\": 0.6931472\n  }\n]\n```\n\n### Create index from file\nYou can index a document collection from a JSONl, CSV, or TSV file.\nCSV and TSV files must have a header.\nFile kind is automatically inferred.\nUse the `callback` parameter to pass a function for converting your documents in the format supported by [retriv](https://github.com/AmenRa/retriv) on the fly.\nIndexes are automatically saved.\nThis is the preferred way of creating indexes as it has a low memory footprint.\n\n```python\nfrom retriv import SearchEngine\n\nse = SearchEngine(\"new-index\")\n\nse.index_file(\n  path=\"path/to/collection\",  # File kind is automatically inferred\n  show_progress=True,         # Default value\n  callback=lambda doc: {      # Callback defaults to None\n    \"id\": doc[\"id\"],\n    \"text\": doc[\"title\"] + \"\\n\" + doc[\"body\"],          \n  )\n```\n\n`se = SearchEngine(\"new-index\")` is equivalent to:\n```python\nse = SearchEngine(\n  index_name=\"new-index\",               # Default value\n  min_df=1,                             # Min doc-frequency. Defaults to 1.\n  tokenizer=\"whitespace\",               # Default value\n  stemmer=\"english\",                    # Default value (Snowball English)\n  stopwords=\"english\",                  # Default value\n  spell_corrector=None,                 # Default value\n  do_lowercasing=True,                  # Default value\n  do_ampersand_normalization=True,      # Default value\n  do_special_chars_normalization=True,  # Default value\n  do_acronyms_normalization=True,       # Default value\n  do_punctuation_removal=True,          # Default value\n)\n```\n\n\n### Create index from list \n```python\ncollection = [\n  {\"id\": \"doc_1\", \"title\": \"...\", \"body\": \"...\"},\n  {\"id\": \"doc_2\", \"title\": \"...\", \"body\": \"...\"},\n  {\"id\": \"doc_3\", \"title\": \"...\", \"body\": \"...\"},\n  {\"id\": \"doc_4\", \"title\": \"...\", \"body\": \"...\"},\n]\n\nse = SearchEngine(...)\n\nse.index(\n  collection,\n  show_progress=True,         # Default value\n  callback=lambda doc: {      # Callback defaults to None\n    \"id\": doc[\"id\"],\n    \"text\": doc[\"title\"] + \"\\n\" + doc[\"body\"],          \n  )\n)\n```\n\n\n### Load / Delete index\n```python\nfrom retriv import SearchEngine\n\nse = SearchEngine.load(\"index-name\")\n\nSearchEngine.delete(\"index-name\")\n```\n\n\n### Search\n```python\nse.search(\n  query=\"witches masses\",\n  return_docs=True,  # Default value\n  cutoff=100,        # Default value, number of results to return\n)\n```\nOutput:\n```python\n[\n  {\n    \"id\": \"doc_2\",\n    \"text\": \"Just like witches at black masses\",\n    \"score\": 1.7536403\n  },\n  {\n    \"id\": \"doc_1\",\n    \"text\": \"Generals gathered in their masses\",\n    \"score\": 0.6931472\n  }\n]\n```\n\n\n### Multi-Search\n```python\nse.msearch(\n  queries=[{\"id\": \"q_1\", \"text\": \"witches masses\"}, ...],\n  cutoff=100,  # Default value, number of results\n)\n```\nOutput:\n```python\n{\n  \"q_1\": {\n    \"doc_2\": 1.7536403,\n    \"doc_1\": 0.6931472\n  },\n  ...\n}\n```\n\n\n### AutoTune\n\nUse the AutoTune function to tune [BM25](https://en.wikipedia.org/wiki/Okapi_BM25) parameters w.r.t. your document collection and queries.\nAll metrics supported by [ranx](https://github.com/AmenRa/ranx) are supported by the `autotune` function.\n\n```python\nse.autotune(\n    queries=[{ \"q_id\": \"q_1\", \"text\": \"...\", ... }],  # Train queries\n    qrels=[{ \"q_1\": { \"doc_1\": 1, ... }, ... }],      # Train qrels\n    metric=\"ndcg\",  # Default value, metric to maximize\n    n_trials=100,   # Default value, number of trials\n    cutoff=100,     # Default value, number of results\n)\n```\n\nAt the of the process, the best parameter configuration is automatically applied to the `SearchEngine` instance and saved to disk.\nYou can see what the configuration is by printing `se.hyperparams`.\n\n## Speed Comparison\n\nWe performed a speed test, comparing [retriv](https://github.com/AmenRa/retriv) to [rank_bm25](https://github.com/dorianbrown/rank_bm25), a popular [BM25](https://en.wikipedia.org/wiki/Okapi_BM25) implementation in [Python](https://en.wikipedia.org/wiki/Python_(programming_language)), and [pyserini](https://github.com/castorini/pyserini), a [Python](https://en.wikipedia.org/wiki/Python_(programming_language)) binding to the [Lucene](https://en.wikipedia.org/wiki/Apache_Lucene) search engine.\n\nWe relied on the [MSMARCO Passage](https://microsoft.github.io/msmarco) dataset to collect documents and queries.\nSpecifically, we used the original document collection and three sub-samples of it, accounting for 1k, 100k, and 1M documents, respectively, and sampled 1k queries from the original ones.\nWe computed the top-100 results with each library (if possible). \nResults are reported below. Best results are highlighted in boldface.\n\n| Library                                                   | Collection Size | Elapsed Time | Avg. Query Time | Throughput (q/s) |\n| --------------------------------------------------------- | --------------: | -----------: | --------------: | ---------------: |\n| [rank_bm25](https://github.com/dorianbrown/rank_bm25)     |           1,000 |        646ms |           6.5ms |           1548/s |\n| [pyserini](https://github.com/castorini/pyserini)         |           1,000 |      1,438ms |           1.4ms |            695/s |\n| [retriv](https://github.com/AmenRa/retriv)                |           1,000 |        140ms |           0.1ms |           7143/s |\n| [retriv](https://github.com/AmenRa/retriv) (multi-search) |           1,000 |    __134ms__ |       __0.1ms__ |       __7463/s__ |\n| [rank_bm25](https://github.com/dorianbrown/rank_bm25)     |         100,000 |    106,000ms |          1060ms |              1/s |\n| [pyserini](https://github.com/castorini/pyserini)         |         100,000 |      2,532ms |           2.5ms |            395/s |\n| [retriv](https://github.com/AmenRa/retriv)                |         100,000 |        314ms |           0.3ms |           3185/s |\n| [retriv](https://github.com/AmenRa/retriv) (multi-search) |         100,000 |    __256ms__ |       __0.3ms__ |       __3906__/s |\n| [rank_bm25](https://github.com/dorianbrown/rank_bm25)     |       1,000,000 |          N/A |             N/A |              N/A |\n| [pyserini](https://github.com/castorini/pyserini)         |       1,000,000 |      4,060ms |           4.1ms |            246/s |\n| [retriv](https://github.com/AmenRa/retriv)                |       1,000,000 |      1,018ms |           1.0ms |            982/s |\n| [retriv](https://github.com/AmenRa/retriv) (multi-search) |       1,000,000 |    __503ms__ |       __0.5ms__ |       __1988/s__ |\n| [rank_bm25](https://github.com/dorianbrown/rank_bm25)     |       8,841,823 |          N/A |             N/A |              N/A |\n| [pyserini](https://github.com/castorini/pyserini)         |       8,841,823 |     12,245ms |          12.2ms |             82/s |\n| [retriv](https://github.com/AmenRa/retriv)                |       8,841,823 |     10,763ms |          10.8ms |             93/s |\n| [retriv](https://github.com/AmenRa/retriv) (multi-search) |       8,841,823 |  __5,644ms__ |       __5.6ms__ |        __177/s__ |\n\n\n## \ud83c\udf81 Feature Requests\nWould you like to see other features implemented? Please, open a [feature request](https://github.com/AmenRa/retriv/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature+Request%5D+title).\n\n\n## \ud83e\udd18 Want to contribute?\nWould you like to contribute? Please, drop me an [e-mail](mailto:elias.bssn@gmail.com?subject=[GitHub]%20retriv).\n\n\n## \ud83d\udcc4 License\n[retriv](https://github.com/AmenRa/retriv) is an open-sourced software licensed under the [MIT license](LICENSE).\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/AmenRa/retriv",
            "keywords": "information retrieval,search engine,bm25,numba",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "retriv",
            "package_url": "https://pypi.org/project/retriv/",
            "platform": null,
            "project_url": "https://pypi.org/project/retriv/",
            "project_urls": {
                "Homepage": "https://github.com/AmenRa/retriv"
            },
            "release_url": "https://pypi.org/project/retriv/0.1.4/",
            "requires_dist": [
                "numpy",
                "nltk",
                "numba (>=0.54.1)",
                "tqdm",
                "optuna",
                "krovetzstemmer",
                "pystemmer (==2.0.1)",
                "cyhunspell",
                "unidecode",
                "scikit-learn",
                "ranx",
                "indxr",
                "oneliner-utils"
            ],
            "requires_python": ">=3.7",
            "summary": "retriv: A Blazing-Fast Python Search Engine.",
            "version": "0.1.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15979912,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "195363e821415cfc93e06a76f015aa3b",
                    "sha256": "e3e1d79a10c46df239db35f546e9a2a9d4b797e3b0c5ca409690cd11f0e0def0"
                },
                "downloads": -1,
                "filename": "retriv-0.1.4-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "195363e821415cfc93e06a76f015aa3b",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 20579,
                "upload_time": "2022-12-03T16:55:53",
                "upload_time_iso_8601": "2022-12-03T16:55:53.681351Z",
                "url": "https://files.pythonhosted.org/packages/54/18/ca64228f4592d0441c002a578751a24f2bbeaac7aca421b58ef27bc2efca/retriv-0.1.4-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "ec9568538785e7814290684d09dd80b6",
                    "sha256": "fcfc47acfffba4733d4b4e964fbb630353e81bef9a5eead9c9feaa8ca69fc218"
                },
                "downloads": -1,
                "filename": "retriv-0.1.4.tar.gz",
                "has_sig": false,
                "md5_digest": "ec9568538785e7814290684d09dd80b6",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 21229,
                "upload_time": "2022-12-03T16:55:58",
                "upload_time_iso_8601": "2022-12-03T16:55:58.681998Z",
                "url": "https://files.pythonhosted.org/packages/f2/7a/73e4960d332560e550f9b4a28079800204b3893b2869d62e9a8d01b553ec/retriv-0.1.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}