{
    "0.1.0": {
        "info": {
            "author": "Rebuild",
            "author_email": "admin@rebuild.moe",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.9",
                "Programming Language :: Python :: Implementation :: CPython",
                "Topic :: Software Development",
                "Typing :: Typed"
            ],
            "description": "# Myrai\n\n[![build](https://github.com/Shimogawa/myrai/actions/workflows/build.yml/badge.svg)](https://github.com/Shimogawa/myrai/actions/workflows/build.yml)\n\n\u7528 Python (>=3.9) \u5199\u4f60\u719f\u6089\u7684 [`mirai-core`][mirai-core]\uff01\uff08WIP\uff09\n\n\u4f7f\u7528\u4e86 [`py4j`][py4j]\u3002\u81ea\u5e26\u4e00\u4e2a\u63a5\u53e3\u7684 jar \u6587\u4ef6\uff0c\u5e76\u4e14\u4f1a\u81ea\u5df1\u542f\u52a8\u3002\u53ef\u4ee5\u8bbe\u7f6e\u4f7f\u7528\u5176\u5b83 jar \u6587\u4ef6\u6216\u4e0d\u4ece Python \u7aef\u542f\u52a8\u3002\n\n## \u7b80\u4ecb\n\n\u4e3a\u4e86\u7528 Python \u8fde\u63a5 `mirai-core`\uff0c\u73b0\u5728\u9700\u8981\u7ecf\u8fc7 [`mirai-api-http`][mah]\u3002\u901a\u7528\u65b9\u6cd5\u662f\u4f7f\u7528 [`mirai-console-loader`][mcl] \u8fdb\u884c\u542f\u52a8\uff0c\u8fd9\u6837\u592a\u9ebb\u70e6\uff08\u9700\u8981\u989d\u5916\u7684\u8f6f\u4ef6\u4e0e\u63d2\u4ef6\uff09\u3002\u4e3a\u4e86\u8282\u7701\u8fd9\u4e9b\u9ebb\u70e6\uff0c\u76f4\u63a5\u901a\u8fc7 `py4j` \u5229\u7528 socket \u5b9e\u73b0\u4e86 Python \u4e0e `mirai-core` \u7684\u4ea4\u4e92\uff0c\u8282\u7701\u4e86\u4e2d\u95f4\u4f7f\u7528 HTTP \u7684\u9ebb\u70e6\u3002\n\n\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662f 3.9 \u7248\u672c\u6216\u4ee5\u4e0a\u2026\u2026\u56e0\u4e3a 3.9 \u597d\uff013.8 \u6ca1\u6709\u4ec0\u4e48\u5f88\u7279\u522b\u7684\u66f4\u65b0\uff0c\u800c 3.7 \u7684\u652f\u6301\u7ed3\u675f\u65f6\u95f4\u662f 2023/6/27\u3002\n\n## \u4f7f\u7528\u65b9\u6cd5\n\n### \u524d\u63d0\u6761\u4ef6\n\n- Python 3.9+\n- Java 11+\n\n### \u5b89\u88c5\n\n```sh\npip install myrai\n```\n\n### \u521d\u59cb\u5316\n\n```py\nimport myrai\n\nmyrai.init()\n# ========\nbot = myrai.start_bot(114514, \"password\")  # qq \u548c password\n# -------- \u6216\u8005\nimport hashlib\nbot = myrai.start_bot(\n    114514,\n    hashlib.md5(\"password\".encode(\"utf-8\")).digest()  # \u7528 MD5\n)\n# ========\nbot.login()\n```\n\n### \u521d\u59cb\u5316\u5b8c\u6210\u540e\n\n\u4f7f\u7528\u65b9\u5f0f\u4e0e `mirai-core` \u4e00\u6a21\u4e00\u6837\u3002\u5728 `mirai_types` \u4e2d\u63d0\u4f9b\u4e86\u6240\u6709\uff08WIP\uff09\u5728 `mirai-core` \u4e2d\u6709\u7684\u7c7b\u3002\u5728 `java` \u4e2d\u63d0\u4f9b\u4e86\u4e00\u90e8\u5206\u4f1a\u7ecf\u5e38\u4f7f\u7528\u7684 Java \u7c7b\u3002\n\n\u8fd9\u4e9b\u7c7b\u5927\u591a\u7528\u4f5c\u4ee3\u7801\u63d0\u793a\uff0c\u56e0\u4e3a\u8fd0\u884c\u65f6\u5b83\u4eec\u7684\u7c7b\u578b\u90fd\u4e0d\u4e00\u6837\uff0c\u90fd\u662f `py4j` \u7684 `JavaClass`\uff0c`JavaObject` \u7b49\u3002\n\n\u4f7f\u7528 `.new` \u53ef\u4ee5\u521b\u5efa\u5b83\u7684 Java \u5bf9\u8c61\uff0c\u4f7f\u7528 `.static` \u80fd\u83b7\u53d6\u5230\u5b83\u7684\u7c7b\u5bf9\u8c61\u3002\u6240\u4ee5\u60f3\u8981\u8c03\u7528\u9759\u6001\u65b9\u6cd5\u548c\u5176\u5b83\u7684\u65b9\u6cd5\u53ef\u4ee5\u8fd9\u6837\uff1a\n\n```py\ndef listener(e: MessageEvent):\n    e.getSender().sendMessage(\n        MessageUtils.static.newChain(\n            [\n                QuoteReply.new(e.getMessage()),\n                PlainText.new(\"hi\"),\n            ]\n        )\n    )\n```\n\n**\u6ce8\u610f\uff1a\u6709\u4e9b Java \u9759\u6001\u65b9\u6cd5 / \u6210\u5458\u4e3a\u4e86\u65b9\u4fbf\u4f7f\u7528\uff0c\u53ef\u4ee5\u5728 Python \u7c7b\u4e0a\u76f4\u63a5\u8c03\u7528\u9759\u6001\u65b9\u6cd5 / \u53d8\u91cf (\u5b9e\u9645\u4f7f\u7528\u4e86 classmethod \u548c property)\u3002\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u6709\u4ee3\u7801\u63d0\u793a\u3002\u6ca1\u6709\u4ee3\u7801\u63d0\u793a\u7684\u9759\u6001\u65b9\u6cd5\u8bf7\u4f7f\u7528 `.static`\u3002\u5982\u679c\u4f60\u6ca1\u6709\u4ee3\u7801\u63d0\u793a\u6216\u4e0d\u653e\u5fc3\u4e00\u76f4\u62a5\u9519\uff0c\u90a3\u5c31\u4f7f\u7528 `.static` \u8c03\u7528\u9759\u6001\u6210\u5458\u3002\u4f8b\u5982\uff1a**\n\n```py\nMessageUtils.newChain(...)  # OK\nMessageUtils.static.newChain(...)  # OK\nMessageUtils.static.buildMessageChain(...)  # OK\n\nMessageUtils.buildMessageChain(...)  # \u4e0dOK\n```\n\n> \u7531\u4e8e\u8fd9\u4e2a\u65b0\u7279\u6027\uff08\u5c06 `@classmethod` \u548c `@property` \u7528\u5728\u4e00\u8d77\uff09\u7684\u4e0d\u7a33\u5b9a\u6027\uff0cPython \u53ef\u80fd\u5728\u540e\u7eed\u7248\u672c\u4e2d\u5e9f\u5f03\u8fd9\u4e2a\u5199\u6cd5\uff08\u89c1 [issue](https://github.com/python/cpython/issues/89519)\uff09\u3002\u6240\u4ee5 `myrai` \u7684\u540e\u7eed\u7248\u672c\u4e2d\u4e5f\u4f1a\u4fee\u6539\u8fd9\u4e2a\u7528\u6cd5\u5e76\u964d\u4f4e\u53ef\u4f7f\u7528\u7684 Python \u7248\u672c\u3002\n\n### \u6536\u5c3e\n\n```py\nmyrai.close()\n```\n\n\u5efa\u8bae\u4f7f\u7528 `atexit`\u3002\n\n```py\nimport atexit\nimport myrai\n\natexit.register(myrai.close)\n```\n\n[py4j]: https://github.com/py4j/py4j\n[mirai-core]: https://github.com/mamoe/mirai\n[mah]: https://github.com/project-mirai/mirai-api-http\n[mcl]: https://github.com/iTXTech/mirai-console-loader\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/Shimogawa/myrai",
            "keywords": "",
            "license": "AGPLv3",
            "maintainer": "",
            "maintainer_email": "",
            "name": "myrai",
            "package_url": "https://pypi.org/project/myrai/",
            "platform": null,
            "project_url": "https://pypi.org/project/myrai/",
            "project_urls": {
                "Homepage": "https://github.com/Shimogawa/myrai"
            },
            "release_url": "https://pypi.org/project/myrai/0.1.0/",
            "requires_dist": [
                "py4j (>=0.10)"
            ],
            "requires_python": ">=3.9",
            "summary": "pymirai",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 13610571,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8fe6b49b6511dcbfc15ce2c28d50bc1a",
                    "sha256": "65b55e45a0def55133c9289fb84dc87a4d5c16858484bcff57288e44d56c55cd"
                },
                "downloads": -1,
                "filename": "myrai-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "8fe6b49b6511dcbfc15ce2c28d50bc1a",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.9",
                "size": 33580625,
                "upload_time": "2022-04-25T05:27:01",
                "upload_time_iso_8601": "2022-04-25T05:27:01.341294Z",
                "url": "https://files.pythonhosted.org/packages/17/27/7d8c90deb40d483cdaed42fd919c5478093772fe7cca8ac7a1cdb5568470/myrai-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "e9cc8d378dc8ab0c738591ba82982951",
                    "sha256": "3a6ea73aabebc050e74a552e336783b9e58eb9a1bb0d951dd9fac5072b5d124e"
                },
                "downloads": -1,
                "filename": "myrai-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "e9cc8d378dc8ab0c738591ba82982951",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.9",
                "size": 33575449,
                "upload_time": "2022-04-25T05:27:07",
                "upload_time_iso_8601": "2022-04-25T05:27:07.572705Z",
                "url": "https://files.pythonhosted.org/packages/d1/3c/a311a59f86b040f3c28987dee26a10e98347847eb549d2a6076294ada31d/myrai-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}