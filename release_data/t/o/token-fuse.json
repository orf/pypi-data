{
    "1.2": {
        "info": {
            "author": "rui",
            "author_email": "604729765@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://www.leetab.com",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "token-fuse",
            "package_url": "https://pypi.org/project/token-fuse/",
            "platform": "",
            "project_url": "https://pypi.org/project/token-fuse/",
            "project_urls": {
                "Homepage": "https://www.leetab.com"
            },
            "release_url": "https://pypi.org/project/token-fuse/1.2/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "json web token\u7684\u751f\u6210\u548c\u9a8c\u8bc1",
            "version": "1.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14290897,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "4e59c9e94eb753619a72d4aacdfc5fe8",
                    "sha256": "04b02ba54fbf7886c1e90784aee29321dc661f0c0114745d90346cac360a006c"
                },
                "downloads": -1,
                "filename": "token-fuse-1.2.tar.gz",
                "has_sig": false,
                "md5_digest": "4e59c9e94eb753619a72d4aacdfc5fe8",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 7852,
                "upload_time": "2022-01-15T03:44:56",
                "upload_time_iso_8601": "2022-01-15T03:44:56.596326Z",
                "url": "https://files.pythonhosted.org/packages/f1/94/86993ca9e142819beacd1e866f8b49447e3179103210487e2e131db51a1d/token-fuse-1.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.2.3": {
        "info": {
            "author": "rui",
            "author_email": "604729765@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "\u4e00.\u751f\u6210\u548c\u6821\u9a8c\u901a\u7528\u7684token\n~~~~~~~~~~~~~~~~~~~~~~~~\n\n\u5b89\u88c5\u548c\u5f15\u5165Jwt\u6a21\u5757\n                 \n\n::\n\n    pip install token-fuse\n\n    from token_fuse import Jwt\n\n\u5b9e\u4f8b\u5316\n      \n\n::\n\n    jwt = Jwt() \n\n\u7ec4\u7ec7payload\n           \n\n::\n\n    \u5fc5\u9009\u53c2\u6570\uff1a\n        1. exp \u8fc7\u671f\u65f6\u95f4 \uff0cnow > exp \u5219\u5931\u6548\n    \u53ef\u9009\u53c2\u6570\uff1a\n        1. uid\uff1a\u7528\u6237\u8fa8\u8bc6\u7528\u6237\u7684\u552f\u4e00id\uff0c\u5efa\u8bae[uid, user]\u4efb\u9009\u4e00\u79cd\u4f5c\u4e3a\u53c2\u6570\n        2. iss:\u7b7e\u53d1\u4eba\n        3. iat\uff1a\u7b7e\u53d1\u65f6\u95f4\u6233\n\n    payload = {'user': 'admin', 'iss': 'django', 'iat': 1642147838, 'exp': 1642152838}\n\n\u751f\u6210token\n         \n\n::\n\n    token = jwt.token(payload) \n\n\u6821\u9a8ctoken\n         \n\n::\n\n    result = jwt.auth(token)\n\n\u6253\u5370\u6821\u9a8c\u7ed3\u679c\n            \n\n    \u5982\u6821\u9a8c\u6210\u529f\u8fd4\u56depayload\uff0c\u5931\u8d25\u5219\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u4e3aFalse\u7684AuthFailed\u5bf9\u8c61\uff0c\u6253\u5370\u8be5\u5bf9\u8c61\u53ef\u67e5\u770b\u5177\u4f53\u9519\u8bef\u4fe1\u606f\n\n::\n\n    print(result) \n\n\u4e8c. \u751f\u6210\u548c\u6821\u9a8c\u5e26\u201c\u7194\u65ad\u201d\u529f\u80fd\u7684token\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\u5728\u6709\u4e9b\u9879\u76ee\u4e2d\uff0c\u4e1a\u52a1\u8981\u6c42\u9650\u5236\u5141\u8bb8token\u767b\u5f55\u7684\u6700\u5927\u6570\u91cf\uff0c\u672c\u6a21\u5757\u5229\u7528redis\u8bb0\u5f55token\uff0c\u8fbe\u5230\u9650\u5236\u767b\u5f55\u6570\u91cf\u7684\u76ee\u7684\u3002\n\u5f15\u5165JwtFuse\u6a21\u5757\n\n::\n\n    from token_fuse import JwtFuse\n\n\u914d\u7f6eDjango setting.py\n                     \n\n::\n\n    # \u5982\u679cJWT_CONF\u7f3a\u7701\uff0cmax_login=1\n    # redis=dict(host='127.0.0.1', port=6379, db=0)\n    JWT_CONF = {\n        'max_login': 3,\n        'redis': dict(host='127.0.0.1', port=6379, db=0)\n    }\n\n\u5b9e\u4f8b\u5316\n      \n\n::\n\n    jwt_fuse = JwtFuse()\n\n\u7ec4\u7ec7payload\n           \n\n::\n\n    \u5fc5\u9009\u53c2\u6570\u6709: \n        1.exp \u8fc7\u671f\u65f6\u95f4 \uff0cnow > exp \u5219\u5931\u6548\n        2.iat\uff1a\u7b7e\u53d1\u65f6\u95f4\u6233 \u3002\n        3.uid\uff1a\u7528\u6237\u8fa8\u8bc6\u7528\u6237\u7684\u552f\u4e00id\uff0c\u5efa\u8bae[uid, user]\u4efb\u9009\u4e00\u79cd\u4f5c\u4e3a\u53c2\u6570\u540d\u90fd\u53ef\u4ee5\n    \u53ef\u9009\u53c2\u6570\u6709\uff1a\n        1.iss:\u7b7e\u53d1\u4eba\uff0c\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e2d\u5982\u679c\u5b58\u5728\u591a\u4e2a\u9879\u76ee\uff08\u591a\u9879\u76ee\u5171\u7528\u4e86Redis\u6570\u636e\u6c60\uff09\uff0c\n        \u5982\u679c\u8fd9\u4e9b\u9879\u76ee\u4e0d\u662f\u5171\u4eabtoken\uff0c\u90a3\u4e48\u5728JwtRange().auth()\u65f6\u4e3a\u4e86\u9632\u6b62token\u4e32\u53f7\uff0c\u53ef\u4ee5\u8bbe\u7f6eiss\u7528\u4e8e\u533a\u5206\u3002\n\n    payload = {'user': 'admin', 'iss': 'django', 'iat': 1642147838, 'exp': 1642152838}\n\n\u751f\u6210token\n         \n\n    \u5982\u679c\u4f20\u5165\u4e86request\u53c2\u6570\uff0c\u5219\u9ed8\u8ba4\u751f\u6210\u5e26\u6709\u8bbe\u5907\u4fe1\u606f\u7684token\uff0c\n    \u7136\u540e\u6839\u636erequest\u4e2d\u7684User-Agent\u5c06\u8bbf\u95ee\u7684\u8bf7\u6c42\u533a\u5206\u4e3a\u79fb\u52a8\u548cPC\u4e24\u79cd\u8bbe\u5907\u7c7b\u578b\u3002\n    \u518d\u5c06\u8bbe\u5907\u7c7b\u578b{'ua':'m'}\u6216{'ua':'p'}\u66f4\u65b0\u5230payload\u4e2d\uff0c\n    \u6700\u540e\u4f7f\u7528\u5e26\u6709\u8bbe\u5907\u7c7b\u578b\u6807\u8bb0\u7684payload\u751f\u6210token\u3002\n    \u4e0d\u540c\u8bbe\u5907\u7c7b\u578b\u4e0d\u5171\u4eabmax\\_login,\u4e5f\u5c31\u662f\u8bf4max\\_login=1\u65f6\uff0cua:p\u548cua:m\u7684\u8bbe\u5907\u80fd\u540c\u65f6\u767b\u5f55\u8bbf\u95ee\u3002\n\n::\n\n    token = jwt_fuse.token(payload, request=None) \n\n\u6821\u9a8ctoken\n         \n\n    \u6821\u9a8c\u901a\u8fc7\u7684token\u4f1a\u88ab\u4fdd\u5b58\u5728redis\u4e2d\uff0c\u4fdd\u5b58\u65f6\u95f43600\u79d2\u3002\u4fdd\u5b58\u683c\u5f0f\uff1auid:[token1,token2...]\uff0cauth\u51fd\u6570\u53ea\u4f1a\u901a\u8fc7\u6700\u65b0\u7b7e\u53d1\u65f6\u95f4\u7684max\\_len\u6761token.\n\n::\n\n    result = jwt_fuse.auth(token)\n\n\u6253\u5370\u6821\u9a8c\u7ed3\u679c\n            \n\n    \u5982\u6821\u9a8c\u6210\u529f\u8fd4\u56depayload\uff0c\u5931\u8d25\u5219\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u4e3aFalse\u7684AuthFailed\u5bf9\u8c61\uff0c\u6253\u5370\u8be5\u5bf9\u8c61\u53ef\u67e5\u770b\u5177\u4f53\u9519\u8bef\u4fe1\u606f\n\n::\n\n    print(result)",
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://www.leetab.com",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "token-fuse",
            "package_url": "https://pypi.org/project/token-fuse/",
            "platform": null,
            "project_url": "https://pypi.org/project/token-fuse/",
            "project_urls": {
                "Homepage": "https://www.leetab.com"
            },
            "release_url": "https://pypi.org/project/token-fuse/1.2.3/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "json web token\u7684\u751f\u6210\u548c\u9a8c\u8bc1",
            "version": "1.2.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14290897,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "ca647cc88ee1e524259ced695ccd8b42",
                    "sha256": "94a3e09dda210306464ce872ca029a467fbbbac74f67e9c6ec7beb0d25d78bc2"
                },
                "downloads": -1,
                "filename": "token-fuse-1.2.3.tar.gz",
                "has_sig": false,
                "md5_digest": "ca647cc88ee1e524259ced695ccd8b42",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 7679,
                "upload_time": "2022-06-30T00:57:10",
                "upload_time_iso_8601": "2022-06-30T00:57:10.747385Z",
                "url": "https://files.pythonhosted.org/packages/0f/b5/62caec1004032a68b05b0484638a05e3055f6ef39109dcd46c9be8edad15/token-fuse-1.2.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}