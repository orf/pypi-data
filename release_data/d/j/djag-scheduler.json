{
    "0.0.1": {
        "info": {
            "author": "Mohith Reddy",
            "author_email": "dev.m0hithreddy@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Web Environment",
                "Framework :: Django",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Software Development"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/m0hithreddy/djag-scheduler",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "djag-scheduler",
            "package_url": "https://pypi.org/project/djag-scheduler/",
            "platform": "",
            "project_url": "https://pypi.org/project/djag-scheduler/",
            "project_urls": {
                "Bug Tracker": "https://github.com/m0hithreddy/djag-scheduler/issues",
                "Homepage": "https://github.com/m0hithreddy/djag-scheduler"
            },
            "release_url": "https://pypi.org/project/djag-scheduler/0.0.1/",
            "requires_dist": [
                "Django (<4.0.0,>=3.0.0)",
                "celery (<6.0.0,>=5.0.0)",
                "croniter (<2.0.0,>=1.0.0)",
                "django-timezone-field (<5.0.0,>=4.0.0)",
                "toposort (<2.0.0,>=1.0.0)",
                "django-json-widget (<2.0.0,>=1.0.0)",
                "pytz (<2022.0,>=2020.1)"
            ],
            "requires_python": "",
            "summary": "'Django database backed celery periodic task scheduler with support for task dependency graph'",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14424717,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "41bfa2ccfe54bf1228562382ff4ebd9f",
                    "sha256": "4e2faf1c7569b9486f1837fc1a335d4049d8ddbcf1a2dbc99f8a89e028b899d5"
                },
                "downloads": -1,
                "filename": "djag_scheduler-0.0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "41bfa2ccfe54bf1228562382ff4ebd9f",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 43091,
                "upload_time": "2021-10-23T18:06:27",
                "upload_time_iso_8601": "2021-10-23T18:06:27.024971Z",
                "url": "https://files.pythonhosted.org/packages/86/29/6926b0ca372d00a1564726f9e21cd7aa372d4718b13e73aa57e71a578add/djag_scheduler-0.0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "1a5dbd94722a737834f9ff30fc26c344",
                    "sha256": "168a039568fc8d8a81d7a6244d98f38bec9be8be2c5c6f3a0288f34babca2729"
                },
                "downloads": -1,
                "filename": "djag-scheduler-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "1a5dbd94722a737834f9ff30fc26c344",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 25967,
                "upload_time": "2021-10-23T18:06:29",
                "upload_time_iso_8601": "2021-10-23T18:06:29.805695Z",
                "url": "https://files.pythonhosted.org/packages/63/ce/a1bb49f93538698e98d17ba25f92e2c1667cba5aabb884b3379d85b6d7b8/djag-scheduler-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.0": {
        "info": {
            "author": "Mohith Reddy",
            "author_email": "dev.m0hithreddy@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Web Environment",
                "Framework :: Django",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Software Development"
            ],
            "description": "# Djag Scheduler\n\n**(Dj)ango Task D(AG) (Scheduler)**\n\n## Overview\n\n- Djag scheduler associates scheduling information with celery tasks\n- The task schedule is persisted in the database using Django ORM\n- Djag scheduler allows for defining task dependencies\n- Djag scheduler can handle misfire events\n- The schedules can be managed through the Django admin interface\n\n## Quick Setup\n\n1. Install djag-scheduler from [``pypi``](https://pypi.org/project/djag-scheduler)\n\n    ```shell\n    pip install djag-scheduler\n    ```\n\n2. Add [``djag_scheduler``](https://github.com/m0hithreddy/djag-scheduler),\n   [``timezone_field``](https://github.com/mfogel/django-timezone-field),\n   [``django_json_widget``](https://github.com/jmrivas86/django-json-widget) (installed by default)\n   to the Django INSTALLED_APPS\n\n   ```python\n   INSTALLED_APPS = [\n        ...,\n        \n        # Djag Scheduler Apps\n        'timezone_field',\n        'django_json_widget',\n        'djag_scheduler'\n   ]\n   ```\n\n3. Setup [``Django CACHE``](https://docs.djangoproject.com/en/dev/topics/cache/#setting-up-the-cache).\n   You can choose any cache backend. But it is important to configure ``'djag_scheduler'`` cache. For example:\n   \n   ```python\n   CACHES = {\n       'default': {\n           'BACKEND': 'django.core.cache.backends.memcached.PyLibMCCache',\n           'LOCATION': '127.0.0.1:11211',\n       },\n        \n       # Djag Scheduler cache\n       'djag_scheduler': {\n           'BACKEND': 'django.core.cache.backends.memcached.PyLibMCCache',\n           'LOCATION': '127.0.0.1:11211',\n           'TIMEOUT': None\n       }\n   }\n   ```\n   \n   > **Caution**: [Local-memory caching](https://docs.djangoproject.com/en/dev/topics/cache/#local-memory-caching)\n   > will not work. See [Case for Django Cache](#case-for-django-cache)\n   \n4. It is highly recommended to configure [``Django Timezone``](https://docs.djangoproject.com/en/dev/ref/settings/#use-tz)\n   since djag-scheduler relies on Django ORM.\n\n   ```python\n   USE_TZ = True\n   ```\n\n5. [Optional Configurations](#optional-configurations) (In Django project settings).\n   \n   ```python\n   ...\n   \n   # Djag Scheduler Configuration\n   [CELERY_NAMESPACE]_TIMEZONE = 'UTC'\n   DJAG_DEFAULT_INTERVAL = 60\n   DJAG_SCHEDULE_CHECK_INTERVAL = 300\n   DJAG_TASK_ESTIMATED_RUN_TIME = 60\n   DJAG_RESILIENT_SYNC_INTERVAL = 600\n   ```\n\n6. Run migrations\n\n   ```shell\n   python manage.py migrate\n   ```\n\nNow you can run the server, navigate to the Django admin interface and start creating schedules.\n\n> **Note:** This is the configuration for djag-scheduler, and this alone will not run the tasks. \n> See [Running Celery Services](#running-celery-services) for task execution\n\n## Running Celery Services\n\nDjag Scheduler provides a [custom scheduler](https://docs.celeryproject.org/en/stable/userguide/periodic-tasks.html#using-custom-scheduler-classes)\nwhich can be used with celery services.\n\n1. [Configure celery](https://docs.celeryproject.org/en/stable/django/first-steps-with-django.html)\n   in your Django project and add [celery tasks](https://docs.celeryproject.org/en/stable/django/first-steps-with-django.html#using-the-shared-task-decorator)\n   \n\n2. Run celery worker service from the Django project root\n\n   ```shell\n   celery -A [project_name] worker --loglevel=info\n   ```\n   \n3. Run celery beat service\n\n   ```shell\n   celery -A [project_name] beat -l info --scheduler djag_scheduler.scheduler:DjagScheduler \n   ```\n\nDjag Scheduler will fetch the schedule from the database and starts executing the tasks. Both worker and \nbeat services can be started in [one process](https://django-celery-beat.readthedocs.io/en/latest/#example-running-periodic-tasks).\nServices can be [daemonized](https://docs.celeryproject.org/en/stable/userguide/daemonizing.html) as well\n\n## Optional Configurations\n\n- [[CELERY_NAMESPACE]_TIMEZONE](https://docs.celeryproject.org/en/stable/django/first-steps-with-django.html):\n  Djag uses the same default timezone the celery is configured to use (Timezone can be configured per crontab).\n  Default: UTC\n  \n- DJAG_DEFAULT_INTERVAL: Djag scheduler's default max loop interval. Default (sec): 60 \n\n- DJAG_SCHEDULE_CHECK_INTERVAL: The interval at which djag checks for schedule changes. In the interim schedule \n  is considered unchanged. Default (sec): 300\n  \n- DJAG_TASK_ESTIMATED_RUN_TIME: Hint djag-scheduler about task execution period. Default (sec): 60 \n\n- DJAG_RESILIENT_SYNC_INTERVAL: The scheduling stats of a task are synced to the database at each task activation \n  and deactivation. This option is there to build resiliency if the past syncs fail. Default (sec): 600\n\n> **Note:** Almost everyone should configure these options according to their needs instead of relying on defaults.\n> Let's consider you have a task with Skip Misfires, and the following configuration: **Estimated Run Time > Default Interval \n> \\> Task's Grace Period**. Djag scheduler might end up skipping the task just because you hinted at it with a higher estimate.\n> In general, increase your grace periods with higher runtime estimates.\n\n## Dependency Resolution\n\nDjag Scheduler at the core builds [Task DAG](https://en.wikipedia.org/wiki/Directed_acyclic_graph) for dependency management.\nBut due to the addition of crontab information, djag-scheduler resolves dependencies slightly in a different way. \nThe following conditions are to be met for the task (depender) to execute:\n\n- There should be a task (depender) crontab event pending execution (on-time, delayed, coalesced, ...).\n\n- For each dependency, there should be at least one new executed dependee event (on-time, delayed, coalesced, ...) since \n  the depender's last event execution start time.\n\nSometimes we might need to hold for the depender's execution (Ex: consume whole output) to execute the next version of the\ndependee. Such dependencies can be defined by checking the [``Future Depends``](#admin-interface) flag. The future dependencies \ndiffer in the first time execution. For the first time, dependence is assumed to be resolved irrespective of the dependee's \nstatus, and the subsequent versions follow the same rules as described above.\n\n## Admin Interface\n\nMost options are straightforward. The following listed options might require some attention:\n\n### Crontabs\n\n- Crontabs are managed through [``croniter``](https://github.com/taichino/croniter), and timezones through [``django-timezone-field``](https://github.com/mfogel/django-timezone-field)\n\n- By default, timezone is set to [``[CELERY_NAMESPACE]_TIMEZONE``](https://docs.celeryproject.org/en/stable/django/first-steps-with-django.html) \n  else ``UTC``.\n  \n### Periodic Tasks\n\n- Grace Period: Number of seconds from the actual cron value for the task to be categorized as a misfire\n\n- Skip Misfires: Skip all the misfire events\n\n- Coalesce Misfires: Run one event (latest among misfires) for all the misfires\n  \n- Cron Base: Initial time for evaluating crontab. Time displayed will be in Django's [``TIME_ZONE``](https://docs.djangoproject.com/en/3.2/ref/settings/#time-zone).\n  Cron base is set to current time by default.\n\n- Task's ``*args or **kwargs`` can be set under ``Arguments`` section. The rendered JSON widget \n  comes from [``django-json-widget``](https://github.com/jmrivas86/django-json-widget)\n\n### Task Dependencies\n\n- Future Depends: The first version is independent, but the future versions of the depender depends on the dependee.\n  See [``Dependency Resolution``]()\n  \n### User Actions\n\n- The idea is to provide a mechanism for creating actions, which serves as control signals for running tasks.\n  For generic purposes, only ``Unclassified Action`` is added to the drop-down. If you are extending this project,\n  you can add actions and create forms per action (See [``user_action_forms``](https://github.com/m0hithreddy/djag-scheduler/blob/main/djag_scheduler/forms/user_action_forms.py)).\n\n- Some internal actions are created for djag's functioning.\n\n### User Action Audits\n\n- Audit for [``User Actions``](#user-actions)\n\n## Case for Django Cache\n\nDjag Scheduler requires the task status for proper dependency resolution. This can be communicated from the worker \nservice either by configuring the celery result backend or by using celery [``signals``](https://docs.celeryproject.org/en/stable/userguide/signals.html#task-postrun)\nwith Django cache as a bridge between worker and beat services. For now, the Django cache solution is adopted. \nFor the same reason, cache backends like [``Local-memory caching``](https://docs.djangoproject.com/en/dev/topics/cache/#local-memory-caching) \nwhose cache store is unique to Django instance will not work.\n\n## Initial Credits\n\n[``djag-scheduler``](https://github.com/m0hithreddy/djag-scheduler) started as an extended version of\n[``django-celery-beat``](https://github.com/celery/django-celery-beat), providing support for task dependencies and\nresiliency. ``django-celery-beat`` served as a reference in writing a database-backed custom ``Scheduler`` for celery-beat \nservice. For more information see, [``LICENSE``](https://github.com/m0hithreddy/djag-scheduler/blob/main/LICENSE)\n# ChangeLog\n\n### 0.0.1\n- Initial Release\n\n### 1.0.0\n- Bug Fix: Crontab constructed wrongly\n\n# Credits\n\n### Authors\n- Mohith Reddy <dev.m0hithreddy@gmail.com>\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/m0hithreddy/djag-scheduler",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "djag-scheduler",
            "package_url": "https://pypi.org/project/djag-scheduler/",
            "platform": null,
            "project_url": "https://pypi.org/project/djag-scheduler/",
            "project_urls": {
                "Bug Tracker": "https://github.com/m0hithreddy/djag-scheduler/issues",
                "Homepage": "https://github.com/m0hithreddy/djag-scheduler"
            },
            "release_url": "https://pypi.org/project/djag-scheduler/1.0.0/",
            "requires_dist": [
                "Django (<4.0.0,>=3.0.0)",
                "celery (<6.0.0,>=5.0.0)",
                "croniter (<2.0.0,>=1.0.0)",
                "django-timezone-field (<5.0.0,>=4.0.0)",
                "toposort (<2.0.0,>=1.0.0)",
                "django-json-widget (<2.0.0,>=1.0.0)",
                "pytz (<2022.0,>=2020.1)"
            ],
            "requires_python": "",
            "summary": "'Django database backed celery periodic task scheduler with support for task dependency graph'",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14424717,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "0a64a2f027e04b47773a64fc9573e877",
                    "sha256": "3de02ddf0621b9c55af7b58e1015b5e6e021a891e833aaa594c468d1abc87a1a"
                },
                "downloads": -1,
                "filename": "djag_scheduler-1.0.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "0a64a2f027e04b47773a64fc9573e877",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 30411,
                "upload_time": "2022-07-13T18:10:09",
                "upload_time_iso_8601": "2022-07-13T18:10:09.733015Z",
                "url": "https://files.pythonhosted.org/packages/50/06/d9147bef38336e896c7e32906b89c03cdf5430b17e07bbf35471a74288fc/djag_scheduler-1.0.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "ac1e758baeadf4a53784a596f7be75fc",
                    "sha256": "600868c136450998031868a6686fd453bf6d1581bbbd8451374590be23a174f4"
                },
                "downloads": -1,
                "filename": "djag-scheduler-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "ac1e758baeadf4a53784a596f7be75fc",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 26042,
                "upload_time": "2022-07-13T18:10:14",
                "upload_time_iso_8601": "2022-07-13T18:10:14.338116Z",
                "url": "https://files.pythonhosted.org/packages/67/96/bc963bbaa3a834d24fc6dc690e05a74b0ed5c13a65d115bb56b54f09b1d3/djag-scheduler-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}