{
    "0.1.0": {
        "info": {
            "author": "Jannis Vamvas",
            "author_email": "vamvas@cl.uzh.ch",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/ZurichNLP/nmtscore",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "nmtscore",
            "package_url": "https://pypi.org/project/nmtscore/",
            "platform": null,
            "project_url": "https://pypi.org/project/nmtscore/",
            "project_urls": {
                "Bug Tracker": "https://github.com/ZurichNLP/nmtscore/issues",
                "Homepage": "https://github.com/ZurichNLP/nmtscore"
            },
            "release_url": "https://pypi.org/project/nmtscore/0.1.0/",
            "requires_dist": [
                "transformers",
                "sentencepiece",
                "tqdm",
                "sqlitedict",
                "fairseq ; extra == 'prism'"
            ],
            "requires_python": ">=3.6",
            "summary": "A library of translation-based text similarity measures",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15444586,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "800f065b1faeb37a527af1f519fbe17f",
                    "sha256": "b46616f8b56c316a537a1d7958adebe0db93dd5f291a0c122cc98cf75f52dcd1"
                },
                "downloads": -1,
                "filename": "nmtscore-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "800f065b1faeb37a527af1f519fbe17f",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 14797,
                "upload_time": "2022-04-27T12:13:55",
                "upload_time_iso_8601": "2022-04-27T12:13:55.693820Z",
                "url": "https://files.pythonhosted.org/packages/79/ef/478cf70549b723bb692adb7f878ca7ec548efe3865e0264c8b0a35bfacc3/nmtscore-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "8e91c7e0ee3bc98fae9e0ad9661bae36",
                    "sha256": "9a3eb55c1916fd22c723ae9336685624f16bfb893441e5b9842b8c6a358698b7"
                },
                "downloads": -1,
                "filename": "nmtscore-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "8e91c7e0ee3bc98fae9e0ad9661bae36",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 13619,
                "upload_time": "2022-04-27T12:13:58",
                "upload_time_iso_8601": "2022-04-27T12:13:58.866631Z",
                "url": "https://files.pythonhosted.org/packages/75/48/34a8227a21fc4aefecd350d7713f746552ae012e4436203c4902b1cbbffb/nmtscore-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.2.0": {
        "info": {
            "author": "Jannis Vamvas",
            "author_email": "vamvas@cl.uzh.ch",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "# NMTScore\n![Master](https://github.com/ZurichNLP/nmtscore/workflows/unittest/badge.svg?branch=master&event=push)\n[![PyPI](https://img.shields.io/pypi/v/nmtscore)](https://pypi.python.org/pypi/nmtscore/)\n\nA library of translation-based text similarity measures.\n\nTo learn more about how these measures work, have a look at [Jannis' blog post](https://vamvas.ch/nmtscore-text-similarity-via-translation). Also, read our paper, [\"NMTScore: A Multilingual Analysis of Translation-based Text Similarity Measures\"](https://arxiv.org/abs/2204.13692) (Findings of EMNLP).\n\n<img src=\"img/figure1.png\" alt=\"Three text similarity measures implemented in this library\" width=\"500\">\n\n## Installation\n\n- Requires Python >= 3.7 and PyTorch\n- `pip install nmtscore`\n- Extra requirements for the Prism model: `pip install nmtscore[prism]`\n\n## Usage\n\n### NMTScorer\nInstantiate a scorer and start scoring short sentence pairs.\n\n```python\nfrom nmtscore import NMTScorer\n\nscorer = NMTScorer()\n\nscorer.score(\"This is a sentence.\", \"This is another sentence.\")\n# 0.45192727655379844\n```\n\n#### Different similarity measures\nThe library implements three different measures:\n\n```python\n# Translation cross-likelihood (default)\nscorer.score_cross_likelihood(a, b, tgt_lang=\"en\", normalize=True, both_directions=True)\n\n# Direct translation probability\nscorer.score_direct(a, b, a_lang=\"en\", b_lang=\"en\", normalize=True, both_directions=True)\n\n# Pivot translation probability\nscorer.score_pivot(a, b, a_lang=\"en\", b_lang=\"en\", pivot_lang=\"en\", normalize=True, both_directions=True)\n```\n\nThe `score` method is a shortcut for cross-likelihood.\n\n#### Batch processing\nThe scoring methods also accept lists of strings:\n\n```python\nscorer.score(\n    [\"This is a sentence.\", \"This is a sentence.\", \"This is another sentence.\"],\n    [\"This is another sentence.\", \"This sentence is completely unrelated.\", \"This is another sentence.\"],\n)\n# [0.4519273529250307, 0.13127038689469997, 1.0000000000000102]\n```\n\nThe sentences in the first list are compared element-wise to the sentences in the second list.\n\nThe default batch size is 8.\nAn alternative batch size can be specified as follows (independently for translating and scoring):\n\n```python\nscorer.score_direct(\n    a, b, a_lang=\"en\", b_lang=\"en\",\n    score_kwargs={\"batch_size\": 16}\n)\n\nscorer.score_cross_likelihood(\n    a, b,\n    translate_kwargs={\"batch_size\": 16},\n    score_kwargs={\"batch_size\": 16}\n)\n```\n\n#### Different NMT models\nThis library currently supports three NMT models:\n- [m2m100_418M](https://huggingface.co/facebook/m2m100_418M) and [m2m100_1.2B](https://huggingface.co/facebook/m2m100_1.2B) by [Fan et al. (2021)](https://www.jmlr.org/papers/volume22/20-1307/)\n- [Prism](https://github.com/thompsonb/prism) by [Thompson and Post (2020)](https://aclanthology.org/2020.emnlp-main.8/)\n\nBy default, the leanest model (m2m100_418M) is loaded. The main results in the paper are based on the Prism model, which has some extra requirements (see \"Installation\"), but is recommended due to its higher accuracy.\n\n```python\nscorer = NMTScorer(\"m2m100_418M\", device=None)  # default\nscorer = NMTScorer(\"m2m100_1.2B\", device=None)\nscorer = NMTScorer(\"prism\", device=None)\n```\n\n#### Enable caching of NMT output\nIt can make sense to cache the translations and scores if they are needed repeatedly, e.g. in reference-based evaluation.\n\n\n```python\nscorer.score_direct(\n    a, b, a_lang=\"en\", b_lang=\"en\",\n    score_kwargs={\"use_cache\": True}  # default: False\n)\n\nscorer.score_cross_likelihood(\n    a, b,\n    translate_kwargs={\"use_cache\": True},  # default: False\n    score_kwargs={\"use_cache\": True}  # default: False\n)\n```\n\nActivating this option will create an SQLite database in the ~/.cache directory. The directory can be overriden via the `NMTSCORE_CACHE` environment variable.\n\n#### Print a version signature (\u00e0 la [SacreBLEU](https://github.com/mjpost/sacrebleu))\n```python\nscorer.score(a, b, print_signature=True)\n# NMTScore-cross|tgt-lang:en|model:facebook/m2m100_418M|normalized|both-directions|v0.1.0|hf4.17.0\n```\n\n### Direct usage of NMT models\n\nThe NMT models also provide a direct interface for translating and scoring.\n\n```python\nfrom nmtscore.models import load_translation_model\n\nmodel = load_translation_model(\"prism\")\n\nmodel.translate(\"de\", [\"This is a test.\"])\n# [\"Das ist ein Test.\"]\n\nmodel.score(\"de\", [\"This is a test.\"], [\"Das ist ein Test.\"])\n# [0.5148844122886658]\n```\n\n## Experiments\nSee [experiments/README.md](experiments/README.md)\n\n## Citation\n```bibtex\n@inproceedings{vamvas-sennrich-2022-nmtscore,\n       author = \"Vamvas, Jannis and\n                 Sennrich, Rico\",\n        title = \"{NMTScore}: A Multilingual Analysis of Translation-based Text Similarity Measures\",\n    booktitle = \"Findings of the Association for Computational Linguistics: EMNLP 2022\",\n         year = \"2022\",\n        month = dec,\n      address = \"Abu Dhabi, United Arab Emirates\",\n    publisher = \"Association for Computational Linguistics\",\n       eprint = {2204.13692}\n}\n```\n\n## License\n- Code: MIT License\n- Data: See data subdirectories\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/ZurichNLP/nmtscore",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "nmtscore",
            "package_url": "https://pypi.org/project/nmtscore/",
            "platform": null,
            "project_url": "https://pypi.org/project/nmtscore/",
            "project_urls": {
                "Bug Tracker": "https://github.com/ZurichNLP/nmtscore/issues",
                "Homepage": "https://github.com/ZurichNLP/nmtscore"
            },
            "release_url": "https://pypi.org/project/nmtscore/0.2.0/",
            "requires_dist": [
                "transformers",
                "sentencepiece",
                "tqdm",
                "sqlitedict",
                "fairseq (<=0.10.0) ; extra == 'prism'"
            ],
            "requires_python": ">=3.7",
            "summary": "A library of translation-based text similarity measures",
            "version": "0.2.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15444586,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "79010e6adae7a060b2ca395cf78dcbe9",
                    "sha256": "b3af91dd5d5496b204496d79bf8e3874fde3ce5ae2b91ca1b09a7041081e3b9d"
                },
                "downloads": -1,
                "filename": "nmtscore-0.2.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "79010e6adae7a060b2ca395cf78dcbe9",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 15863,
                "upload_time": "2022-10-18T04:37:04",
                "upload_time_iso_8601": "2022-10-18T04:37:04.768116Z",
                "url": "https://files.pythonhosted.org/packages/9f/c8/305b443960614fba5056e08d173e53ae0d25d2ed573d4a4c1a526a14f31a/nmtscore-0.2.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "cc71f821aaf9715c3f0120acd766eb7a",
                    "sha256": "dcb57f01d9f832454e1c54cb837e93414e57dff03eb96f74dedc0467e020e9eb"
                },
                "downloads": -1,
                "filename": "nmtscore-0.2.0.tar.gz",
                "has_sig": false,
                "md5_digest": "cc71f821aaf9715c3f0120acd766eb7a",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 14946,
                "upload_time": "2022-10-18T04:37:06",
                "upload_time_iso_8601": "2022-10-18T04:37:06.926531Z",
                "url": "https://files.pythonhosted.org/packages/16/15/75b9c893ffb491a386d1bb6198356443ccdb94f41c12135f30ed7b31d59a/nmtscore-0.2.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}