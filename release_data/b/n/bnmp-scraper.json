{
    "0.0.1": {
        "info": {
            "author": "Lucas Lopes",
            "author_email": "lucaslopesamorim@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/olucaslopes/BNMP-Scraper",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "bnmp-scraper",
            "package_url": "https://pypi.org/project/bnmp-scraper/",
            "platform": "",
            "project_url": "https://pypi.org/project/bnmp-scraper/",
            "project_urls": {
                "Homepage": "https://github.com/olucaslopes/BNMP-Scraper"
            },
            "release_url": "https://pypi.org/project/bnmp-scraper/0.0.1/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Navega pela API do Portal BNMP coletando dados",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14181994,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "96895f77e9c86a5b4241f4f857761b8d",
                    "sha256": "5f56b803403a514c3815297f7758e716a3f07a98ecab468e3de812d879d12968"
                },
                "downloads": -1,
                "filename": "bnmp_scraper-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "96895f77e9c86a5b4241f4f857761b8d",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 10653,
                "upload_time": "2021-11-09T12:59:37",
                "upload_time_iso_8601": "2021-11-09T12:59:37.223914Z",
                "url": "https://files.pythonhosted.org/packages/28/e1/9c854ff1af4bcb8c507c53b4435a16509e7e53192c81c00b8a58e3aba93c/bnmp_scraper-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.3": {
        "info": {
            "author": "Lucas Lopes",
            "author_email": "lucaslopesamorim@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/olucaslopes/BNMP-Scraper",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "bnmp-scraper",
            "package_url": "https://pypi.org/project/bnmp-scraper/",
            "platform": "",
            "project_url": "https://pypi.org/project/bnmp-scraper/",
            "project_urls": {
                "Homepage": "https://github.com/olucaslopes/BNMP-Scraper"
            },
            "release_url": "https://pypi.org/project/bnmp-scraper/0.0.3/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Navega pela API do Portal BNMP coletando dados",
            "version": "0.0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14181994,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "496aad833989d6fc517814686eb7c32b",
                    "sha256": "dc3c9d54a31dd965453987adf374f5c91fec960733d420ac7ec69ccdc37e228f"
                },
                "downloads": -1,
                "filename": "bnmp_scraper-0.0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "496aad833989d6fc517814686eb7c32b",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 10446,
                "upload_time": "2021-11-16T11:13:39",
                "upload_time_iso_8601": "2021-11-16T11:13:39.764588Z",
                "url": "https://files.pythonhosted.org/packages/4a/3d/e32640b04bc3d76742be6084a75fabe9c9373948029c8ab2e559fce5abd6/bnmp_scraper-0.0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.4": {
        "info": {
            "author": "Lucas Lopes",
            "author_email": "lucaslopesamorim@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/olucaslopes/BNMP-Scraper",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "bnmp-scraper",
            "package_url": "https://pypi.org/project/bnmp-scraper/",
            "platform": "",
            "project_url": "https://pypi.org/project/bnmp-scraper/",
            "project_urls": {
                "Homepage": "https://github.com/olucaslopes/BNMP-Scraper"
            },
            "release_url": "https://pypi.org/project/bnmp-scraper/0.0.4/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Navega pela API do Portal BNMP coletando dados",
            "version": "0.0.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14181994,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "ed62cc6f305b5eb58d3550e9aa93181d",
                    "sha256": "ae5f39e2279b3acc66cdfe361ccd4fdb08ed5698f8627878e10b3981eef7b7b6"
                },
                "downloads": -1,
                "filename": "bnmp_scraper-0.0.4.tar.gz",
                "has_sig": false,
                "md5_digest": "ed62cc6f305b5eb58d3550e9aa93181d",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 11103,
                "upload_time": "2021-11-26T19:46:40",
                "upload_time_iso_8601": "2021-11-26T19:46:40.508014Z",
                "url": "https://files.pythonhosted.org/packages/52/e3/c7252624a6fe0901d1db952f4b37370a44883400081c7a0f56c16b012894/bnmp_scraper-0.0.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.0": {
        "info": {
            "author": "Lucas Lopes",
            "author_email": "lucaslopesamorim@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# BNMP Scraper\r\n<!-- SUM\u00c1RIO -->\r\n<details open=\"open\">\r\n  <summary>Sum\u00e1rio</summary>\r\n  <ol>\r\n    <li>\r\n      <a href=\"#instala\u00e7\u00e3o\">Instala\u00e7\u00e3o</a>\r\n      <ul>\r\n        <li><a href=\"#como-obter-cookie\">Como obter cookie</a></li>\r\n      </ul>\r\n    </li>\r\n    <li>\r\n      <a href=\"#exemplo-de-uso\">Exemplo de uso</a>\r\n      <ul>\r\n        <li><a href=\"#criando-extrator\">Criando extrator</a></li>\r\n        <li><a href=\"#raspando-mandados\">Raspando Mandados</a></li>\r\n        <li><a href=\"#lendo-mandados-com-o-pandas\">Lendo mandados com o Pandas</a></li>\r\n      </ul>\r\n    </li>\r\n    <li>\r\n      <a href=\"#sobre-o-projeto\">Sobre o projeto</a>\r\n      <ul>\r\n        <li><a href=\"#motiva\u00e7\u00e3o\">Motiva\u00e7\u00e3o</a></li>\r\n        <li><a href=\"#objetivo\">Objetivo</a></li>\r\n        <li><a href=\"#como-funciona\">Como nosso algoritmo funciona</a></li>\r\n        <li><a href=\"#principais-desafios\">Principais desafios</a></li>\r\n        <li><a href=\"#melhores-insights\">Melhores insights</a></li>\r\n      </ul>\r\n    </li>\r\n  </ol>\r\n</details>\r\n\r\n<!-- INSTALA\u00c7\u00c3O -->\r\n## Instala\u00e7\u00e3o\r\nPara esse programa funcionar voc\u00ea precisa ter o Python instalado no seu computador. Baixe o Python [aqui](https://www.python.org/downloads/).\r\n\r\nVoc\u00ea pode instalar esse framework com o distribuidor de pacotes com pip, usando seguinte comando no seu **terminal**:\r\n```console\r\n$ python -m pip install bnmp_scraper\r\n```\r\n\r\n<!-- COMO OBTER COOKIE -->\r\n### Como obter cookie\r\n  \r\nComo o Portal BNMP requer que passemos por um captcha antes de acessar o site, para que esse programa funcione voc\u00ea precisa antes acessar o portal, passar pelo captcha e obter um cookie v\u00e1lido(e n\u00e3o expirado), seguindo as intru\u00e7\u00f5es abaixo:\r\n\r\n  \r\n1) Acesse https://portalbnmp.cnj.jus.br/#/pesquisa-peca e passe pelo captcha\r\n\r\n2) Selecione um estado aleat\u00f3rio na aba \"Pesquisar pe\u00e7as\"\r\n\r\n3) Entre no modo desenvolvedor do seu navegador(tecla F12) e v\u00e1 at\u00e9 a aba Network do modo desenvolvedor\r\n\r\n4) Com a aba Network aberta e o estado selecionado (como fizemos nas etapas anteriores), clique em pesquisar\r\n\r\n5) Uma requisi\u00e7\u00e3o com nome come\u00e7ando com \"filter?\" deve aparecer na aba Network, clique nessa requisi\u00e7\u00e3o\r\n\r\n6) Na aba Cabe\u00e7alho(ou \"Headers\") da requisi\u00e7\u00e3o, encontre a op\u00e7\u00e3o \"Cabe\u00e7alho da requisi\u00e7\u00e3o\"(ou \"Request Headers\")\r\n\r\n7) Dentro do \"Cabe\u00e7alho da requisi\u00e7\u00e3o\" procure por um valor chamado \"cookie\", clique com o bot\u00e3o direito e copie esse valor\r\n\r\n8) Pronto, agora voc\u00ea pode usar esse cookie para instanciar nosso extrator como no exemplo de uso abaixo :).\r\n\r\n<!-- EXEMPLO DE USO -->\r\n## **Exemplo de uso**\r\n\r\n### Criando extrator\r\n  ```python\r\nfrom bnmp_scraper import BnmpScraper\r\nextrator = BnmpScraper(\"seu-cookie-aqui\")\r\n  ```\r\n\r\n### Raspando Mandados\r\n  ```python\r\nmandadosAcre = extrator.estado('AC')\r\nmandadosAcre.baixar_mandados()\r\nlista_mandados = mandadosAcre.data\r\n  ```\r\n\r\n\r\n### Lendo mandados com o Pandas\r\n  ```python\r\nimport pandas as pd\r\ndf = pd.json_normalize(mandadosAcre.data)\r\n  ```\r\n\r\n<!-- SOBRE O PROJETO -->\r\n## Sobre o projeto\r\n\r\n<!-- MOTIVA\u00c7\u00c3O -->\r\n### Motiva\u00e7\u00e3o\r\n\r\nFomos motivados a fazer um trabalho de raspagem de dados do portal BNMP (Banco Nacional de Mandados de Pris\u00e3o) por conta de uma s\u00e9rie de mat\u00e9rias jornal\u00edsticas ligando esse portal a vazamentos de dados.\r\n\r\nNa nossa an\u00e1lise, o site **parece** sim **ter melhorado quanto a exposi\u00e7\u00e3o dos seus dados**, por\u00e9m parece ter feito isso **restringindo o acesso \u00e0 informa\u00e7\u00e3o**\r\n\r\nPor exemplo, apesar dos dados serem p\u00fablicos, n\u00e3o \u00e9 poss\u00edvel baixa-los completamente. O portal at\u00e9 disponibiliza uma op\u00e7\u00e3o para baixar os dados em CSV, mas o arquivo baixado tem um limite de 10.000 mandados (para estados com muitos mandados, isso \u00e9 muito pouco) e mesmo os mandados baixados n\u00e3o trazem as informa\u00e7\u00f5es completas.\r\n\r\n<!-- OBJETIVO -->\r\n### Objetivo\r\n\r\nNosso programa navega diretamente na API do Portal BNMP para coletar os mandados em sua totalidade, disponibilizando-os em uma pasta de arquivos jsons para qualquer um que queira analisar-los.\r\n\r\n\r\n<!-- COMO FUNCIONA -->\r\n## Como funciona\r\n\r\n<p align=\"center\">\r\n    <img align='center' src='https://raw.githubusercontent.com/olucaslopes/BNMP-Scraper/master/img/main-flowchart.png'/>\r\n\r\n<!-- PRINCIPAIS DESAFIOS -->\r\n### Principais desafios\r\n\r\n1. O banco de dados do portal possui um limite para o n\u00famero m\u00e1ximo de mandados retornadas por requisi\u00e7\u00e3o (2000 mandados por requisi\u00e7\u00e3o do tipo POST)\r\n2. O banco de dados do portal tamb\u00e9m limita o n\u00famero m\u00e1ximo de p\u00e1ginas de mandados dispon\u00edveis para acesso por id (para requisi\u00e7\u00f5es de 2000 mandados, o limite \u00e9 de 5 p\u00e1ginas - o portal limita o acesso aos 10.000 primeiros mandados)\r\n\r\n<!-- MELHORES INSIGHTS -->\r\n### Melhores insights\r\n\r\n1. Conseguimos acessar mais dados diminuindo a escala com que procuramos para que, consequentemente, haja menos mandados por id. N\u00f3s buscamos por \r\n\r\n    estado -> munic\u00edpio -> \u00f3rg\u00e3o expedidor\r\n\r\n\r\n2. Conseguimos aumentar o limite de p\u00e1ginas de informa\u00e7\u00f5es que podem ser alcan\u00e7adas de 5 para 10 p\u00e1ginas alterando a ordena\u00e7\u00e3o dos elementos(fazendo requisi\u00e7\u00f5es com a ordena\u00e7\u00e3o ascendente e pegando as primeiras 5 p\u00e1ginas e depois descendente pegando tamb\u00e9m as primeiras 5 p\u00e1ginas)\r\n\r\n3. Por fim, para \u00f3rg\u00e3os expedidores com mais de 10 p\u00e1ginas de mandados n\u00f3s desenvolvemos uma fun\u00e7\u00e3o que aproveita as mais diferentes formas de ordena\u00e7\u00e3o para, por for\u00e7a bruta, pegar o maior n\u00famero de mandados poss\u00edvel daquele \u00f3rg\u00e3o.\r\n\r\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/olucaslopes/BNMP-Scraper",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "bnmp-scraper",
            "package_url": "https://pypi.org/project/bnmp-scraper/",
            "platform": null,
            "project_url": "https://pypi.org/project/bnmp-scraper/",
            "project_urls": {
                "Homepage": "https://github.com/olucaslopes/BNMP-Scraper"
            },
            "release_url": "https://pypi.org/project/bnmp-scraper/1.0.0/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Navega pela API do Portal BNMP coletando dados",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14181994,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "b6e32d9c32b84da84b13682384b9e26b",
                    "sha256": "a7b8d26baa062f28a6c3272f5c26ad47c479c21294f6d3613485196725efb886"
                },
                "downloads": -1,
                "filename": "bnmp_scraper-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "b6e32d9c32b84da84b13682384b9e26b",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 13110,
                "upload_time": "2022-06-20T01:56:12",
                "upload_time_iso_8601": "2022-06-20T01:56:12.041944Z",
                "url": "https://files.pythonhosted.org/packages/d1/f9/1d5a0e339042eb19e3418b847a771455e4f65a7cc325387d338ee5893b65/bnmp_scraper-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}