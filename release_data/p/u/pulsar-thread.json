{
    "0.1.0": {
        "info": {
            "author": "hongbo liu",
            "author_email": "782027465@qq.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: Apache Software License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://gitee.com/maxbanana/pulsar",
            "keywords": "",
            "license": "Apache",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pulsar-thread",
            "package_url": "https://pypi.org/project/pulsar-thread/",
            "platform": "",
            "project_url": "https://pypi.org/project/pulsar-thread/",
            "project_urls": {
                "Homepage": "https://gitee.com/maxbanana/pulsar"
            },
            "release_url": "https://pypi.org/project/pulsar-thread/0.1.0/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "A connect pulsar message queue package, support multi-threaded production and consumption",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12153591,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "f92900749e93e070e16e80b787cb2ef4",
                    "sha256": "89df0f96cce30ffa1e045bafb18913bead0cb0050a8f53a41109590e9b7cc1d6"
                },
                "downloads": -1,
                "filename": "pulsar-thread-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "f92900749e93e070e16e80b787cb2ef4",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 9348,
                "upload_time": "2021-11-28T18:30:49",
                "upload_time_iso_8601": "2021-11-28T18:30:49.839455Z",
                "url": "https://files.pythonhosted.org/packages/e6/d5/b998dbae00929a7fc14d4bac540b61eb1a9feb0157e8a1c134f418f284aa/pulsar-thread-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.1": {
        "info": {
            "author": "hongbo liu",
            "author_email": "782027465@qq.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: Apache Software License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://gitee.com/maxbanana/pulsar",
            "keywords": "",
            "license": "Apache",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pulsar-thread",
            "package_url": "https://pypi.org/project/pulsar-thread/",
            "platform": "",
            "project_url": "https://pypi.org/project/pulsar-thread/",
            "project_urls": {
                "Homepage": "https://gitee.com/maxbanana/pulsar"
            },
            "release_url": "https://pypi.org/project/pulsar-thread/0.1.1/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "A connect pulsar message queue package, support multi-threaded production and consumption",
            "version": "0.1.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12153591,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "d790ac4e01f5acc388060f14afe5b636",
                    "sha256": "4b1e504f44dec85e06bce3f1f979a69f4772f46aec75c0804a3b0d4c23319a07"
                },
                "downloads": -1,
                "filename": "pulsar-thread-0.1.1.tar.gz",
                "has_sig": false,
                "md5_digest": "d790ac4e01f5acc388060f14afe5b636",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 9452,
                "upload_time": "2021-11-29T11:20:32",
                "upload_time_iso_8601": "2021-11-29T11:20:32.622812Z",
                "url": "https://files.pythonhosted.org/packages/00/e7/8d7d35a025d609219405a153fa76610b7cf302a46cf773257244bd9c0547/pulsar-thread-0.1.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.2": {
        "info": {
            "author": "hongbo liu",
            "author_email": "782027465@qq.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: Apache Software License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://gitee.com/maxbanana/pulsar",
            "keywords": "",
            "license": "Apache",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pulsar-thread",
            "package_url": "https://pypi.org/project/pulsar-thread/",
            "platform": "",
            "project_url": "https://pypi.org/project/pulsar-thread/",
            "project_urls": {
                "Homepage": "https://gitee.com/maxbanana/pulsar"
            },
            "release_url": "https://pypi.org/project/pulsar-thread/0.1.2/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "A connect pulsar message queue package, support multi-threaded production and consumption",
            "version": "0.1.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12153591,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "f559b8b983c38df0f282679e8dceffcf",
                    "sha256": "a94a1d28eb7e785ffd00c18c9354903ec7caa6647950917c9b42639b87bdf2aa"
                },
                "downloads": -1,
                "filename": "pulsar-thread-0.1.2.tar.gz",
                "has_sig": false,
                "md5_digest": "f559b8b983c38df0f282679e8dceffcf",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 9458,
                "upload_time": "2021-11-29T11:43:09",
                "upload_time_iso_8601": "2021-11-29T11:43:09.061128Z",
                "url": "https://files.pythonhosted.org/packages/38/0e/72e997fc2475b8015c6a56b5b19612b2692f9d2da7478df8585b24e4b8b3/pulsar-thread-0.1.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.1.3": {
        "info": {
            "author": "hongbo liu",
            "author_email": "782027465@qq.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: Apache Software License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "# pulsar-thread\n\n### \u4e00\u3001\u4ecb\u7ecd\n\u4e00\u4e2a\u8fde\u63a5pulsar\u6d88\u606f\u961f\u5217\u7684\u5305\uff0c\u4f18\u70b9\u662f\uff1a\u652f\u6301\u591a\u7ebf\u7a0b\u751f\u4ea7\u548c\u6d88\u8d39\u3002\n\nA connect pulsar message queue package, support multi-threaded production and consumption.\n\n1.  \u672c\u5305\u662f\u4ee5pulsar-client\u4e3a\u57fa\u7840\u521b\u5efa\u7684\n2.  pulsar-client\u4f7f\u7528\u94fe\u63a5\uff1ahttps://pulsar.apache.org/docs/en/client-libraries-python/\n3.  \u9ed8\u8ba4 schema=pulsar.schema.StringSchema()\n4.  \u82e5\u60f3\u4f7f\u7528\u5176\u4ed6\u7684schema\uff0c \u4f7f\u7528\u65b9\u6cd5\u4e0epulsar-client\u76f8\u540c, \u8be6\u60c5\u53ef\u770b\u4e0a\u9762pulsar-client\u4f7f\u7528\u94fe\u63a5\n5.  \u9ed8\u8ba4\u7684\u591a\u7ebf\u7a0b\u6700\u5927\u6570thread_count\u4e3a5\u4e2a\n\n### \u4e8c\u3001\u4f7f\u7528\u8bf4\u660e\n\n#### 1. \u8fde\u63a5 \uff08client\uff09\n\n     import pulsar_thread as pt\n     client = pt.client('pulsar://0.0.0.0:6655')\n     \n     #\u8bf7\u5c06 0.0.0.0:6655 \u6362\u6210\u4f60\u7684pulsar\u5730\u5740\n\n#### 2. \u751f\u4ea7\u8005\uff08producer\uff09\n\n     import json\n     import pulsar_thread as pt\n     \n     # 1. \u8fde\u63a5client\n     client = pt.client('pulsar://0.0.0.0:6655')\n        \n     # \u6a21\u62df\u8981\u53d1\u9001\u7684\u6570\u636e\n     data = {'name':'jack', 'age':25, 'have': ['item1', 'item2']}\n     data2 = {'name':'rose', 'age':28, 'have': ['item1', 'item2']}\n     data3 = {'name':'joe', 'age':28, 'have': ['item1', 'item2']}\n     data4 = {'name':'mark', 'age':28, 'have': ['item1', 'item2']}\n     \n     # 2. \u5c06\u8981\u53d1\u9001\u7684\u6570\u636e\u548ctopic\u7ec4\u5408\u6210\u5b57\u5178\n     # {'topic_1': msg_1, ... , 'topic_n': msg_n}\n     \n     data_dict = {'test1':[json.dumps(data), json.dumps(data2)], 'test2':[json.dumps(data3), json.dumps(data4)]}\n     \n     # 3. \u521b\u5efa\u751f\u4ea7\u8005\n     producer = client.create_producer()\n     \n     \n     # 4. \u53d1\u9001\u6d88\u606f \n     # \u53ef\u9009 4.1 \u540c\u6b65\u53d1\u9001send \u6216 4.2 \u5f02\u6b65\u53d1\u9001send_async\n     \n     # 4.1 \u540c\u6b65\u53d1\u9001\n     # \u53ef\u9009 4.1.1 \u9ed8\u8ba4\u6a21\u5f0f \u6216 4.1.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n     \n     # 4.1.1 \u9ed8\u8ba4\u6a21\u5f0f\n     # \u9ed8\u8ba4\u53c2\u6570\uff1athread_count=5, schema=pulsar.schema.StringSchema()\n     # \u9ed8\u8ba4\u591a\u7ebf\u7a0b\u6700\u5927\u6570thread_count\u4e3a5\u4e2a, schema\u662f\u4ee5StringSchema()\u5b57\u7b26\u4e32\u6a21\u5f0f\n     \n     result = producer.send(data_dict)\n     \n     # 4.1.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n     # schema\u53c2\u6570\u8bbe\u7f6e\u89c4\u8303\u8be6\u89c1pulsar-client\u7684\u4f7f\u7528\n     \n     result = producer.send_async(data_dict,\n                                  thread_count=10,\n                                  schema=pulsar.schema.StringSchema()) \n     \n     # 4.2 \u5f02\u6b65\u53d1\u9001\n     # \u53ef\u9009 4.2.1 \u9ed8\u8ba4\u6a21\u5f0f \u6216 4.2.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n     \n     # 4.2.1 \u9ed8\u8ba4\u6a21\u5f0f\n     # \u9ed8\u8ba4\u53c2\u6570\uff1acallback=None, thread_count=5, schema=pulsar.schema.StringSchema()\n     # \u9ed8\u8ba4\u56de\u8c03\u51fd\u6570callback\u4e3aNone, \u591a\u7ebf\u7a0b\u6700\u5927\u6570thread_count\u4e3a5\u4e2a, schema\u662f\u4ee5StringSchema()\u5b57\u7b26\u4e32\u6a21\u5f0f\n     \n     result = producer.send_async(data_dict)\n     \n     # 4.2.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\uff08callback\uff0c schema\u53c2\u6570\u8bbe\u7f6e\u89c4\u8303\u8be6\u89c1pulsar-client\u7684\u4f7f\u7528\uff09\n     \n     result = producer.send_async(data_dict, \n                                  callback=None,\n                                  thread_count=10,\n                                  schema=pulsar.schema.StringSchema()) \n     \n\n#### 3.\u6d88\u8d39\u8005\uff08consumer\uff09\n\n    import json\n    import pulsar_thread as pt\n\n    # \u4e1a\u52a1\u7a0b\u5e8f\uff0c\u5904\u7406\u6d88\u606f\u961f\u5217\u53d1\u6765\u7684\u6d88\u606f\n    # msg \u662f \u63a5\u6536\u7684\u6d88\u606f\u961f\u5217\u4f20\u6765\u7684\u6d88\u606f\n    def deal_msg(msg):\n        print(msg.value())\n        import time\n        time.sleep(5)\n        print(json.loads(msg.data()))\n\n    # 1. \u8fde\u63a5\n    client = pt.client('pulsar://0.0.0.0:6655')\n    \n    # 2. \u521b\u5efaconsumer\n    # \u53ef\u4ece\u591a\u4e2a topic \u91cc\u63a5\u6536\u6570\u636e\n    # \u9ed8\u8ba4\u63a5\u6536\u7684 schema=pulsar.schema.StringSchema()\n    # \u683c\u5f0f\uff1aconsumer = client.create_consumer(['topic_1', ......, 'topic_n'], \u6d88\u8d39\u8005\u7684\u540d\u5b57, schema=pulsar.schema.StringSchema())\n    \n    \n    consumer = client.create_consumer(['test1', 'test2'], 'my-subscription')\n    \n    \n    # 3. \u63a5\u6536\u6570\u636e\u5e76\u7528\u4e1a\u52a1\u7a0b\u5e8f\uff08\u4f8b\uff1adeal_msg\uff09\u5904\u7406\n    # \u53ef\u9009 3.1  \u5355\u7ebf\u7a0b\u5904\u7406 consumer.receive() \u6216 \n    # 3.2 \u591a\u7ebf\u7a0b\u5904\u7406 consumer.receive_thread()\n    \n    \n    # 3.1  \u5355\u7ebf\u7a0b\u5904\u7406\n    # \u53ef\u9009 3.1.1 \u9ed8\u8ba4\u6a21\u5f0f \u6216 3.1.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n    # \u963b\u585e\u6a21\u5f0f\uff0c\u6d88\u8d39\u4e00\u4e2a\uff0c\u4e1a\u52a1\u7a0b\u5e8f\u5904\u7406\u4e00\u4e2a\uff0c\u4e1a\u52a1\u7a0b\u5e8f\u5904\u7406\u5b8c\u6210\uff0c\u518d\u6d88\u8d39\u4e0b\u4e00\u4e2a\n    \n    # 3.1.1 \u9ed8\u8ba4\u6a21\u5f0f\n    # \u9ed8\u8ba4\u53c2\u6570\uff1atimeout_millis=None, logger=None\n    # \u9ed8\u8ba4 \u8ba2\u9605\u8d85\u65f6\u9650\u5236 timeout_millis(\u614e\u7528) \u4e3a None, \u5355\u4f4d\u4e0ams\n    # \u9ed8\u8ba4 \u65e5\u5fd7\u6536\u96c6\u5668logger \u4e3a None\n    \n    \n    consumer.receive(deal_msg)\n    \n    \n    # 3.1.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n    \n    import logging,sys\n\n    def LogSet():\n        # \u83b7\u53d6logger\u5b9e\u4f8b\uff0c\u5982\u679c\u53c2\u6570\u4e3a\u7a7a\u5219\u8fd4\u56deroot logger\n        logger = logging.getLogger(\"test.log\")\n        # \u6307\u5b9alogger\u8f93\u51fa\u683c\u5f0f\n        formatter = logging.Formatter('%(asctime)s %(pathname)s %(lineno)d %(levelname)-8s: %(message)s')\n        # \u6587\u4ef6\u65e5\u5fd7\n        file_handler = logging.FileHandler(\"./test.log\")\n        file_handler.setFormatter(formatter)  # \u53ef\u4ee5\u901a\u8fc7setFormatter\u6307\u5b9a\u8f93\u51fa\u683c\u5f0f\n        # \u63a7\u5236\u53f0\u65e5\u5fd7\n        console_handler = logging.StreamHandler(sys.stdout)\n        console_handler.formatter = formatter  # \u4e5f\u53ef\u4ee5\u76f4\u63a5\u7ed9formatter\u8d4b\u503c\n        # \u4e3alogger\u6dfb\u52a0\u7684\u65e5\u5fd7\u5904\u7406\u5668\n        logger.addHandler(file_handler)\n        logger.addHandler(console_handler)\n        # \u6307\u5b9a\u65e5\u5fd7\u7684\u6700\u4f4e\u8f93\u51fa\u7ea7\u522b\uff0c\u9ed8\u8ba4\u4e3aWARN\u7ea7\u522b\n        logger.setLevel(logging.DEBUG)\n        # \u79fb\u9664\u4e00\u4e9b\u65e5\u5fd7\u5904\u7406\u5668\n        return logger, file_handler\n    \n    # \u83b7\u53d6 logger\n    logger,_=LogSet()\n    \n    consumer.receive(deal_msg, timeout_millis=5000, logger=logger)\n    \n    # 3.2 \u591a\u7ebf\u7a0b\u5904\u7406\n    # \u53ef\u9009 3.2.1 \u9ed8\u8ba4\u6a21\u5f0f \u6216 3.2.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n    # \u53ef\u4ee5\u4f7f\u7528\u591a\u7ebf\u7a0b\u8fdb\u884c\u5e76\u53d1\u6d88\u8d39\uff0c\u5904\u7406\u4e1a\u52a1\u6570\u636e\uff0c\u63d0\u9ad8\u6548\u7387\n    \n    \n    # 3.2.1 \u9ed8\u8ba4\u6a21\u5f0f\n    # \u9ed8\u8ba4\u53c2\u6570\uff1athread_count=5, timeout_millis=None, logger=None\n    # \u9ed8\u8ba4 \u6700\u5927\u7ebf\u7a0b\u6570thread_count\u4e3a5\u4e2a\n    # \u9ed8\u8ba4 \u8ba2\u9605\u8d85\u65f6\u9650\u5236 timeout_millis(\u614e\u7528) \u4e3a None, \u5355\u4f4d\u4e0ams\n    # \u9ed8\u8ba4 \u65e5\u5fd7\u6536\u96c6\u5668logger \u4e3a None\n    \n    consumer.receive_thread(deal_msg)\n    \n    # 3.1.2 \u81ea\u5b9a\u4e49\u6a21\u5f0f\n    \n    # \u4f8b 1\n    consumer.receive_thread(deal_msg, 2)\n    \n    # \u4f8b 2\n    consumer.receive_thread(deal_msg, 10, timeout_millis=5000, logger=logger)\n\n\n### \u4e09\u3001\u4f7f\u7528 pulsar-client\uff08pulsar.Client\uff09\u8fde\u63a5\u65f6\n\npulsar_thread\u7684create_producer\u548ccreate_consumer\u7684\u4f7f\u7528\n\n##### 1. \u751f\u4ea7\u8005\uff08producer\uff09\n\n\n    import json\n    import pulsar_thread as pt\n    import pulsar\n    \n    # \u4f7f\u7528 pulsar \u8fde\u63a5\n    client = pulsar.Client('pulsar://0.0.0.0:6655')\n    \n    data = {'name':'jack', 'age':25, 'have': ['item1', 'item2']}\n    data2 = {'name':'rose', 'age':28, 'have': ['item1', 'item2']}\n    data3 = {'name':'joe', 'age':28, 'have': ['item1', 'item2']}\n    data4 = {'name':'mark', 'age':28, 'have': ['item1', 'item2']}\n    \n    data_dict = {'test1':[json.dumps(data), json.dumps(data2)], 'test2':[json.dumps(data3), json.dumps(data4)]}\n    \n    # \u4f7f\u7528 pulsar_thread \u521b\u5efa\u751f\u4ea7\u8005\n    producer = pt.create_producer(client)\n    \n    result = producer.send(data_dict)\n    \n##### 2. \u6d88\u8d39\u8005\uff08consumer\uff09\n\n\n    import json\n    import pulsar_thread as pt\n    import pulsar\n    \n    \n    def deal_msg(msg):\n        print(msg.value())\n        import time\n        time.sleep(5)\n        print(json.loads(msg.data()))\n    \n    # \u4f7f\u7528 pulsar \u8fde\u63a5\n    client = pulsar.Client('pulsar://0.0.0.0:6655')\n    \n    # \u4f7f\u7528 pulsar_thread \u521b\u5efa\u6d88\u8d39\u8005\n    consumer = pt.create_consumer(client, ['test1', 'test2'], 'my-subscription')\n    \n    consumer.receive_thread(deal_msg, 2)\n    \n\n### \u56db\u3001\u5173\u4e8eschema\u6a21\u5f0f\n\n##### 1. schema\u652f\u6301\u7684\u6a21\u5f0f\n\n| schema | note |\n|:--------:|:-------------:|\n| BytesSchema | Get the raw payload as a bytes object. No serialization/deserialization are performed. This is the default schema mode |\n| StringSchema | Encode/decode payload as a UTF-8 string. Uses str objects |\n| JsonSchema | Require record definition. Serializes the record into standard JSON payload |\n| AvroSchema | Require record definition. Serializes in AVRO format |\n\n\n##### 2. schema\u53c2\u6570\u7528\u6cd5\u548cpulsar-client\u76f8\u540c\n\u82e5\u60f3\u62d3\u5c55\u4f7f\u7528schema\uff0c\u8bf7\u79fb\u6b65\u81f3pulsar-client\u6587\u6863\uff0c\u9605\u8bfb\u4f7f\u7528schema\u3002\npulsar-client\u6587\u6863\u94fe\u63a5\uff1ahttps://pulsar.apache.org/docs/en/client-libraries-python/\n    \n\n\n\n\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://gitee.com/maxbanana/pulsar",
            "keywords": "",
            "license": "Apache",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pulsar-thread",
            "package_url": "https://pypi.org/project/pulsar-thread/",
            "platform": "",
            "project_url": "https://pypi.org/project/pulsar-thread/",
            "project_urls": {
                "Homepage": "https://gitee.com/maxbanana/pulsar"
            },
            "release_url": "https://pypi.org/project/pulsar-thread/0.1.3/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "A connect pulsar message queue package, support multi-threaded production and consumption",
            "version": "0.1.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12153591,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "3bde27528282b91b83aea8988ccd40f7",
                    "sha256": "f9737169c0bd489ec911ef8a968eb75a20cc4c172cffca7f1c3b06759f958571"
                },
                "downloads": -1,
                "filename": "pulsar-thread-0.1.3.tar.gz",
                "has_sig": false,
                "md5_digest": "3bde27528282b91b83aea8988ccd40f7",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 9437,
                "upload_time": "2021-11-29T11:47:41",
                "upload_time_iso_8601": "2021-11-29T11:47:41.453012Z",
                "url": "https://files.pythonhosted.org/packages/29/f2/1048f79e0484aeb03565c4dfeca3f223ae5b2d77ac5f89b5db3474a4f7b5/pulsar-thread-0.1.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}