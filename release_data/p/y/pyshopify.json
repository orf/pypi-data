{
    "0.9.0": {
        "info": {
            "author": "Joseph Trabulsy",
            "author_email": "webdjoe@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.8"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/pyshopify",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyshopify",
            "package_url": "https://pypi.org/project/pyshopify/",
            "platform": "",
            "project_url": "https://pypi.org/project/pyshopify/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pyshopify/issues",
                "Homepage": "https://github.com/pyshopify"
            },
            "release_url": "https://pypi.org/project/pyshopify/0.9.0/",
            "requires_dist": [
                "click (>=8.0.1)",
                "numpy (>=1.20.3)",
                "pandas (>=1.2.4)",
                "python-dateutil",
                "requests (>=2.20)",
                "six"
            ],
            "requires_python": ">=3.8",
            "summary": "Shopify Order API library with containeriezed MS SQL database",
            "version": "0.9.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14806938,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "dd29b0072b6e5d9713bd2ac98dd7580a",
                    "sha256": "ded98d9663815f259d70192243256d851e750a2909c17e39a6170b83a83d0409"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "dd29b0072b6e5d9713bd2ac98dd7580a",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 14140,
                "upload_time": "2021-06-26T00:48:24",
                "upload_time_iso_8601": "2021-06-26T00:48:24.463484Z",
                "url": "https://files.pythonhosted.org/packages/d9/36/0ab186aa7b2b43a457eccdb9523a1f526f10693417a4c2827be40bf0c541/pyshopify-0.9.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "519cbd3ce6677f65043821ca66da5c1f",
                    "sha256": "0305497f58dcb5042690ed37a13a4737211f0edc047687e08ba4cc860113abeb"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.0.tar.gz",
                "has_sig": false,
                "md5_digest": "519cbd3ce6677f65043821ca66da5c1f",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 15968,
                "upload_time": "2021-06-26T00:48:25",
                "upload_time_iso_8601": "2021-06-26T00:48:25.802069Z",
                "url": "https://files.pythonhosted.org/packages/7c/49/427fc323c6355a186413b1eeba7d84173cafe81a3fa9dc958857fddf8aa1/pyshopify-0.9.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.9.1": {
        "info": {
            "author": "Joseph Trabulsy",
            "author_email": "webdjoe@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.8"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/pyshopify",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyshopify",
            "package_url": "https://pypi.org/project/pyshopify/",
            "platform": "",
            "project_url": "https://pypi.org/project/pyshopify/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pyshopify/issues",
                "Homepage": "https://github.com/pyshopify"
            },
            "release_url": "https://pypi.org/project/pyshopify/0.9.1/",
            "requires_dist": [
                "click (>=8.0.1)",
                "numpy (>=1.20.3)",
                "pandas (>=1.2.4)",
                "python-dateutil",
                "requests (>=2.20)",
                "six"
            ],
            "requires_python": ">=3.8",
            "summary": "Shopify Order API library with containeriezed MS SQL database",
            "version": "0.9.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14806938,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "030846771f7e8af7a4472c49c83526a4",
                    "sha256": "c1356c2b76c29f9c3e8eb66d17040cb64c2196c846c4588fccff8355b5279baf"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "030846771f7e8af7a4472c49c83526a4",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 14182,
                "upload_time": "2021-06-26T01:09:27",
                "upload_time_iso_8601": "2021-06-26T01:09:27.212942Z",
                "url": "https://files.pythonhosted.org/packages/28/f1/f0d31421a70f5da6becd117b9cae7a9e78915b6c6c1ada52556fb4ae3634/pyshopify-0.9.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "58169ac620127b4ac3257fa16ab1101a",
                    "sha256": "7e9cd9bfa9ac362d3753de985d6bafe2ac7580e737dd871a91e070de520e341e"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.1.tar.gz",
                "has_sig": false,
                "md5_digest": "58169ac620127b4ac3257fa16ab1101a",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 16028,
                "upload_time": "2021-06-26T01:09:28",
                "upload_time_iso_8601": "2021-06-26T01:09:28.471292Z",
                "url": "https://files.pythonhosted.org/packages/a7/cb/7a91955ae63ac57802921f62165e63d8e9ba2e513cca96f213a1d7b20ead/pyshopify-0.9.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.9.2": {
        "info": {
            "author": "Joseph Trabulsy",
            "author_email": "webdjoe@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.8"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/pyshopify",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyshopify",
            "package_url": "https://pypi.org/project/pyshopify/",
            "platform": "",
            "project_url": "https://pypi.org/project/pyshopify/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pyshopify/issues",
                "Homepage": "https://github.com/pyshopify"
            },
            "release_url": "https://pypi.org/project/pyshopify/0.9.2/",
            "requires_dist": [
                "click (>=8.0.1)",
                "numpy (>=1.20.3)",
                "pandas (>=1.2.4)",
                "python-dateutil",
                "requests (>=2.20)",
                "six"
            ],
            "requires_python": ">=3.8",
            "summary": "Shopify Order API library with containeriezed MS SQL database",
            "version": "0.9.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14806938,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "983ccface811aa9cdd4ee355abf9e8e2",
                    "sha256": "b47c4bace5f530ae224f7b6314ee829d343c7e156ba95f38994720a30db7b251"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "983ccface811aa9cdd4ee355abf9e8e2",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.8",
                "size": 14507,
                "upload_time": "2021-06-26T01:31:56",
                "upload_time_iso_8601": "2021-06-26T01:31:56.124659Z",
                "url": "https://files.pythonhosted.org/packages/eb/96/fccada9df376d6c44cefd4edc6540db62c53b66ac4a3675b8aef93fd04b3/pyshopify-0.9.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "2087933e460833241fb8db6e15f26f94",
                    "sha256": "441d6924384ea063a0f9c1d270782e3766976d3631b58b3a477b530ff88fd31f"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.2.tar.gz",
                "has_sig": false,
                "md5_digest": "2087933e460833241fb8db6e15f26f94",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.8",
                "size": 16670,
                "upload_time": "2021-06-26T01:31:58",
                "upload_time_iso_8601": "2021-06-26T01:31:58.495421Z",
                "url": "https://files.pythonhosted.org/packages/61/71/74a772684155d64e09487005daa8f0610838e0b8ad0543ad5bd4e61ca98b/pyshopify-0.9.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.9.3": {
        "info": {
            "author": "Joseph Trabulsy",
            "author_email": "webdjoe@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.8"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/pyshopify",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyshopify",
            "package_url": "https://pypi.org/project/pyshopify/",
            "platform": "",
            "project_url": "https://pypi.org/project/pyshopify/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pyshopify/issues",
                "Homepage": "https://github.com/pyshopify"
            },
            "release_url": "https://pypi.org/project/pyshopify/0.9.3/",
            "requires_dist": [
                "click (>=8.0.1)",
                "numpy (>=1.20.3)",
                "pandas (>=1.2.4)",
                "python-dateutil",
                "requests (>=2.20)",
                "six"
            ],
            "requires_python": ">=3.7",
            "summary": "Shopify Order API library with containeriezed MS SQL database",
            "version": "0.9.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14806938,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "07e181a487eb7f2646ef889f6d1121d0",
                    "sha256": "f785330b45260f9e50c5fda4639305d514296ba5ef542b4cff6177ee04345950"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "07e181a487eb7f2646ef889f6d1121d0",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 15224,
                "upload_time": "2021-06-28T05:18:24",
                "upload_time_iso_8601": "2021-06-28T05:18:24.987666Z",
                "url": "https://files.pythonhosted.org/packages/ab/f9/952cdde4a1e2f80da9dfa085e9e5e7d9f56653bfe3c715c494590ca6ce21/pyshopify-0.9.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "7573f01f93f48349b52cdf8ad275b2ed",
                    "sha256": "d0b0500874cb30134817784af817aac0f767af67476524538f19f0fea25d5c55"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.3.tar.gz",
                "has_sig": false,
                "md5_digest": "7573f01f93f48349b52cdf8ad275b2ed",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 17397,
                "upload_time": "2021-06-28T05:18:26",
                "upload_time_iso_8601": "2021-06-28T05:18:26.926579Z",
                "url": "https://files.pythonhosted.org/packages/d6/32/8bf0fe7156805bb8bb781cc54fab2bb6b0ca94ba8a1bc132583e6927b5a2/pyshopify-0.9.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.9.4": {
        "info": {
            "author": "Joseph Trabulsy",
            "author_email": "webdjoe@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.8"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/pyshopify",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyshopify",
            "package_url": "https://pypi.org/project/pyshopify/",
            "platform": "",
            "project_url": "https://pypi.org/project/pyshopify/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pyshopify/issues",
                "Homepage": "https://github.com/pyshopify"
            },
            "release_url": "https://pypi.org/project/pyshopify/0.9.4/",
            "requires_dist": [
                "click (>=8.0.1)",
                "numpy (>=1.20.3)",
                "pandas (>=1.2.4)",
                "python-dateutil",
                "requests (>=2.20)",
                "six"
            ],
            "requires_python": ">=3.7",
            "summary": "Shopify Order API library with containeriezed MS SQL database",
            "version": "0.9.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14806938,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "397eff0ac513cbebdacdbac339b1dbd6",
                    "sha256": "c2026500aee92ca806baf50504db249b3235b15c452a09149b5e67127f904abc"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.4-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "397eff0ac513cbebdacdbac339b1dbd6",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 18029,
                "upload_time": "2021-07-04T19:44:23",
                "upload_time_iso_8601": "2021-07-04T19:44:23.364073Z",
                "url": "https://files.pythonhosted.org/packages/be/6f/8ea1c025cd113f64f2395e038a5a3b2276b9e5517080219e159d0e0faaec/pyshopify-0.9.4-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "5a6303265dcbb0c063f2d7165d1ca6df",
                    "sha256": "9a40661bf5d8956411285a310a85ebbe8b819796410919607a9935ce88b7cf82"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.4.tar.gz",
                "has_sig": false,
                "md5_digest": "5a6303265dcbb0c063f2d7165d1ca6df",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 22101,
                "upload_time": "2021-07-04T19:44:26",
                "upload_time_iso_8601": "2021-07-04T19:44:26.340387Z",
                "url": "https://files.pythonhosted.org/packages/20/c9/b4642ae1d1e6da7323da838d5d9b82a6cf1cb61335caa60c3d697eb5d58c/pyshopify-0.9.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.9.9": {
        "info": {
            "author": "Joseph Trabulsy",
            "author_email": "webdjoe@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "# Shopify Orders Rest API Wrapper and Data Export\n\nThe purpose of this repository is to allow easier Shopify data analysis using any SQL or and BI tools that support sql. Shopify's rest API is not data analysis friendly, returning one large, denormalized dataset. This library yields a more normalized dataset that can be used to populate a database or perform a direct analysis.\n\nThis repository has two part -\n\n1) Python app - pulls data from shopify orders api into dataframes and export to csv files or sql database with a predefined structure.\n2) Docker container - [Dockerfile](Dockerfile) and [Docker Compose](docker-compose.yml) - fully self-contained database and python application. Easiest method if docker is available- [Run as Docker Container](#docker-container)\n\nThis has the flexibility of exporting the data to a SQL Server ( along with other relational dbs), exporting to csv and returning a dictionary of dataframes.\n\nThe Structure of the SQL Database is described in depth in the [Docs](docs) folder, an SQL script to build the database is in the scripts folder [setup.sql](scripts/setup.sql).\n\nThis requires the creation of a private app in the Shopify Admin center -> Setting -> Apps and Sales Channels -> Develop Apps.\n\n## Table of Contents\n\n- [Shopify Orders Rest API Wrapper and Data Export](#shopify-orders-rest-api-wrapper-and-data-export)\n  - [Table of Contents](#table-of-contents)\n  - [Data Returned](#data-returned)\n    - [Orders Data](#orders-data)\n    - [Customers Data](#customers-data)\n    - [Product Data](#product-data)\n  - [Configuration](#configuration)\n    - [Default Configuration](#default-configuration)\n    - [Environment Variables](#environment-variables)\n    - [Example `config.ini` Configuration](#example-configini-configuration)\n    - [Configuration Dictionary](#configuration-dictionary)\n  - [Installation](#installation)\n    - [Base Library](#base-library)\n    - [Library with SQL Driver](#library-with-sql-driver)\n    - [Installing ODBC Driver](#installing-odbc-driver)\n    - [Installing Python SQL Dependencies](#installing-python-sql-dependencies)\n  - [Running in a Python Script](#running-in-a-python-script)\n    - [Instantiating Class](#instantiating-class)\n    - [Updating Configuration](#updating-configuration)\n      - [Full Configuration Dictionary](#full-configuration-dictionary)\n      - [Shopify Configuration Dictionary](#shopify-configuration-dictionary)\n    - [Getting Product and Inventory Data](#getting-product-and-inventory-data)\n    - [Returning Full Dataset in a Dictionary of DataFrames](#returning-full-dataset-in-a-dictionary-of-dataframes)\n    - [Iterating through Data](#iterating-through-data)\n    - [Writing to CSV and SQL Server](#writing-to-csv-and-sql-server)\n      - [Writing data to desired output](#writing-data-to-desired-output)\n  - [Running as Command Line Application](#running-as-command-line-application)\n  - [Data Structure](#data-structure)\n  - [Database Structure](#database-structure)\n    - [Database Working Tables](#database-working-tables)\n    - [Orders Tables](#orders-tables)\n    - [Products Tables](#products-tables)\n  - [Database script](#database-script)\n  - [Docker Container](#docker-container)\n    - [Docker Compose](#docker-compose)\n    - [Creating a Container](#creating-a-container)\n    - [Running pyshopify in the container](#running-pyshopify-in-the-container)\n    - [Setting up a cron job](#setting-up-a-cron-job)\n\n## Data Returned\n\nThe following is a brief summary of the data being returned. The keys of the return dictionary match the table names of the database structure. The DataFrame columns match the columns of each table. For a detailed view of the structure of each DataFrame, see the database documentation.\n\n### Orders Data\n\n| Key/Table                                           | Description                                                                               |\n|-----------------------------------------------------|-------------------------------------------------------------------------------------------|\n| [Orders](docs/Tables/dbo.Orders.md)                 | Order ID's, date, pricing details, fulfilment status, financial status                    |\n| [OrderAttr](docs/Tables/dbo.OrderAttr.md)           | Attribution details of each order - landing page, source url, referral url, campaign      |\n| [LineItems](docs/Tables/dbo.LineItems.md)           | Order line items with order ID, date, quantity, product/variant ID's, sku, title, pricing |\n| [Adjustments](docs/Tables/dbo.Adjustments.md)       | Order Refund Adjustments                                                                  |\n| [DiscountApps](docs/Tables/dbo.DiscountApps.md)     | Discount Applications for Each Order                                                      |\n| [DiscountCodes](docs/Tables/dbo.DiscountCodes.md)   | Discount Codes In Use for Each Order                                                      |\n| [RefundLineItem](docs/Tables/dbo.RefundLineItem.md) | Refunded Units                                                                            |\n| [Refunds](docs/Tables/dbo.Refunds.md)               | Order Refunds                                                                             |\n| [ShipLines](docs/Tables/dbo.ShipLines.md)           | Order ID, shipping pricing, carrier, code, source, title                                  |\n\n### Customers Data\n\n| Key/Table                                           | Description                                                        |\n|-----------------------------------------------------|--------------------------------------------------------------------|\n| [Customers](docs/Tables/dbo.Customers.md)           | Customer purchase totals, numbers of orders, last order, geography |\n\n### Product Data\n\n| Key/Table                                           | Description                                                        |\n|-----------------------------------------------------|--------------------------------------------------------------------|\n| [Products](docs/Tables/dbo.Products.md)           | Main product listing id, title, description, image, configuration |\n| [ProductVariants](docs/Tables/dbo.ProductVariants.md)           | Product Variant listings, title, sku inventory, options   |\n| [ProductOptions](docs/Tables/dbo.ProductOptions.md)           | Product Variant Options configuration and positioning   |\n\n## Configuration\n\nThe application can be configured three ways, starting with the lowest priority:\n\n1. Default configuration - loaded automatically\n2. Reading Environment Variables. When using the included docker container, these environment variables are automatically set from docker compose.\n3. File named `config.ini` in current working directory or with relative or absolute file path passed in as an argument `app = pyshopify.ShopifyApp(config_dir='/home/user/app/config.ini')`.\n4. Configuration dictionary with 'shopify', 'sql' and/or 'csv' keys as the ini file is structured.\n\n### Default Configuration\n\nThis is the default configuration automatically passed to `ShopifyApp` instance.\n\n```python\ndefault_configuration = {\n    'shopify': {\n        'items_per_page': 250,\n        'days': 7,\n        'admin_ep': '/admin/api/',\n        'customers_ep': 'customers.json',\n        'orders_ep': 'orders.json',\n        'version': '2022-07',\n        'time_zone': 'America/New_York',\n    },\n    'sql': {\n        'windows_auth': False,\n        'db': 'shop_rest',\n        'schema': 'dbo',\n        'server': 'localhost',\n        'port': 1433,\n        'user': 'shop_user',\n    },\n    'csv': {\n        'filepath': 'csv_export',\n    },\n}\n```\n\n### Environment Variables\n\n```bash\n# Shopify Environment Variables\n$ export SHOPIFY_ACCESS_TOKEN=<your access token>\n$ export SHOPIFY_STORE_NAME=<your store name>\n$ export SHOPIFY_API_VERSION=<Shopify api version> # ex. 2022-07\n# SQL Server Environment Variables\n$ export SHOPIFY_DB_USER=<your shopify db user>\n$ export SHOPIFY_DB_PASSWORD=<your shopify db password>\n$ export SHOPIFY_DB_NAME=<your shopify db name>\n$ export SHOPIFY_DB_SERVER=<your db server>\n$ export SHOPIFY_DB_SCHEMA=<your schema name>\n```\n\n### Example `config.ini` Configuration\n\nThe python script is configured through an ini based file using `configparser`. This is a template with all possible options:\n\n```ini\n[shopify]\n# Optional Configuration\norders_ep = orders.json\ncustomers_ep = customers.json\napi_version = 2022-07\napi_path = /admin/api/\nitems_per_page = 250\n\n# Required Configuration\nstore_name = ***STORE-NAME-IN-ADMIN-URL***\n# Shopify Access Token\naccess_token = ***ACCESS TOKEN FROM ADMIN***\n\n# Uncomment to get data between two dates\n# Overrides past days of history - Can be in 'YYYYMMDD' or 'MM-DD-YYYY' format\n# start = 20210610\n# end = 20210617\n\n# Get past days of history - 7 days is default\ndays = 30\n\n[sql]\n# Driver for pyodbc to use\ndriver = ODBC Driver 18 for SQL Server\n\n# Database server & port\nserver = ***DATABASE SERVER***\nport = 1433\ndatabase = ***DATABASE***\nschema = dbo\n# Database user & password\ndb_user = ***DB USER***\ndb_pass = ***DB PASSWORD***\n\nwindows_auth = False\n\n[csv]\n# Relative filepath of csv folder output\nfilepath = csv_export\n```\n\n### Configuration Dictionary\n\n```python\nfrom pyshopify.runner import ShopifyApp\nconfiguration = {\n    \"shopify\": {\n        \"access_token\": \"<your api key>\",\n        \"store_name\": \"<your store name>\",\n        \"api_version\": \"2022-07\",\n        \"days\": 7,\n    },\n    \"sql\": {\n        \"db\": \"shop_rest\",\n        \"server\": \"localhost\",\n        \"port\": 1433,\n        \"db_user\": \"shop_user\",\n        \"db_pass\": \"StrongerPassword1!\",\n        \"schema\": \"dbo\",\n    },\n    \"csv\": {\n        \"filepath\": \"csv_export\",\n    }\n}\n\napp = ShopifyApp(config_dict=configuration)\n\n```\n\n___\n\n## Installation\n\n### Base Library\n\nInstall from PyPi through `pip install`. This will install all required dependencies for running to export to CSV and return a dictionary of dataframes.\n\n```shell script\npython3 -m pip install pyshopify\n```\n\n### Library with SQL Driver\n\nIn order to use the sql output feature, the Microsoft ODBC driver, ODBC headers and SQL python packages need to be installed. \\\n\n### Installing ODBC Driver\n\nOn linux, msodbc18 needs to be installed first, then unixodbc headers. This is an example on Ubuntu (only compatible with 18.04, 20.04 & 21.04):\n\n```shell script\n$ sudo su\n# Install curl and gnupg2 if needed\n$ apt update && apt install curl gnupg2 lsb_release\n# Add Microsoft's Repository\n$ curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\n$ curl https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/prod.list > /etc/apt/sources.list.d/mssql-release.list\n# Install ODBC Driver and unixodbc-dev headers\n$ apt update && apt install -y msodbcsql18 unixodbc-dev\n```\n\nThe Windows ODBC driver can be found here [Microsoft SQL OBC Driver](https://docs.microsoft.com/en-us/sql/connect/odbc/windows/system-requirements-installation-and-driver-files?view=sql-server-ver15#installing-microsoft-odbc-driver-for-sql-server)\n\n### Installing Python SQL Dependencies\n\nOn Ubuntu or WSL:\n\n```shell script\n# Install python & venv if needed\n$ apt install python3.9 python3.9-dev python3-pip python3-venv git\n$ exit # exit sudo\n$ cd ~\n$ python3.9 -m venv ~/venv \n$ git clone https://github.com/webdjoe/pyshopify.git\n$ source ~/venv/bin/activate && pip install -r ./pyshopify/requirements.txt\n```\n\n___\n\n## Running in a Python Script\n\nThe primary class is `ShopifyApp()` which contains the necessary execution methods.\n\nCan be run two ways:\n\n### Instantiating Class\n\nInstantiating `ShopifyApp()` from the `pyshopify.runner` module. To get a dictionary of dataframes:\n\n```python\nfrom pyshopify.runner import ShopifyApp\n\n# Instantiate ShopifyApp() with a configuration dictionary or absolute or relative location of config.ini file\nshop_instance = ShopifyApp(config_dir='rel/dir/to/config.ini')\n\n# Use configuration dictionary above to instantiate ShopifyApp()\nshop_instance = ShopifyApp(config_dict=configuration)\n```\n\n### Updating Configuration\n\nThe configuration can be updated at any point with the `update_config()` method. This can update the dates or time period of the export.\n\n#### Full Configuration Dictionary\n\nA full configuration dictionary can be passed to `update_config()` and all methods that output to csv or sql server. A full configuration dictionary can hav sql, csv & shopify keys.\n\n```python\napp = ShopifyApp()\nupdated_config = {\n    \"shopify\": {\n        \"start\": \"20220110\",\n        \"end\": \"20220217\",\n    },\n    \"sql\": {\n        \"db\": \"shop_rest\"\n    }\n}\napp.update_config(updated_config)\n\n# Methods that write to csv or sql, accept the full configuration dictionary\nfull_config = {\n    \"shopify\": {\n        \"days\": 30\n    },\n    \"sql\": {\n        \"server\": \"localhost\"\n    }\n}\napp.write_sql(config=full_config)\n```\n\n#### Shopify Configuration Dictionary\n\nMethods that return or yield data, such as `orders/customers_full_df()`, `orders/customers_iterator()` and `get_full_df()` accept a shopify configuration dictionary.\n\n```python\n# Methods that return or yield datasets accept only the shopify configuration section\nshopify_config = {\n    \"days\": 30\n}\napp.return_full_df(shopify_config=shopify_config)\n\n```\n\n### Getting Product and Inventory Data\n\nProducts and variant data can be pulled into a dictionary of DataFrames or written to SQL Server or a CSV file.\n\n```python\nfrom pyshopify.runner import ShopifyApp()\napp = ShopifyApp()\n\n# Get all product and inventory data in a dictionary of dataframes\nproduct_details = app.get_products()\n# product_details = {\n#   Products: product_df,\n#   Variants: variant_df,\n#   ProductOptions: options_df\n# }\n\n# Get active product inventory\ninventory = app.get_active_inventory()\n# inventory = DataFrame with columns: \n# product_id, sku, title, inventory_quantity\n\n# Write Inventory to CSV or SQL Server\napp.products_writer(write_sql=True, write_csv=Tru, config_dict=None)\n\n# Write product and inventory directly to SQL Server\napp.products_to_sql(config_dict=None)\n```\n\n### Returning Full Dataset in a Dictionary of DataFrames\n\nA full dataset can be returned with the entire date range in one dictionary of dataframes. This should only be used with smaller date ranges to avoid memory issues.\n\nThe shopify configuration can optionally be passed to these methods as a single dictionary with just the Shopify configuration.\n\n```python\nfrom pyshopify.runner import ShopifyApp\napp = ShopifyApp()\n\nshopify_config = {\n    \"access_token\": \"<your api key>\",\n    \"store_name\": \"<your store name>\",\n    \"api_version\": \"2022-07\",\n    \"days\": 7\n}\n\n# Return full orders dataset\norders = app.orders_full_df(shopify_config=shopify_config)\norders.items()\n# Returns:\n#   [('Orders', <pandas.DataFrame>),\n#       ('Refunds', <pandas.DataFrame>),\n#       ('LineItems', <pandas.DataFrame>),\n#       ('RefundLineItem', <pandas.DataFrame>),\n#       ('Adjustments', <pandas.DataFrame>),\n#       ('DiscountApps', <pandas.DataFrame>),\n#       ('DiscountCodes', <pandas.DataFrame>),\n#       ('ShipLines', <pandas.DataFrame>),\n#       ('OrderAttr', <pandas.DataFrame>)]\n\n# Return full customers dataset\ncustomers = app.customers_full_df()\ncustomers.items()\n# Returns:\n#   [('Customers', <pandas.DataFrame>)]\n\n# Return full orders and customers dataset\nall_data = app.get_full_df(shopify_config=shopify_config)\nall_data.items()\n# Returns:\n#   [('Orders', <pandas.DataFrame>),\n#       ('Refunds', <pandas.DataFrame>),\n#       ('LineItems', <pandas.DataFrame>),\n#       ('RefundLineItem', <pandas.DataFrame>),\n#       ('Adjustments', <pandas.DataFrame>),\n#       ('DiscountApps', <pandas.DataFrame>),\n#       ('DiscountCodes', <pandas.DataFrame>),\n#       ('ShipLines', <pandas.DataFrame>),\n#       ('OrderAttr', <pandas.DataFrame>),\n#       ('Customers', <pandas.DataFrame>)]\n```\n\n### Iterating through Data\n\nFor larger datasets, it is recommended to use the generator methods to iterate through the paginated data. The return has in the same structure as the `get_full_df()` methods.\n\nA [shopify configuration dictionary](#shopify-configuration-dictionary) can be passed to these methods.\n\n```python\nfrom pyshopify.runner import ShopifyApp\napp = ShopifyApp()\n\n# A shopify configuration dictionary can be passed to all the generator methods\norders = app.orders_iterator(shopify_config=shopify_config)\n\n# Iterate through orders data\norders = app.orders_iterator()\n\nfor order_dict in orders:\n    order_dict.items()\n\n# Iterate through customers data\ncustomers = app.customers_iterator()\n\nfor customers_dict in customers:\n    customers_dict.items()\n```\n\n### Writing to CSV and SQL Server\n\nThere are several convenience methods that can be used to write the orders and customers data to CSV and SQL Server. The sql configuration can be passed directly to these methods, as the `engine` is only created during the first SQL method and stored as an instance variable `app.engine`\n\n#### Writing data to desired output\n\n```python\nfrom pyshopify.runner import ShopifyApp\n\n# No arguments defaults to attempt to read to a config.ini file in CWD\napp = ShopifyApp()\n\n# Main method that can write any combination of orders/customers data to csv/sql and set configuration\napp.data_writer(customers=True, orders=True,\n    write_sql=True, write_csv=True, config=full_config)\n\n### There are several convenience methods for easier calls:\n\n# Write only orders data to CSV and/or SQL\napp.orders_writer(write_sql=True, write_csv=True, config=full_config)\n\n# Write only customers data to CsV and/or SQL\napp.customers_writer(write_sql=True, write_csv=True, config=full_config)\n\n# Write customers and orders data to SQL\napp.sql_writer(config=full_config)\n\n# Write customers and orders data to CSV\napp.csv_writer(config=full_config)\n\n```\n\n## Running as Command Line Application\n\nFrom command line:\n\n```shell script\n# There are different command options\n$ shopify_cli --help\nUsage: shopify_cli [OPTIONS]\n\n  Run Shopify App CLI.\n\nOptions:\n  -d, --days INTEGER     get days of history\n  -b, --between TEXT...  get between 2 dates - yyyy-MM-dd, ex -b 2020-01-01\n                         2020-01-02\n  --sql-out / --no-sql   write to database - Default False\n  --csv-out / --no-csv   Write results to csv files - Default true\n  --csv-location TEXT    Relative location of csv export folder defaults to\n                         csv_export/\n  --config TEXT          Relative location of config.ini - defaults to\n                         config.ini in currect directory\n  --help                 Show this message and exit.\n\n# Default arguments are:\n$ shopify_cli -d 30 --csv-out --no-sql --config config.ini\n\n$ shopify_cli -d 30 # get last 30 days of orders and export to CSV in CWD/csv_export\n$ shopify_cli -b 2020-01-01 2020-01-02 # get orders between dates and export csv\n$ shopify_cli -d 30 --sql-out # update SQL db\n```\n\n## Data Structure\n\nThe structure of the custom return dictionary reflects the SQL database structure that it will update. See the [database docs](docs/tables.md) for full details on each table/DataFrame.\n\n```python\nfrom pyshopify import ShopifyApp\n\n# Enable custom in config.ini\nshop_app = ShopifyApp()\n\norders_dict = shop_app.orders_full_df()\n\norders_dict = {\n    'Orders': DataFrame,\n    'Refunds': DataFrame,\n    'LineItems': DataFrame,\n    'RefundLineItem': DataFrame,\n    'Adjustments': DataFrame,\n    'DiscountApps': DataFrame,\n    'DiscountCodes': DataFrame,\n    'ShipLines': DataFrame,\n    'OrderAttr': DataFrame\n}\n\ncustomers_dict = shop_app.customers_full_df()\n\ncustomers_dict = {\n    \"Customers\": DataFrame\n}\n\n```\n\n## Database Structure\n\nExporting SQL from API response is two-step process:\n\n1. Send DataFrame to temporary SQL Table\n2. Run merge statement to update database tables\n\nThe full database documentation is located [here](docs/tables.md)\n\nClick on each item for more details.\n\n**`shop_rest`** is the default database name.\n\n### [Database Working Tables](docs/tables.md)\n\n### Orders Tables\n\n| Key/Table                                           | Description                                                                               |\n|-----------------------------------------------------|-------------------------------------------------------------------------------------------|\n| [Orders](docs/Tables/dbo.Orders.md)                 | Order ID's, date, pricing details, fulfilment status, financial status                    |\n| [OrderAttr](docs/Tables/dbo.OrderAttr.md)           | Attribution details of each order - landing page, source url, referral url, campaign      |\n| [LineItems](docs/Tables/dbo.LineItems.md)           | Order line items with order ID, date, quantity, product/variant ID's, sku, title, pricing |\n| [Adjustments](docs/Tables/dbo.Adjustments.md)       | Order Refund Adjustments                                                                  |\n| [DiscountApps](docs/Tables/dbo.DiscountApps.md)     | Discount Applications for Each Order                                                      |\n| [DiscountCodes](docs/Tables/dbo.DiscountCodes.md)   | Discount Codes In Use for Each Order                                                      |\n| [RefundLineItem](docs/Tables/dbo.RefundLineItem.md) | Refunded Units                                                                            |\n| [Refunds](docs/Tables/dbo.Refunds.md)               | Order Refunds                                                                             |\n| [ShipLines](docs/Tables/dbo.ShipLines.md)           | Order ID, shipping pricing, carrier, code, source, title                                  |\n| [Customers](docs/Tables/dbo.Customers.md)           | Customer purchase totals, numbers of orders, last order, geography                        |\n\n\n### Products Tables\n\n| Key/Table                                           | Description                                                        |\n|-----------------------------------------------------|--------------------------------------------------------------------|\n| [Products](docs/Tables/dbo.Products.md)           | Main product listing id, title, description, image, configuration |\n| [ProductVariants](docs/Tables/dbo.ProductVariants.md)           | Product Variant listings, title, sku inventory, options   |\n| [ProductOptions](docs/Tables/dbo.ProductOptions.md)           | Product Variant Options configuration and positioning   |\n\n\nA [DateDimension](docs/Tables/dbo.DateDimension.md) table is included for easier analysis\n\n## Database script\n\nTo build the dataabse, run the [shopify.sql](scripts/shopify.sql) script in the `scripts` folder. The script should be run through `SQLCMD` with the following variables set. The database is built automatically with a new user that only has access to that database.\n\n- **DBName** - Name of database to create for data, default `shop_rest`\n- **DBUser** - Login & user to create for the shopify database, default `shop_user`\n- **DBPassword** - Database user password, default `Strongerpassword1!`\n- **DBSchema** - DB Schema - default `dbo`\n- **StartDate** - Starting date of DateDimension table - must be in YYYYMMDD format, default `20190101`\n\n```shell\n/opt/mssql-tools/bin/sqlcmd -S localhost -U sa -P \"SA_User_Password\" -d master \\\n-v StartDate=\"20190101\" -v DBName=\"shop_rest\" \\\n-v SchemaName=\"dbo\" -v DBUser=\"shop_user\" \\\n-v DBPassword=\"Strongerpassword1!\" \\\n-i /usr/scripts/shopify.sql\n```\n\n## Docker Container\n\nThe `Dockerfile` and `docker-compose.yml` files are based on the Microsoft SQL Server 2019 container running on Ubuntu 20.04. It hosts the database with the structure prebuilt and can run pyshopify from the commandline.\n\nBoth containers automatically deploy [shopify.sql](scripts/shopify.sql) to build the required database structure and create a user with access to that database.\n\nSet environment variables and SA password to configure the database in `docker-compose.yml`. Configure a volume for CSV export if needed\n\nThe `config.ini` should be mapped to the `/root` user directory inside the container. A csv folder can also be mapped to a local folder. This should match the relative csv filepath in the configuration file. The working directory is the root user's home directory.\n\n### Docker Compose\n\nThe docker compose file configures the db administrator and the shopify database user. The date dimension table is built based on the `STARTING_DATE` environment variable.\n\nThe default location of the `config.ini` file is in the root user dir, the container's working directory. The data directory volume is the db data folder and the csv_export folder can also be mapped to a local directory.\n\n```yaml\nversion: \"3.9\"\n\nservices:\n    sqlserver:\n        build: .\n        container_name: shop_sql\n        hostname: shop_sql\n        ports:\n            - \"1433:1433\"\n        environment:\n            ACCEPT_EULA: \"Y\"\n            SA_PASSWORD: \"TheStrongestpassword1!\"\n            MSSQL_SA_PASSWORD: \"TheStrongestpassword1!\"\n            SHOPIFY_DB_USER: \"shop_user\"\n            SHOPIFY_DB_PASSWORD: \"Strongerpassword1!\"\n            SHOPIFY_DB_NAME: \"shop_rest\"\n            SHOPIFY_DB_SCHEMA: \"dbo\"\n            STARTING_DATE: \"2019-01-01\"\n            CONFIG_FILE: \"/root/config.ini\"\n        volumes:\n            - \"./csv_export:/root/csv_export\"\n            - \"./data:/var/opt/mssql\"\n            - \"./config.ini:/root/config.ini\"\n\n```\n\n### Creating a Container\n\nTo create a container:\n\n```shell script\ngit clone https://github.com/webdjoe/pyshopify\n# edit the docker compose env var with vim or nano\nvim docker-compose.yml\n\n# edit config.ini file\nvim config.ini\n\n# Build and run container\nsudo docker compose build\nsudo docker compose up\n```\n\nOnce started test if SQL server is running. A `0` return value indicates the server has started up and is ready for connections. The shopify.sql script should have already run to build the necessary database.\n\n```shell script\n sudo docker exec -it shop_sql bash -c '/opt/mssql-tools/bin/sqlcmd -h -1 -t 1 -U sa\\\n -P \"$MSSQL_SA_PASSWORD\" -Q \"SET NOCOUNT ON; Select SUM(state) from sys.databases\"'\n```\n\n### Running pyshopify in the container\n\n`shopify_cli` can be called in container to pull data and send to database or csv files.\n\n```shell script\n# Get last 30 days of data and import into SQL Server running in container\nsudo docker exec -it shop_sql shopify_cli -d 30 --sql-out\n\n# Get data between dates and import into SQL Server\nsudo docker exec -it shop_sql shopify_cli -b 2020-01-01 2020-12-31 --sql-out\n\n# Pull 30 days of data into csv files\nsudo docker exec -it shop_sql shopify_cli --csv-out --csv-location csv_export\n```\n\n### Setting up a cron job\n\nA script is included to automatically set up a cron job to run `shopify_cli` to pull the last 5 days of data, every day at 4AM.\n\n```shell\nsudo docker exec -it shop_sql bash /usr/scripts/add-cron.sh\n```\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/pyshopify",
            "keywords": "shopify,sql server,mssql,python,docker,python3,pyodbc",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyshopify",
            "package_url": "https://pypi.org/project/pyshopify/",
            "platform": null,
            "project_url": "https://pypi.org/project/pyshopify/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pyshopify/issues",
                "Homepage": "https://github.com/pyshopify"
            },
            "release_url": "https://pypi.org/project/pyshopify/0.9.9/",
            "requires_dist": [
                "six",
                "requests (>=2.20)",
                "click (>=8.0.1)",
                "numpy (>=1.20.3)",
                "pandas (>=1.2.4)",
                "python-dateutil",
                "tzdata",
                "sqlalchemy"
            ],
            "requires_python": ">=3.9",
            "summary": "Shopify Orders & Customers API library with containerized         MS SQL database",
            "version": "0.9.9",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14806938,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8fd8fe92d840acfeb4c8fb284e5726cd",
                    "sha256": "681a8db4edc039773fcbb50c01753d9a7feb873199d4678553e2e9738d07a238"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.9-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "8fd8fe92d840acfeb4c8fb284e5726cd",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.9",
                "size": 24621,
                "upload_time": "2022-08-18T23:55:03",
                "upload_time_iso_8601": "2022-08-18T23:55:03.567229Z",
                "url": "https://files.pythonhosted.org/packages/40/9f/0b14092b64275ecd5792365c85ce452de4f2465668fb9984d4088e63655d/pyshopify-0.9.9-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "5ec3998a0035880a017a3580015ef021",
                    "sha256": "6888a8a42fb99e4b97022a78e62ce9edbd0cea3cbb8191d21ae9c7a8bec6e29f"
                },
                "downloads": -1,
                "filename": "pyshopify-0.9.9.tar.gz",
                "has_sig": false,
                "md5_digest": "5ec3998a0035880a017a3580015ef021",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.9",
                "size": 30498,
                "upload_time": "2022-08-18T23:55:05",
                "upload_time_iso_8601": "2022-08-18T23:55:05.327744Z",
                "url": "https://files.pythonhosted.org/packages/93/d2/ae4ee98eb63cf7f1dcf5269d38ba94209fc3c20fb58a89ce57eda8f7886f/pyshopify-0.9.9.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}