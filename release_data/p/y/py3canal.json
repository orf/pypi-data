{
    "1.0": {
        "info": {
            "author": "vallee",
            "author_email": "xph_wangly10@163.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/vallee11/canal-python",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py3canal",
            "package_url": "https://pypi.org/project/py3canal/",
            "platform": "",
            "project_url": "https://pypi.org/project/py3canal/",
            "project_urls": {
                "Homepage": "https://github.com/vallee11/canal-python"
            },
            "release_url": "https://pypi.org/project/py3canal/1.0/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "",
            "version": "1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 7265916,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e5b749835643fe42144e5a90625e5c46",
                    "sha256": "128ce988bf9962ed4c66e2e5b8f4fc9a4b2e131e84e3b00b44609a9d20720f62"
                },
                "downloads": -1,
                "filename": "py3canal-1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e5b749835643fe42144e5a90625e5c46",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 12761,
                "upload_time": "2020-05-18T05:56:55",
                "upload_time_iso_8601": "2020-05-18T05:56:55.920161Z",
                "url": "https://files.pythonhosted.org/packages/85/4f/5d5966b19840c14257d3cbd6a1442bbabfe3e50a7f43efd2f543f133e573/py3canal-1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "f663b17e95b11aff6efe45c427f8499e",
                    "sha256": "e3d47273f685b6a11e1d1fe5b06882fca835312e4c5d107ec3f25b5eeb857a20"
                },
                "downloads": -1,
                "filename": "py3canal-1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "f663b17e95b11aff6efe45c427f8499e",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 12711,
                "upload_time": "2020-05-18T05:56:58",
                "upload_time_iso_8601": "2020-05-18T05:56:58.033186Z",
                "url": "https://files.pythonhosted.org/packages/14/60/b9182ef67ff54ba7fb04ef8df8015c5c8cd57674e9c3a773cf562b510a9c/py3canal-1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.2": {
        "info": {
            "author": "vallee",
            "author_email": "xph_wangly10@163.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/vallee11/canal-python",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py3canal",
            "package_url": "https://pypi.org/project/py3canal/",
            "platform": "",
            "project_url": "https://pypi.org/project/py3canal/",
            "project_urls": {
                "Homepage": "https://github.com/vallee11/canal-python"
            },
            "release_url": "https://pypi.org/project/py3canal/1.0.2/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "",
            "version": "1.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 7265916,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "fa0af2bf7e6a22becc10d132203cb273",
                    "sha256": "50d4dde5aa6b5a0abce31813a9d9c52ac9c4eb057ca8ee8d5af0b2516b0a365c"
                },
                "downloads": -1,
                "filename": "py3canal-1.0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "fa0af2bf7e6a22becc10d132203cb273",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 14908,
                "upload_time": "2020-05-18T06:07:28",
                "upload_time_iso_8601": "2020-05-18T06:07:28.274694Z",
                "url": "https://files.pythonhosted.org/packages/01/f9/f97d529eba8ca27cd006c11d5ed14acfafb0b3904dd64525b157b41b9372/py3canal-1.0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "28de42882cf80229491d05f5ba6c0f2c",
                    "sha256": "a81a34319c1667565712dd94408b376633655b3c67b4e2b74cee327ca0440c82"
                },
                "downloads": -1,
                "filename": "py3canal-1.0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "28de42882cf80229491d05f5ba6c0f2c",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 13556,
                "upload_time": "2020-05-18T06:07:29",
                "upload_time_iso_8601": "2020-05-18T06:07:29.719074Z",
                "url": "https://files.pythonhosted.org/packages/69/2e/bc3f7ed76a30f47ec64504a1888a99053367cd904c4f55814a17352fadce/py3canal-1.0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.4": {
        "info": {
            "author": "vallee",
            "author_email": "xph_wangly10@163.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# pycanal\n\n## \u4e00.pycanal \u7b80\u4ecb\n\npycanal \u662f\u963f\u91cc\u5df4\u5df4\u5f00\u6e90\u9879\u76ee [Canal](https://github.com/alibaba/canal)\u662f\u963f\u91cc\u5df4\u5df4mysql\u6570\u636e\u5e93binlog\u7684\u589e\u91cf\u8ba2\u9605&\u6d88\u8d39\u7ec4\u4ef6 \u7684 python \u5ba2\u6237\u7aef\u3002\u4e3a python \u5f00\u53d1\u8005\u63d0\u4f9b\u4e00\u4e2a\u66f4\u53cb\u597d\u7684\u4f7f\u7528 Canal \u7684\u65b9\u5f0f\u3002Canal \u662fmysql\u6570\u636e\u5e93binlog\u7684\u589e\u91cf\u8ba2\u9605&\u6d88\u8d39\u7ec4\u4ef6\u3002\n\n\u57fa\u4e8e\u65e5\u5fd7\u589e\u91cf\u8ba2\u9605&\u6d88\u8d39\u652f\u6301\u7684\u4e1a\u52a1\uff1a\n\n1. \u6570\u636e\u5e93\u955c\u50cf\n2. \u6570\u636e\u5e93\u5b9e\u65f6\u5907\u4efd\n3. \u591a\u7ea7\u7d22\u5f15 (\u5356\u5bb6\u548c\u4e70\u5bb6\u5404\u81ea\u5206\u5e93\u7d22\u5f15)\n4. search build\n5. \u4e1a\u52a1cache\u5237\u65b0\n6. \u4ef7\u683c\u53d8\u5316\u7b49\u91cd\u8981\u4e1a\u52a1\u6d88\u606f\n\n\u5173\u4e8e Canal \u7684\u66f4\u591a\u4fe1\u606f\u8bf7\u8bbf\u95ee https://github.com/alibaba/canal/wiki\n\n## \u4e8c.\u5e94\u7528\u573a\u666f\n\npycanal \u4f5c\u4e3aCanal\u7684\u5ba2\u6237\u7aef\uff0c\u5176\u5e94\u7528\u573a\u666f\u5c31\u662fCanal\u7684\u5e94\u7528\u573a\u666f\u3002\u5173\u4e8e\u5e94\u7528\u573a\u666f\u5728Canal\u4ecb\u7ecd\u4e00\u8282\u5df2\u6709\u6982\u8ff0\u3002\u4e3e\u4e00\u4e9b\u5b9e\u9645\u7684\u4f7f\u7528\u4f8b\u5b50\uff1a\n\n1.\u4ee3\u66ff\u4f7f\u7528\u8f6e\u8be2\u6570\u636e\u5e93\u65b9\u5f0f\u6765\u76d1\u63a7\u6570\u636e\u5e93\u53d8\u66f4\uff0c\u6709\u6548\u6539\u5584\u8f6e\u8be2\u8017\u8d39\u6570\u636e\u5e93\u8d44\u6e90\u3002\n\n2.\u6839\u636e\u6570\u636e\u5e93\u7684\u53d8\u66f4\u5b9e\u65f6\u66f4\u65b0\u641c\u7d22\u5f15\u64ce\uff0c\u6bd4\u5982\u7535\u5546\u573a\u666f\u4e0b\u5546\u54c1\u4fe1\u606f\u53d1\u751f\u53d8\u66f4\uff0c\u5b9e\u65f6\u540c\u6b65\u5230\u5546\u54c1\u641c\u7d22\u5f15\u64ce Elasticsearch\u3001solr\u7b49\n\n3.\u6839\u636e\u6570\u636e\u5e93\u7684\u53d8\u66f4\u5b9e\u65f6\u66f4\u65b0\u7f13\u5b58\uff0c\u6bd4\u5982\u7535\u5546\u573a\u666f\u4e0b\u5546\u54c1\u4ef7\u683c\u3001\u5e93\u5b58\u53d1\u751f\u53d8\u66f4\u5b9e\u65f6\u540c\u6b65\u5230redis\n\n4.\u6570\u636e\u5e93\u5f02\u5730\u5907\u4efd\u3001\u6570\u636e\u540c\u6b65\n\n5.\u6839\u636e\u6570\u636e\u5e93\u53d8\u66f4\u89e6\u53d1\u67d0\u79cd\u4e1a\u52a1\uff0c\u6bd4\u5982\u7535\u5546\u573a\u666f\u4e0b\uff0c\u521b\u5efa\u8ba2\u5355\u8d85\u8fc7xx\u65f6\u95f4\u672a\u652f\u4ed8\u88ab\u81ea\u52a8\u53d6\u6d88\uff0c\u6211\u4eec\u83b7\u53d6\u5230\u8fd9\u6761\u8ba2\u5355\u6570\u636e\u7684\u72b6\u6001\u53d8\u66f4\u5373\u53ef\u5411\u7528\u6237\u63a8\u9001\u6d88\u606f\u3002\n\n6.\u5c06\u6570\u636e\u5e93\u53d8\u66f4\u6574\u7406\u6210\u81ea\u5df1\u7684\u6570\u636e\u683c\u5f0f\u53d1\u9001\u5230kafka\u7b49\u6d88\u606f\u961f\u5217\uff0c\u4f9b\u6d88\u606f\u961f\u5217\u7684\u6d88\u8d39\u8005\u8fdb\u884c\u6d88\u8d39\u3002\n\n## \u4e09.\u5de5\u4f5c\u539f\u7406\n\npycanal  \u662f Canal \u7684 python \u5ba2\u6237\u7aef\uff0c\u5b83\u4e0e Canal \u662f\u91c7\u7528\u7684Socket\u6765\u8fdb\u884c\u901a\u4fe1\u7684\uff0c\u4f20\u8f93\u534f\u8bae\u662fTCP\uff0c\u4ea4\u4e92\u534f\u8bae\u91c7\u7528\u7684\u662f Google Protocol Buffer 3.0\u3002\n\n## \u56db.\u5de5\u4f5c\u6d41\u7a0b\n\n1.Canal\u8fde\u63a5\u5230mysql\u6570\u636e\u5e93\uff0c\u6a21\u62dfslave\n\n2.pycanal \u4e0e Canal \u5efa\u7acb\u8fde\u63a5\n\n2.\u6570\u636e\u5e93\u53d1\u751f\u53d8\u66f4\u5199\u5165\u5230binlog\n\n5.Canal\u5411\u6570\u636e\u5e93\u53d1\u9001dump\u8bf7\u6c42\uff0c\u83b7\u53d6binlog\u5e76\u89e3\u6790\n\n4.pycanal \u5411 Canal \u8bf7\u6c42\u6570\u636e\u5e93\u53d8\u66f4\n\n4.Canal \u53d1\u9001\u89e3\u6790\u540e\u7684\u6570\u636e\u7ed9pycanal\n\n5.pycanal\u6536\u5230\u6570\u636e\uff0c\u6d88\u8d39\u6210\u529f\uff0c\u53d1\u9001\u56de\u6267\u3002\uff08\u53ef\u9009\uff09\n\n6.Canal\u8bb0\u5f55\u6d88\u8d39\u4f4d\u7f6e\u3002\n\n## \u4e94.\u5feb\u901f\u542f\u52a8\n\n### \u5b89\u88c5Canal\n\nCanal \u7684\u5b89\u88c5\u4ee5\u53ca\u914d\u7f6e\u4f7f\u7528\u8bf7\u67e5\u770b https://github.com/alibaba/canal/wiki/QuickStart\n\n### \u73af\u5883\u8981\u6c42\npython >= 3\n\n### \u6784\u5efacanal python\u5ba2\u6237\u7aef\n\n````shell\npip install py3canal\n````\n\n### \u5efa\u7acb\u4e0eCanal\u7684\u8fde\u63a5\n````python\nimport time\nfrom pycanal.client import CanalClient\nfrom pycanal.protocol import EntryProtocol_pb2\nfrom tornado.ioloop import IOLoop\n\n\nasync def main():\n    while True:\n        canal = CanalClient(host=\"10.88.190.151\", port=21111)\n        await canal.connect()\n        await canal.check_valid()\n        await canal.subscribe(client_id=b\"14001\", destination=b\"pandora\")\n        while True:\n            try:\n                message = await canal.get(100)\n                entries = message[\"entries\"]\n                for entry in entries:\n                    entry_type = entry.entryType\n                    if entry_type in [EntryProtocol_pb2.EntryType.TRANSACTIONBEGIN,\n                                      EntryProtocol_pb2.EntryType.TRANSACTIONEND]:\n                        continue\n                    row_change = EntryProtocol_pb2.RowChange()\n                    row_change.MergeFromString(entry.storeValue)\n                    header = entry.header\n                    database = header.schemaName\n                    table = header.tableName\n                    event_type = header.eventType\n\n                    for row in row_change.rowDatas:\n                        if event_type == EntryProtocol_pb2.EventType.DELETE:\n                            format_data = dict()\n                            print(\"delete: {}\".format(EntryProtocol_pb2.EventType.DELETE))\n                            for column in row.beforeColumns:\n                                format_data[column.name] = column.value\n                            data = dict(\n                                db=database,\n                                table=table,\n                                event_type=event_type,\n                                data=format_data,\n                            )\n                            print(data)\n                        elif event_type == EntryProtocol_pb2.EventType.INSERT:\n                            format_data = dict()\n                            print(\"insert: {}\".format(EntryProtocol_pb2.EventType.INSERT))\n                            for column in row.afterColumns:\n                                format_data[column.name] = column.value\n                            data = dict(\n                                db=database,\n                                table=table,\n                                event_type=event_type,\n                                data=format_data,\n                            )\n                            print(data)\n                        else:\n                            format_data = dict()\n                            format_data[\"before\"] = format_data[\"after\"] = dict()\n                            for column in row.beforeColumns:\n                                format_data[\"before\"][column.name] = column.value\n                            for column in row.afterColumns:\n                                format_data[\"after\"][column.name] = column.value\n                            data = dict(\n                                db=database,\n                                table=table,\n                                event_type=event_type,\n                                data=format_data,\n                            )\n                            print(data)\n            except Exception as e:\n                print(e)\n                break\n            time.sleep(1)\n\n        canal.disconnect()\n        time.sleep(2)\n\n\nif __name__ == \"__main__\":\n    io_loop = IOLoop.current()\n    io_loop.run_sync(main)\n````\n\n\u66f4\u591a\u8be6\u60c5\u8bf7\u67e5\u770b [Sample](https://github.com/vallee11/canal-python/canal/example.py)\n\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/vallee11/canal-python",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "py3canal",
            "package_url": "https://pypi.org/project/py3canal/",
            "platform": "",
            "project_url": "https://pypi.org/project/py3canal/",
            "project_urls": {
                "Homepage": "https://github.com/vallee11/canal-python"
            },
            "release_url": "https://pypi.org/project/py3canal/1.0.4/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "",
            "version": "1.0.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 7265916,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "31844ef624cc788ebc2eb631b3859e94",
                    "sha256": "bafa84e8b803761e2917093effad295397ed3f8f365bf047f12011182bb33f93"
                },
                "downloads": -1,
                "filename": "py3canal-1.0.4-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "31844ef624cc788ebc2eb631b3859e94",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 14909,
                "upload_time": "2020-05-18T06:12:50",
                "upload_time_iso_8601": "2020-05-18T06:12:50.931230Z",
                "url": "https://files.pythonhosted.org/packages/5b/e6/1eb47b5dfd76e0e7640755de564d20299c6653bf446258836c430a870750/py3canal-1.0.4-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "2fe7a7b05930f1debcaa041f0931fb20",
                    "sha256": "4e19301d24bbd2076c4940b7588fbcd7555c4922314fbefa86f298246acde59d"
                },
                "downloads": -1,
                "filename": "py3canal-1.0.4.tar.gz",
                "has_sig": false,
                "md5_digest": "2fe7a7b05930f1debcaa041f0931fb20",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 13558,
                "upload_time": "2020-05-18T06:12:52",
                "upload_time_iso_8601": "2020-05-18T06:12:52.553369Z",
                "url": "https://files.pythonhosted.org/packages/88/20/931d351374b1aa762b8c77012776b0edec421a578df5620f0c376f416f88/py3canal-1.0.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}