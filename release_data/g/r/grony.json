{
    "0.1": {
        "info": {
            "author": "Luis Medel",
            "author_email": "luis@luismedel.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Console",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Operating System :: Unix",
                "Programming Language :: Python :: 3",
                "Topic :: Software Development :: Version Control",
                "Topic :: Software Development :: Version Control :: Git"
            ],
            "description": "# grony\n\nAn utility to schedule git-related actions (`pull`, `commit` and `push` at this moment) using crontab expressions.\n\n## Installation\n\n> Note: you need Python 3.\n\n```sh\n> pip install grony\n```\n\nAfter that, should have a `grony` command available.\n\n```sh\n> grony\n```\n\n## Usage\n\n`grony` consists of two components:\n\n- A long running process (the scheduler) used to schedule and launch git commands.\n- A client, used to manage the scheduler.\n\nFirst things first. You need to start the scheduler.\n\n## Starting the scheduler\n\nUsing whatever method you want (in a console, a startup script o anything supported in your OS) run:\n\n```sh\n> grony start\n```\n\nThe tool will run in foreground. So it's advised yo use a way to leave it as a background process.\n\n### Starting the scheduler as a service in Linux\n\nTBD.\n\n### Starting the scheduler as a service in macOS\n\nUse the scripts located at `scripts/macOS` in this repo to add/remove a launchd for grony.\n\nTo enable the grony scheduler as a service and start automatically when the current user logs in.\n\n```sh\n> scripts/macOS/add-launchd.sh\n```\n\nTo prevent the grony scheduler to start automatically when the current user logs in.\n\n```sh\n> scripts/macOS/remove-launchd.sh\n```\n\n## Add a repository\n\nSay you want to execute an automatic commit on a repository located at `/sources/my-project`.\n\n```sh\n> grony add /sources/my-project\nRepository friendly name [my-project]: <press enter>\nSuccessfully added my-project\n```\n\nThat's it. That command instructs grony to schedule tasks for that repository. No to the next ste.\n\n## Configure actions\n\nYou need a way to tell grony what commands to run and when. Depending of your needs or personal preferences, you can use two ways:\n\n- A centralized one, configured in `$HOME/.grony.conf`.\n- A decentralized one, configured in each repo's `.grony` file.\n\n### Configuring actions in `$HOME/.grony.conf`\n\nOpen your `$HOME/.grony.conf` in a text editor. You should see something like this (you can ignore any value in the `[config]` section as it's used internally by the program)\n\n```ini\n[config]\nipc_port = 62830\nsecret = 4ac19f9d-7e18-4a0e-aa83-729c51bdddcf\n\n[repo 'my-project']\npath = /sources/my-project\n```\n\nYou must setup what to do in `my-project` in the section `[repo 'my-project']`.\n\nAvailable options are:\n\n- `pull-on`: a crontab-like expression detailing when to run `git pull`.\n- `pull-remote`: the remote name where to pull from (optional)\n- `commit-on`: a crontab-like expression detailing when to run `git add -A && git commit`.\n- `commit-message`: the commit message for `commit-on` (defaults to 'Auto commit at %Y%m%d %H:%M:%S').\n- `push-on`: : a crontab-like expression detailing when to run `git push`.\n- `push-remote`: the remote name where to push to (optional)\n\nYou don't have to set all values. Only those what you need. For example, if you only need to perform automatic commits every minute and you are ok with the default message, configure `commit-on` like this:\n\n```ini\n[repo 'my-project']\npath = /sources/my-project\ncommit-on = * * * * *\n```\n\nYou can configure all actions if you want. Remember that if they need to run at the same time, they'll run always in the this order: `pull-on`, `commit-on`, `push-on`.\n\n```ini\n[repo 'my-project']\npath = /sources/my-project\npush-on = @hourly         ; the config order you use does not matter\npull-on = @hourly\ncommit-on = @hourly\n```\n\n### Configuring actions in each repo's `.grony`\n\nYou can put a `.grony` file in the repository root with the following format:\n\n```ini\n[repo]\npush-on = @hourly\npull-on = @hourly\ncommit-on = @hourly\n```\n\nNote:\n\n- It does not contain a `[config]` section.\n- The section is called `[repo]`.\n- It does not contain the repository `path`.\n\nOutside of that, the settings are exactly the same.\n\nYou can use the following command to initialize a basic `.grony` file with default settings in a repository root:\n\n```sh\n> grony init /sources/my-project\n```\n\n### Overriding `.grony` settings\n\nYou can have settings for a repo defined both in the `.grony` file and in your `$HOME/.grony.conf`.\n\nBoth settings will be merged at run time and any setting present in `$HOME/.grony.conf` **will override** the one in the `.grony` file.\n\n> This is useful to override some settings on a per-machine basis, like the commit message, for example.\n\n### Updating settings\n\nYou can update any setting in any moment. grony will reload all files periodically to update the scheduled tasks.\n\n> Note: this interval can be user-defined in `grony start` (see below).\n\n## More info\n\nJust use the integrated help for the rest of the commands. It's pretty self-explanatory.\n\n```\nUsage: grony [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  add     Adds a repository to the .grony.conf file.\n  init    Initializes a .grony file in the specified path.\n  list    List all configured repositories.\n  remove  Removes a repository from the .grony.conf file.\n  show    Show the effeective settings for a repository.\n  start   Starts the main process.\n```\n\n## License\n\nBSD 3-Clause \"New\" or \"Revised\" License.\n\nSee [LICENSE.md](LICENSE.md)\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/luismedel/grony",
            "keywords": "git,automation,cron,crontab,development",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "grony",
            "package_url": "https://pypi.org/project/grony/",
            "platform": null,
            "project_url": "https://pypi.org/project/grony/",
            "project_urls": {
                "Homepage": "https://github.com/luismedel/grony"
            },
            "release_url": "https://pypi.org/project/grony/0.1/",
            "requires_dist": [
                "click",
                "tabulate",
                "crontab"
            ],
            "requires_python": "",
            "summary": "Executes git commands at specified intervals",
            "version": "0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15975414,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8ea5c0ede928aa8e9509ba7ab3e34674",
                    "sha256": "a72ff7f3b98ac3c9add554fdba22c86055a7587dc681569984ab3e940f5c8b53"
                },
                "downloads": -1,
                "filename": "grony-0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "8ea5c0ede928aa8e9509ba7ab3e34674",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 13512,
                "upload_time": "2022-12-03T00:16:21",
                "upload_time_iso_8601": "2022-12-03T00:16:21.979022Z",
                "url": "https://files.pythonhosted.org/packages/31/0d/553696716689a08856c487152960a5d0adc6c41d6cafe3729c2685959f97/grony-0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "d19065e1ce1351ce6f33d98c210f4f6f",
                    "sha256": "4783187b92a5d558d2a351df0ebd66103f258ad758043018d929ae67a856c7d4"
                },
                "downloads": -1,
                "filename": "grony-0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "d19065e1ce1351ce6f33d98c210f4f6f",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 13425,
                "upload_time": "2022-12-03T00:16:37",
                "upload_time_iso_8601": "2022-12-03T00:16:37.437650Z",
                "url": "https://files.pythonhosted.org/packages/4a/fc/4abdcc2f197dc448c0293c5a227a9488b7e9477e8402b617859f3c9e2c43/grony-0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}