{
    "0.2": {
        "info": {
            "author": "Ryan",
            "author_email": "604729765@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://www.leetab.com",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "use-payment",
            "package_url": "https://pypi.org/project/use-payment/",
            "platform": null,
            "project_url": "https://pypi.org/project/use-payment/",
            "project_urls": {
                "Homepage": "https://www.leetab.com"
            },
            "release_url": "https://pypi.org/project/use-payment/0.2/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "\u652f\u6301\u652f\u4ed8\u5b9d\u548c\u5fae\u4fe1\u652f\u4ed8\u7684\u652f\u4ed8\u6a21\u5757",
            "version": "0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14610658,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "2cb55b8af199bdfebdbbf04da1e53fd7",
                    "sha256": "d5aa7158e18e35a94a36eea99b6b7cbf159b0c0c912edd7df92f237248d2b7d7"
                },
                "downloads": -1,
                "filename": "use-payment-0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "2cb55b8af199bdfebdbbf04da1e53fd7",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 16008,
                "upload_time": "2022-08-01T03:26:09",
                "upload_time_iso_8601": "2022-08-01T03:26:09.793152Z",
                "url": "https://files.pythonhosted.org/packages/88/05/8af76d8daab460c05978830edcd5ae0bed3836760f9e842d38ce092b4757/use-payment-0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.3": {
        "info": {
            "author": "Ryan",
            "author_email": "604729765@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://www.leetab.com",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "use-payment",
            "package_url": "https://pypi.org/project/use-payment/",
            "platform": null,
            "project_url": "https://pypi.org/project/use-payment/",
            "project_urls": {
                "Homepage": "https://www.leetab.com"
            },
            "release_url": "https://pypi.org/project/use-payment/0.3/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "\u652f\u6301\u652f\u4ed8\u5b9d\u548c\u5fae\u4fe1\u652f\u4ed8\u7684\u652f\u4ed8\u6a21\u5757",
            "version": "0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14610658,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "f724503853f1e8875d391903040fa96f",
                    "sha256": "b62d58ff4d523dbedf60446338b777d6d9a7407ff19164d94faab7e54b175f4f"
                },
                "downloads": -1,
                "filename": "use-payment-0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "f724503853f1e8875d391903040fa96f",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 15984,
                "upload_time": "2022-08-01T03:52:26",
                "upload_time_iso_8601": "2022-08-01T03:52:26.021051Z",
                "url": "https://files.pythonhosted.org/packages/92/08/256336b5870901e24184ba97ef378b6d7721a10d78cd6dbf1e5173e6d549/use-payment-0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.5": {
        "info": {
            "author": "Ryan",
            "author_email": "604729765@qq.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "\u914d\u7f6e\r\n====\r\n\r\n1.\u65b0\u5efa\u4e00\u4e2a\u652f\u4ed8\u5b9d\u914d\u7f6e\u6587\u4ef6\r\nalipay_conf.py\uff08\u6587\u4ef6\u540d\u968f\u610f\uff0c\u8fd9\u91cc\u6f14\u793a\u7528alipay_conf.py\uff09\r\n\r\n::\r\n\r\n   # \u5e94\u7528ID\r\n   APP_ID = '2021000121629706'\r\n\r\n   # \u79c1\u94a5\r\n   PRIVATE_KEY = \"\"\"-----BEGIN RSA PRIVATE KEY-----\r\n   -----END RSA PRIVATE KEY-----\"\"\"\r\n\r\n   # \u516c\u94a5\r\n   PUBLIC_KEY = \"\"\"-----BEGIN PUBLIC KEY-----\r\n   ...\r\n   -----END PUBLIC KEY-----\"\"\"\r\n\r\n   # \u652f\u4ed8\u6210\u529f\u540c\u6b65\u56de\u8c03\u5730\u5740\r\n   PAY_RETURN_URL = 'http://abc.com/xxx'\r\n\r\n   # \u652f\u4ed8\u6210\u529f\u5f02\u6b65\u56de\u8c03\u5730\u5740\r\n   PAY_NOTIFY_URL = 'http://abc.com/xxx'\r\n\r\n2.\u65b0\u5efa\u4e00\u4e2a\u5fae\u4fe1\u652f\u4ed8\u914d\u7f6e\u6587\u4ef6\r\nweipay_conf.py\uff08\u6587\u4ef6\u540d\u968f\u610f\uff0c\u8fd9\u91cc\u6f14\u793a\u7528weipay_conf.py\uff09\r\n\r\n::\r\n\r\n   # \u5546\u6237ID\r\n   MCHID = '1629062252'  \r\n\r\n   APP_ID = 'wwcc835d7cd72561ec'\r\n\r\n   # \u8bc1\u4e66\u5e8f\u5217\u53f7\r\n   SERIAL_NO = '301BF3CBBEA4F89D35E1643F840261DA2ADBB27C'  \r\n\r\n   # API\u79c1\u94a5\r\n   PRIVATE_KEY = \"\"\"-----BEGIN PRIVATE KEY-----\r\n   ...\r\n   -----END PRIVATE KEY-----\"\"\"\r\n\r\n   # v3 key\r\n   V3_KEY = \"ypSMEiqKQ1HfqISN0S1UOs3esJXqumrJ\"\r\n\r\n   # \u652f\u4ed8\u6210\u529f\u5f02\u6b65\u56de\u8c03\u5730\u5740\r\n   PAY_NOTIFY_URL = 'http://abc.com/xxx'\r\n\r\n   # \u9000\u6b3e\u5f02\u6b65\u56de\u8c03\u5730\u5740\r\n   REFUND_NOTIFY_URL = 'http://abc.com/xxx'\r\n\r\n3.\u914d\u7f6esettings.py\r\n\u5c06\u652f\u4ed8\u5b9d\u548c\u5fae\u4fe1\u652f\u4ed8\u7684\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\u914d\u7f6e\u5230django\u7684settings.py\u4e2d\r\n\r\n::\r\n\r\n   ALIPAY_CONF = 'public.pay_conf.alipay_conf'\r\n   WEIPAY_CONF = 'public.pay_conf.weipay_conf'\r\n\r\n\u652f\u4ed8\u5b9d\r\n======\r\n\r\n\u6f14\u793a\u652f\u4ed8\u5b9d\u4e0b\u5355\u548c\u8ba2\u5355\u67e5\u8be2\r\n~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\u5148\u5f15\u5165\r\n::\r\n\r\n   # \u5f15\u5165\u53c2\u6570\u6a21\u5757\r\n   from use_payment import params\r\n   # \u5f15\u5165\u652f\u4ed8\u5b9d\u6a21\u5757\r\n   from use_payment import alipay\r\n   # \u5f15\u5165\u5f02\u5e38\u6a21\u5757\r\n   from use_payment import exceptions\r\n\r\n\u652f\u4ed8\u5b9d\u4e0b\u5355\uff08PC\u7f51\u7ad9\uff09\r\n\r\n::\r\n\r\n   # \u5b9e\u4f8b\u5316\u4e00\u4e2a\u53c2\u6570\u7c7b\r\n   trade_params = params.TradeParams(\r\n       pay_web='alipay',\r\n       subject='iphone 14',\r\n       out_trade_no='202207051515025',\r\n       total_amount='100')\r\n\r\n   # \u5b9e\u4f8btrade_params\u7684params\u5c5e\u6027\u5c31\u662f\u4e1a\u52a1\u53c2\u6570\u5b57\u5178\r\n   print(trade_params.params)\r\n\r\n   # \u4e0b\u5355\u5e76\u83b7\u53d6\u652f\u4ed8url\r\n   try:\r\n       pay_url = alipay.AliPayTradePage(trade_params.params).pay_url()\r\n   except exceptions.TradeError as err:\r\n       print(f'\u4e0b\u5355\u9519\u8bef:{err}')\r\n   else:\r\n       print(pay_url)\r\n\r\n\u652f\u4ed8\u5b9d\u8ba2\u5355\u67e5\u8be2\r\n\r\n::\r\n\r\n   # \u5b9e\u4f8b\u5316\u67e5\u8be2\u53c2\u6570\u7c7b\r\n   query_params = params.TradeQueryParams(\r\n       pay_web='alipay',\r\n       out_trade_no='202207051515025')\r\n\r\n   # \u8ba2\u5355\u67e5\u8be2\r\n   try:\r\n       results = alipay.AliPayTradeQuery(query_params.params).trade_query()\r\n   except exceptions.TradeQueryError as err:\r\n       print(f'\u8ba2\u5355\u67e5\u8be2\u9519\u8bef:{err}')\r\n   else:\r\n       print(results)\r\n\r\n\u5fae\u4fe1\u652f\u4ed8\r\n========\r\n\r\n\u6f14\u793a\u5fae\u4fe1\u652f\u4ed8\u4e0b\u5355\u548c\u8ba2\u5355\u67e5\u8be2\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\u5148\u5f15\u5165\r\n\r\n::\r\n\r\n   # \u5f15\u5165\u53c2\u6570\u6a21\u5757\r\n   from use_payment import params\r\n   # \u5f15\u5165\u5fae\u4fe1\u652f\u4ed8\u6a21\u5757\r\n   from use_payment import weipay\r\n   # \u5f15\u5165\u5f02\u5e38\u6a21\u5757\r\n   from use_payment import exceptions\r\n\r\nNative\u4e0b\u5355\u5e76\u83b7\u53d6\u4ed8\u6b3e\u5730\u5740\uff08\u4e8c\u7ef4\u7801\u5730\u5740\uff09\r\n\r\n::\r\n\r\n   # \u5b9e\u4f8b\u5316\u4e00\u4e2a\u53c2\u6570\u7c7b\r\n   trade_params = params.TradeParams(\r\n       pay_web='weipay',\r\n       subject='iphone 14',\r\n       out_trade_no='202208051515025',\r\n       total_amount='0.1')\r\n\r\n   # \u5b9e\u4f8btrade_params\u7684params\u5c5e\u6027\u5c31\u662f\u4e1a\u52a1\u53c2\u6570\u5b57\u5178\r\n   print(trade_params.params)\r\n\r\n   # \u4e0b\u5355\u5e76\u83b7\u53d6\u652f\u4ed8url\r\n   try:\r\n       pay_url = weipay.WeiPayNative(trade_params.params).pay_url()\r\n   except exceptions.TradeError as err:\r\n       print(f'\u4e0b\u5355\u5931\u8d25:{err}')\r\n   else:\r\n       print(pay_url)\r\n\r\n\u8ba2\u5355\u67e5\u8be2\r\n\r\n::\r\n\r\n   # \u5b9e\u4f8b\u5316\u4e00\u4e2a\u53c2\u6570\u7c7b\r\n   query = params.TradeQueryParams(\r\n       pay_web='weipay',\r\n       out_trade_no='202208051515025')\r\n\r\n   # \u5b9e\u4f8bquery\u7684params\u5c5e\u6027\u5c31\u662f\u4e1a\u52a1\u53c2\u6570\u5b57\u5178\r\n   print(query.params)\r\n\r\n   # \u4e0b\u5355\u5e76\u83b7\u53d6\u652f\u4ed8url\r\n   try:\r\n       results = weipay.WeiPayTradeQuery(query.params).trade_query()\r\n   except exceptions.TradeQueryError as err:\r\n       print(f'\u67e5\u8be2\u8ba2\u5355\u9519\u8bef:{err}')\r\n   else:\r\n       print(results)\r\n\r\n\u4e1a\u52a1\u6269\u5c55\r\n========\r\n\r\n   payment\u6a21\u5757\u53ea\u63d0\u4f9b\u4e86\u652f\u4ed8\u5b9d\u548c\u5fae\u4fe1\u652f\u4ed8\u7684\u90e8\u5206\u529f\u80fd\uff0c\u5f53\u4e0d\u80fd\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u529f\u80fd\u4e0a\u7684\u6269\u5c55\r\n\r\n\u6f14\u793a\u4e00\uff1a\u7ed9\u5fae\u4fe1\u652f\u4ed8\u6dfb\u52a0\u4e00\u4e2a\u6839\u636e\u5546\u6237\u8ba2\u5355\u53f7\u67e5\u8be2\u8ba2\u5355\u7684\u529f\u80fd\r\n\r\n::\r\n\r\n   # \u9996\u5148\u9700\u8981\u7ee7\u627fWeiPay ,WeiPay\u7684__init__\u63a5\u53d7\u4e00\u4e2a\u4e1a\u52a1\u53c2\u6570\u5b57\u5178\r\n   class WeiPayTradeQuery(WeiPay):\r\n       \r\n       # \u5b9a\u4e49\u8bf7\u6c42\u7684URL\u548cMethod ,\u6ce8\u610f\u4e00\u5b9a\u4e0b\u5212\u7ebf\u5f00\u5934\uff0c\u5426\u5219\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e1a\u52a1\u56fa\u5b9a\u53c2\u6570\uff0c\r\n       _url = 'https://api.mch.weixin.qq.com/v3/pay/transactions/out-trade-no/{out_trade_no}'\r\n       _method = 'GET'\r\n       \r\n       # \u56fa\u5b9a\u53c2\u6570\u58f0\u660e,\u4e0e\u652f\u4ed8\u5b9d\u7684\u516c\u5171\u53c2\u6570\u4e0d\u540c\uff0c\u5fae\u4fe1\u652f\u4ed8\u6ca1\u6709\u4f5c\u7528\u4e8e\u6240\u6709API\u7684\u516c\u5171\u53c2\u6570\uff0c\u4f46\u662f\u6bcf\u4e2a\u4e1a\u52a1API\u90fd\u53ef\u80fd\u5b58\u5728\u67d0\u4e9b\u56fa\u5b9a\u53c2\u6570\u3002\r\n       # \u4e0d\u5e26\u4e0b\u5212\u7ebf\u7684\u53c2\u6570\u662f\u56fa\u5b9a\u53c2\u6570\uff0c\u56fa\u5b9a\u53c2\u6570\u5c31\u662f\u90a3\u4e9b\u4e0d\u968f\u4e1a\u52a1\u53d8\u5316\u800c\u53d8\u5316\u7684\u53c2\u6570\r\n       mchid = 'xxxxxxx'  # \u76f4\u8fde\u5546\u6237\u53f7\r\n       \r\n       # \u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u51fd\u6570\uff0c\u540d\u79f0\u5efa\u8bae\u6709\u76f4\u767d\u542b\u4e49\r\n       def trade_query(self):\r\n           try:\r\n               return self.api_response()\r\n           except StatusCodeError as err:\r\n               raise TradeQueryError(err)\r\n   # \u4f7f\u7528 \r\n   buisness_params = {...} # \u4e1a\u52a1\u53c2\u6570\u5b57\u5178\uff0c\u5efa\u8bae\u5b9a\u4e49\u4e00\u4e2a\u4e1a\u52a1\u53c2\u6570\u7c7b\r\n   WeiPayTradeQuery(buisness_params:Dict).trade_query()\r\n\r\n\u6f14\u793a\u4e8c\uff0c\u7ed9\u652f\u4ed8\u5b9d\u6dfb\u52a0WAP H5\u4e0b\u5355\u529f\u80fd > \u6ce8\u610f\uff1a\r\nAliPay\u4e2d\u7684\u4e24\u4e2a\u91cd\u8981\u7684\u65b9\u6cd5\uff1aself.build_url()\u548cself.api_response()\u3002\r\nself.build_url()\u751f\u6210\u8bf7\u6c42URL\uff0cself.api_response()\u8bbf\u95ee\u8bf7\u6c42URL\u5e76\u8fd4\u56de\u54cd\u5e94\uff0c\u6709\u65f6\u5019\u53ea\u9700\u8981self.build_url()\uff0c\u4f8b\u5982\u4e0b\u5355\u83b7\u53d6pay_url\uff0c\u76f4\u63a5\u8fd4\u56deself.build_url()\u7684\u7ed3\u679c\u5373\u53ef\r\n\r\n::\r\n\r\n   # \u9996\u5148\u9700\u8981\u7ee7\u627fAliPay ,WeiPay\u7684__init__\u63a5\u53d7\u4e00\u4e2a\u4e1a\u52a1\u53c2\u6570\u5b57\u5178\r\n   class AliPayTradeWap(AliPay):\r\n      \r\n       # \u5b9a\u4e49\u56fa\u5b9a\u53c2\u6570\r\n       method = 'alipay.trade.page.pay'\r\n       return_url = 'http://abc.com/xxx'\r\n       notify_url = 'http://abc.com/xxx'\r\n       \r\n       # \u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\u51fd\u6570\uff0c\u540d\u79f0\u5efa\u8bae\u6709\u76f4\u767d\u542b\u4e49\r\n       def pay_url(self):\r\n           # \u76f4\u63a5\u8fd4\u56de\u751f\u6210\u7684URL\r\n           return self.build_url()\r\n           # \u6709\u4e9b\u67e5\u8be2\u7c7b\u65b9\u6cd5\u53ef\u80fd\u9700\u8981\u4f7f\u7528self.api_response()\r\n           # self.api_response() # \u751f\u6210\u8bf7\u6c42URL\u540e\u8bbf\u95ee\u8fd4\u56de\u54cd\u5e94\r\n\r\n\u6f14\u793a\u4e09\uff0c\u5b9a\u4e49\u4e00\u4e2a\u4e1a\u52a1\u53c2\u6570\u7c7b\r\n\r\n::\r\n\r\n   from public.payment import params\r\n\r\n   # \u5b9a\u4e49\u4e00\u4e2a\u8ba2\u5355\u67e5\u8be2\u7684\u4e1a\u52a1\u53c2\u6570\u7c7b\r\n   class TradeQueryParams(params.ParamsABC):  # \u7ee7\u627fPayParams\u62bd\u8c61\u7c7b\r\n       \r\n       # \u5fc5\u987b\u6307\u5b9apay_web\uff0c\u4f1a\u6839\u636epay_web\u6765\u51b3\u5b9a\u751f\u6210\u5fae\u4fe1\u652f\u4ed8\u8fd8\u662f\u652f\u4ed8\u5b9d\u683c\u5f0f\r\n       def __init__(self, pay_web: str, out_trade_no: str):\r\n           self.pay_web = pay_web\r\n           self.out_trade_no = out_trade_no\r\n\r\n       # \u5fc5\u987b\u5b9e\u73b0\u7684\u62bd\u8c61\u65b9\u6cd5ali_params\r\n       def ali_params(self) -> dict:\r\n           return {'out_trade_no': self.out_trade_no}\r\n\r\n       # \u5fc5\u987b\u5b9e\u73b0\u7684\u62bd\u8c61\u65b9\u6cd5wei_params\r\n       def wei_params(self) -> dict:\r\n           return self.ali_params()\r\n\r\n\r\n",
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://www.leetab.com",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "use-payment",
            "package_url": "https://pypi.org/project/use-payment/",
            "platform": null,
            "project_url": "https://pypi.org/project/use-payment/",
            "project_urls": {
                "Homepage": "https://www.leetab.com"
            },
            "release_url": "https://pypi.org/project/use-payment/0.5/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "\u652f\u6301\u652f\u4ed8\u5b9d\u548c\u5fae\u4fe1\u652f\u4ed8\u7684\u652f\u4ed8\u6a21\u5757",
            "version": "0.5",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 14610658,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "44ca348b9f770b0e268a3e0b87749414",
                    "sha256": "ffefa860c11dd5caa781f4497a8ece28406a2ab00d2aa763a5bb0d91bd19389f"
                },
                "downloads": -1,
                "filename": "use-payment-0.5.tar.gz",
                "has_sig": false,
                "md5_digest": "44ca348b9f770b0e268a3e0b87749414",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 15995,
                "upload_time": "2022-08-01T08:32:55",
                "upload_time_iso_8601": "2022-08-01T08:32:55.535891Z",
                "url": "https://files.pythonhosted.org/packages/a9/04/15c701daefafa0719b3376d2b09d2b6362d6db8a2cea5dcf2f152c31ef73/use-payment-0.5.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}