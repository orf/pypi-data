{
    "0.1.0": {
        "info": {
            "author": "Manuel Holtgrewe",
            "author_email": "manuel.holtgrewe@bih-charite.de",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 2 - Pre-Alpha",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: MIT License",
                "Natural Language :: English",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.11",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "[![codecov](https://codecov.io/gh/bihealth/clinvar-this/branch/main/graph/badge.svg?token=059T45KAQM)](https://codecov.io/gh/bihealth/clinvar-this)\n[![Documentation Status](https://readthedocs.org/projects/clinvar-this/badge/?version=latest)](https://clinvar-this.readthedocs.io/en/latest/?badge=latest)\n\n# ClinVar This!\n\nClinVar Submission via API Made Easy\n\n- Free software: MIT license\n- Documentation: https://clinvar-this.readthedocs.io/en/latest/\n\n## Getting Started\n\nYou will need some experience with VCF files, ClinVar, and the Linux/Mac command line.\n\n### Obtain ClinVar API Key\n\nFirst of all, you need to register your organisation with NCBI, request a service account, and obtain an API key.\nSkip any step if you have already completed it.\n\n1. [Register your organisation with NCBI as they document](https://www.ncbi.nlm.nih.gov/clinvar/docs/api_http/)\n2. Send an email to clinvar@ncbi.nlm.nih.gov to request a service account for your organisation.\n3. Once you have a service account, create an API key as outlined [at the top of the NCBI ClinVar API documentation](https://www.ncbi.nlm.nih.gov/clinvar/docs/api_http/).\n\n### Install clinvar-this\n\nYou can either install the [PyPi package clinvar-this](https://pypi.org/project/clinvar-this/):\n\n```\n# pip install clinvar-this\n```\n\nOr you install via [conda/bioconda](http://bioconda.github.io/).\n\n```\n# conda install -c clinvar-this\n```\n\nCheck that your installation worked:\n\n```\n# clinvar-this --help\nUsage: clinvar-this [OPTIONS] COMMAND [ARGS]...\n\n  Main entry point for CLI via click.\n\nOptions:\n  --verbose / --no-verbose\n  --profile TEXT            The profile to use\n  --help                    Show this message and exit.\n\nCommands:\n  batch   Sub comment category ``batch ...``\n  config  Sub command category ``varfish-this config ...``\n```\n\n### Configure your API Token\n\n```\n# clinvar-this config set auth_token YOUR_AUTH_TOKEN_HERE\n```\n\nCheck that this worked:\n\n```\n# clinvar-this config dump\n# path: /home/holtgrem_c/.config/clinvar-this/config.toml\n[default]\nauth_token = \"YOUR_AUTH_TOKEN_HERE\"\n```\n\n### Prepare a clinvar-this TSV file.\n\nYou will need the following header in the first line\n\n- `ASSEMBLY` - the assembly used, e.g., `GRCh37`, `hg19`, `GRCh38`, `hg38`\n- `CHROM` - the chromosomal position without `chr` prefix, e.g., `1`\n- `POS` - the 1-based position of the first base in `REF` column\n- `REF` - the reference allele of your variant\n- `ALT` - the alternative allele of your variant\n- `OMIM` - the OMIM id of the carrier's condition (not the OMIM gene ID), e.g., `619325`.\n  Leave empty or use `not provided` if you have no OMIM ID.\n- `MOI` - mode of inheritance, e.g., `Autosomal dominant inheritance` or `Autosomal recessive inheritance`\n- `CLIN_SIG` - clinical significance, e.g. `Pathogenic`, or `Likely benign`\n- `CLIN_EVAL` - optional, date of late clinical evaluation, e.g. `2022-12-02`, leave empty to fill with the date of today\n- `CLIN_COMMENT` - optional, a comment on the clinical significance, e.g., `ACMG Class IV; PS3, PM2_sup, PP4`\n- `KEY` - optional, a local key to identify the variant/condition pair.\n  Filled automatically with a UUID if missing, recommeded to leave empty.\n- `HPO` - List of HPO terms separated by comma or semicolon, any space will be stripped.\n  E.g., `HP:0004322; HP:0001263`.\n\nThe following shows an example.\n\n```\nASSEMBLY\tCHROM\tPOS\tREF\tALT\tOMIM\tMOI\tCLIN_SIG\tHPO\nGRCh37\t19\t48183936\tC\tCA\t619325\tAutosomal\tdominant\tinheritance\tLikely\tpathogenic\tHP:0004322;HP:0001263\n```\n\nNote that you must use TAB characters (`\\t`) for separating the file.\n\n### Import the TSV file into clinvar-this\n\nUse the `batch import` command to import the TSV file into the local clinvar-this storage.\n\n```\n# clinvar-this batch import --name=BATCHNAME DATA_FILE.tsv\n```\n\nIf you do not specify the `--name` parameter then clinvar-this will generate one based on the current time.\nThis will create a new batch storage folder below `~/.local/share/clinvar-this/default` with the batch name and place a file `payload.$timestamp.json` there.\nThis corresponds to the data that will be uploaded into ClinVar.\n\nYou can now import another TSV file or change your TSV file and re-import it to apply the changes.\n\n### Submit via ClinVar API\n\nUse `batch submit BATCHNAME` to submit the data to the ClinVar API.\n\n```\n# clinvar-this batch submit BATCHNAME\n```\n\nThis will create a new file `submission-response.$timestamp.json` in the batch storage folder.\nThis file stores the identifier of the ClinVar submission.\nThis information is subsequently used in `batch retrieve`.\n\n### Retrieve ClinVar API Submission Result\n\nYou can now use the following command to query the ClinVar API for the status of your submission.\n\n```\n# clinvar batch retrieve BATCHNAME\n```\n\nIt will get the submission ID from the latest `submission-response.*.json` file (using lexicographic file name comparison) and query the ClinVar API.\nThe API response will be written to `retrieve-response.$timestamp.json`.\nIn the case that the API has processed your submission, clinvar-this will create a new `payload.$timestamp.json` file to reflect the change.\nYou will probably have to wait a few or many minutes until the processing finishes.\nThis will store any error message or ClinVar SCV.\n\n### Obtain SCV or Error Message\n\nYou could now look at the `payload.$timestamp.json` file to see the full server response.\nIt is more convenient, however, to export the results to a TSV file again which will display the SCV identifiers and any error message:\n\n```\n# clinvar-this batch export BATCHNAME DATA_FILE.reply.tsv\n```\n\nThe [ClinVar API documentation](https://www.ncbi.nlm.nih.gov/clinvar/docs/api_http/) says that variants submitted via the API do not have to pass manual curation.\nThat is, the server will perform a number of checks.\nIf your variants pass all checks then you will directly obtain an SCV and the variants will become publically available on the next Sunday.\n\n### Rinse and Repeat\n\nIn the case of a partial success, update the exported TSV file and submit it again until you are happy.\n\n## Caveats\n\n- **The `--use-testing` and `--dry-run` mode.**\n  When enabling `--use-testing`, an alternative API endpoint provided by ClinVar will be used.\n  This endpoint may use a different schema than the official endpoint (e.g., this has happened in November 2022).\n  ClinVar has previously notified their submitters via email without official news posts.\n\n\n# Changelog\n\n## 0.1.0 (2022-12-02)\n\n\n### Features\n\n* add basic config management in CLI ([#32](https://www.github.com/bihealth/clinvar-this/issues/32)) ([#33](https://www.github.com/bihealth/clinvar-this/issues/33)) ([c903546](https://www.github.com/bihealth/clinvar-this/commit/c903546751fe6c59fcc20770b6a1ad1ac88fbd86))\n* add functions for managing batch data ([#34](https://www.github.com/bihealth/clinvar-this/issues/34), [#37](https://www.github.com/bihealth/clinvar-this/issues/37)) ([#35](https://www.github.com/bihealth/clinvar-this/issues/35)) ([0c7e0f9](https://www.github.com/bihealth/clinvar-this/commit/0c7e0f9b65dc0b2189c302065cdebdc2489ea842))\n* add sphinx-based documentation ([#30](https://www.github.com/bihealth/clinvar-this/issues/30)) ([#31](https://www.github.com/bihealth/clinvar-this/issues/31)) ([d10adc5](https://www.github.com/bihealth/clinvar-this/commit/d10adc50a720548b580b7aa6bd52477012bb6d29))\n* add tests for submission messages ([#19](https://www.github.com/bihealth/clinvar-this/issues/19)) ([#22](https://www.github.com/bihealth/clinvar-this/issues/22)) ([b168d47](https://www.github.com/bihealth/clinvar-this/commit/b168d47e0b3aed8d3a706ddbd28ddbb635ad86b4))\n* add unit tests for submission messages ([#19](https://www.github.com/bihealth/clinvar-this/issues/19)) ([#20](https://www.github.com/bihealth/clinvar-this/issues/20)) ([1c4e11a](https://www.github.com/bihealth/clinvar-this/commit/1c4e11aa6eda5ebce0a66e8f21f17ea89c7ed7e2))\n* adding mypy type checking ([#11](https://www.github.com/bihealth/clinvar-this/issues/11)) ([#12](https://www.github.com/bihealth/clinvar-this/issues/12)) ([700994a](https://www.github.com/bihealth/clinvar-this/commit/700994a113f2441bba76e3dc95adccf9fed6a156))\n* adjust to ClinVar API change (Nov 2022) ([#47](https://www.github.com/bihealth/clinvar-this/issues/47)) ([#48](https://www.github.com/bihealth/clinvar-this/issues/48)) ([0e4fb50](https://www.github.com/bihealth/clinvar-this/commit/0e4fb508bda571c0c0afdab417e9052667f46ea1))\n* allow annotation with HPO terms in TSV format ([#50](https://www.github.com/bihealth/clinvar-this/issues/50)) ([#56](https://www.github.com/bihealth/clinvar-this/issues/56)) ([0b0da41](https://www.github.com/bihealth/clinvar-this/commit/0b0da41e938e464e97ea1be7edcad6c666860f1e))\n* allow import of extra columns ([#53](https://www.github.com/bihealth/clinvar-this/issues/53)) ([#54](https://www.github.com/bihealth/clinvar-this/issues/54)) ([616bfe7](https://www.github.com/bihealth/clinvar-this/commit/616bfe7867fe7ddd1c898f7582b1a353069b7ccd))\n* completing enums ([#23](https://www.github.com/bihealth/clinvar-this/issues/23)) ([#24](https://www.github.com/bihealth/clinvar-this/issues/24)) ([9198983](https://www.github.com/bihealth/clinvar-this/commit/919898305a6155408118cd43a982c78153976879))\n* implement api models ([#4](https://www.github.com/bihealth/clinvar-this/issues/4)) ([#5](https://www.github.com/bihealth/clinvar-this/issues/5)) ([3690c36](https://www.github.com/bihealth/clinvar-this/commit/3690c36b25fc98e520a401f8755a48b3451a972f))\n* implement attrs-based message models ([#1](https://www.github.com/bihealth/clinvar-this/issues/1)) ([#2](https://www.github.com/bihealth/clinvar-this/issues/2)) ([f253c24](https://www.github.com/bihealth/clinvar-this/commit/f253c248cf35f749ace3c68633eb8d0357349688))\n* implement enums for submission messages ([#14](https://www.github.com/bihealth/clinvar-this/issues/14)) ([#16](https://www.github.com/bihealth/clinvar-this/issues/16)) ([201cbe4](https://www.github.com/bihealth/clinvar-this/commit/201cbe4e055e0d013efe6f85a91b5ec339c77838))\n* implement internal models for submissions ([#9](https://www.github.com/bihealth/clinvar-this/issues/9)) ([#26](https://www.github.com/bihealth/clinvar-this/issues/26)) ([be04e40](https://www.github.com/bihealth/clinvar-this/commit/be04e40e15adba180827fdc808c17d7d1647edb7))\n* implement minimal TSV format ([#17](https://www.github.com/bihealth/clinvar-this/issues/17)) ([#18](https://www.github.com/bihealth/clinvar-this/issues/18)) ([960827d](https://www.github.com/bihealth/clinvar-this/commit/960827d9be757e5cc1cfe537451e3a34c738b256))\n* implement models for extra files ([#6](https://www.github.com/bihealth/clinvar-this/issues/6)) ([#13](https://www.github.com/bihealth/clinvar-this/issues/13)) ([852e4c6](https://www.github.com/bihealth/clinvar-this/commit/852e4c6cd981ae533afbfda0217a4b9e1de8065e))\n* implement models for submission message ([#8](https://www.github.com/bihealth/clinvar-this/issues/8)) ([#15](https://www.github.com/bihealth/clinvar-this/issues/15)) ([90afd10](https://www.github.com/bihealth/clinvar-this/commit/90afd105fc0d29c3962529157f38a20e48090a56))\n* implement more columns in TSV ([#39](https://www.github.com/bihealth/clinvar-this/issues/39)) ([#55](https://www.github.com/bihealth/clinvar-this/issues/55)) ([6184d76](https://www.github.com/bihealth/clinvar-this/commit/6184d76a2f8261131718bbe69e88fdaf66b3a8de))\n* implementing REST clinvar_api.client module ([#28](https://www.github.com/bihealth/clinvar-this/issues/28)) ([#29](https://www.github.com/bihealth/clinvar-this/issues/29)) ([829d907](https://www.github.com/bihealth/clinvar-this/commit/829d907763db617a04d277f297256980d25d51ab))\n* store errors from \"batch retrieve\" ([#59](https://www.github.com/bihealth/clinvar-this/issues/59)) ([#60](https://www.github.com/bihealth/clinvar-this/issues/60)) ([67b8b0c](https://www.github.com/bihealth/clinvar-this/commit/67b8b0ccd85d4a913e7b8f1eb30dc4e96a2af32c))\n* write data into profile sub directory ([#52](https://www.github.com/bihealth/clinvar-this/issues/52)) ([e699736](https://www.github.com/bihealth/clinvar-this/commit/e6997367d77586c1337a44fa7b5306ecede52a41))\n\n\n### Bug Fixes\n\n* interpret TSV OMIM \"not provided\" ([#57](https://www.github.com/bihealth/clinvar-this/issues/57)) ([#58](https://www.github.com/bihealth/clinvar-this/issues/58)) ([b655097](https://www.github.com/bihealth/clinvar-this/commit/b655097f2bf534b57115e3f9f5d18387ddfb1f18))\n\n\n### Documentation\n\n* add getting started tutorial to README ([#45](https://www.github.com/bihealth/clinvar-this/issues/45)) ([#61](https://www.github.com/bihealth/clinvar-this/issues/61)) ([3de084b](https://www.github.com/bihealth/clinvar-this/commit/3de084b49c184dfc6fb977b64cf478f03275ef9b))\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/bihealth/clinvar_this",
            "keywords": "clinvar",
            "license": "MIT license",
            "maintainer": "",
            "maintainer_email": "",
            "name": "clinvar-this",
            "package_url": "https://pypi.org/project/clinvar-this/",
            "platform": null,
            "project_url": "https://pypi.org/project/clinvar-this/",
            "project_urls": {
                "Homepage": "https://github.com/bihealth/clinvar_this"
            },
            "release_url": "https://pypi.org/project/clinvar-this/0.1.0/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "ClinVar Submission via API Made Easy",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15968538,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "968ffc1eee58817c080e20dfe4d3d5bf",
                    "sha256": "458424c1e6c8ff5d4a7db7df1b7c1f76ab7926331f2a879d11c7fac2c7517b16"
                },
                "downloads": -1,
                "filename": "clinvar-this-0.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "968ffc1eee58817c080e20dfe4d3d5bf",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 71004,
                "upload_time": "2022-12-02T10:24:25",
                "upload_time_iso_8601": "2022-12-02T10:24:25.741564Z",
                "url": "https://files.pythonhosted.org/packages/26/b4/e91f146ed342fcff1a8f0120e279d445e0ffcea56b4c01ef0959018a68d1/clinvar-this-0.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}