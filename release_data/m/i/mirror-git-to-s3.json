{
    "0.0.0": {
        "info": {
            "author": "",
            "author_email": "Department for International Trade <sre@digital.trade.gov.uk>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Software Development :: Version Control :: Git"
            ],
            "description": "# mirror-git-to-s3\n\nPython functions and CLI to mirror git repositories available on HTTP(S) to S3. Essentially converts smart protocol git repositories to the so-called dumb protocol. Does not use temporary disk space, and uses streaming under the hood. This should allow the mirroring to be run on systems that don't have much disk or available memory, even on large repositories.\n\n> Work in progress. This README serves as a rough design spec.\n\n\n## Usage\n\nTo mirror one or more repositories from Python, use the `mirror_repos` function, passing it an iterable of (source, target) mappings.\n\n```python\nfrom mirror_git_to_s3 import mirror_repos\n\nmirror_repos((\n\t('https://example.test/my-first-repo', 's3://my-bucket/my-first-repo'),\n\t('https://example.test/my-second-repo', 's3://my-bucket/my-second-repo'),\n))\n```\n\nIn the previous example the iterable is itself a tuple. However in general any iterable is supported, Under the hood repositories are processed in parallel, and transfers can start before the entire list is known.\n\n```python\nfrom mirror_git_to_s3 import mirror_repos\n\ndef mappings():\n\tyield ('https://example.test/my-first-repo', 's3://my-bucket/my-first-repo')\n\tyield ('https://example.test/my-second-repo', 's3://my-bucket/my-second-repo')\n\nmirror_repos(mappings())\n```\n\nUnder the hood, boto3 is used to communicate with S3. The boto3 client is constructed automatically, but you can override the default by using the `get_s3_client` argument.\n\n```python\nimport boto3\nfrom mirror_git_to_s3 import mirror_repos\n\nmirror_repos(mappings(), get_s3_client=lambda: boto3.client('s3'))\n```\n\nThis can be used to mirror to S3-compatible storage.\n\n```python\nimport boto3\nfrom mirror_git_to_s3 import mirror_repos\n\nmirror_repos(mappings(), get_s3_client=lambda: boto3.client('s3', endpoint_url='http://my-host.com/'))\n```\n\nTo mirror repositories from the the command line pairs of `--source` `--target` options can be passed to `mirror-git-to-s3`.\n\n```bash\nmirror-git-to-s3 \\\n\t--source 'https://example.test/my-first-repo' --target 's3://my-bucket/my-first-repo' \\\n\t--source 'https://example.test/my-second-repo' --target 's3://my-bucket/my-second-repo'\n```\n\nAt the time of writing, there is no known standard way of discovering a set of associated git repositories, hence to remain general, this project must be told the source and target addresses of each repository explicitly.\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "mirror-git-to-s3",
            "package_url": "https://pypi.org/project/mirror-git-to-s3/",
            "platform": null,
            "project_url": "https://pypi.org/project/mirror-git-to-s3/",
            "project_urls": {
                "Bug Tracker": "https://github.com/uktrade/mirror-git-to-s3/issues",
                "Homepage": "https://github.com/uktrade/mirror-git-to-s3"
            },
            "release_url": "https://pypi.org/project/mirror-git-to-s3/0.0.0/",
            "requires_dist": [
                "boto3>=1.26.27",
                "httpx>=0.23.1"
            ],
            "requires_python": ">=3.7",
            "summary": "Python functions and CLI to mirror git repositories available on HTTP(S) to S3",
            "version": "0.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16065478,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "8694d1080605f6400167f136c233697e",
                    "sha256": "ae7f14135f0956e0da85a7edcd45c55d4a05316042a2a4b2ab1ae5c5f532acdf"
                },
                "downloads": -1,
                "filename": "mirror_git_to_s3-0.0.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "8694d1080605f6400167f136c233697e",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 4604,
                "upload_time": "2022-12-11T15:19:20",
                "upload_time_iso_8601": "2022-12-11T15:19:20.458886Z",
                "url": "https://files.pythonhosted.org/packages/64/38/460ac96b26d575c1f0b1956e4abbe27416a3bc6e9c263e7acfc2be221efa/mirror_git_to_s3-0.0.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "01d8b504e02badb409c3612646a52ad1",
                    "sha256": "29e9447005278abbd8800f7101b3f21a27d6c2b211040c94260ccfb0ce811577"
                },
                "downloads": -1,
                "filename": "mirror_git_to_s3-0.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "01d8b504e02badb409c3612646a52ad1",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 4885,
                "upload_time": "2022-12-11T15:19:23",
                "upload_time_iso_8601": "2022-12-11T15:19:23.051378Z",
                "url": "https://files.pythonhosted.org/packages/a3/b4/dd818465369b2c3e199229ce56d2a8d2bdb6e4e141fd1f1331cd886190f4/mirror_git_to_s3-0.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}