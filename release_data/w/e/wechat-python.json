{
    "0.5.7": {
        "info": {
            "author": "zwczou",
            "author_email": "zwczou@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/x-rst",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/wpcfan/weixin-python",
            "keywords": "weixin,weixin pay,weixin login,weixin mp,weixin python,wechat,wechat pay,wechat login,wechat mp,wechat python",
            "license": "BSD",
            "maintainer": "",
            "maintainer_email": "",
            "name": "wechat-python",
            "package_url": "https://pypi.org/project/wechat-python/",
            "platform": "any",
            "project_url": "https://pypi.org/project/wechat-python/",
            "project_urls": {
                "Homepage": "https://github.com/wpcfan/weixin-python"
            },
            "release_url": "https://pypi.org/project/wechat-python/0.5.7/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Wechat for Python",
            "version": "0.5.7",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15249628,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "689bef0072653b5aac8af4f9ac3752a7",
                    "sha256": "0616c5233ad0e94c0d4d6ebb1e317748e92cc812d353dc34745bb10c0da1a9ef"
                },
                "downloads": -1,
                "filename": "wechat-python-0.5.7.tar.gz",
                "has_sig": false,
                "md5_digest": "689bef0072653b5aac8af4f9ac3752a7",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 15946,
                "upload_time": "2022-09-26T04:51:00",
                "upload_time_iso_8601": "2022-09-26T04:51:00.735849Z",
                "url": "https://files.pythonhosted.org/packages/ef/61/fd0c6204ef2455eb6d74dce5d3b8bb7fe4f957e84a80c9f5d03548296777/wechat-python-0.5.7.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.5.8": {
        "info": {
            "author": "zwczou",
            "author_email": "zwczou@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/x-rst",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/wpcfan/weixin-python",
            "keywords": "weixin,weixin pay,weixin login,weixin mp,weixin python,wechat,wechat pay,wechat login,wechat mp,wechat python",
            "license": "BSD",
            "maintainer": "",
            "maintainer_email": "",
            "name": "wechat-python",
            "package_url": "https://pypi.org/project/wechat-python/",
            "platform": "any",
            "project_url": "https://pypi.org/project/wechat-python/",
            "project_urls": {
                "Homepage": "https://github.com/wpcfan/weixin-python"
            },
            "release_url": "https://pypi.org/project/wechat-python/0.5.8/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Wechat for Python",
            "version": "0.5.8",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15249628,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "97d274c0b5f3c3dd2bc655c96caf7949",
                    "sha256": "a9f5a6b9cccef7efa52a758ef3bb6f4a1a27f35205f6e537a6da172fd2186d9a"
                },
                "downloads": -1,
                "filename": "wechat-python-0.5.8.tar.gz",
                "has_sig": false,
                "md5_digest": "97d274c0b5f3c3dd2bc655c96caf7949",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 16797,
                "upload_time": "2022-09-29T04:35:37",
                "upload_time_iso_8601": "2022-09-29T04:35:37.152878Z",
                "url": "https://files.pythonhosted.org/packages/a4/aa/e2f1b751028a264079a9d46c5cc01ab58a99ae96de912bea582c3bb82ba0/wechat-python-0.5.8.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.5.9": {
        "info": {
            "author": "zwczou",
            "author_email": "zwczou@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "\u5feb\u901f\u5f00\u59cb\r\n==============\r\n\r\n\u5b89\u88c5\r\n----\r\n\r\n\u4f7f\u7528pip\r\n\r\n.. code-block:: python\r\n\r\n    sudo pip install wechat-python\r\n\r\n\u4f7f\u7528easy_install\r\n\r\n.. code-block:: python\r\n\r\n    sudo easy_install wechat-python\r\n\r\n\u5b89\u88c5\u5f00\u53d1\u7248\u672c\r\n\r\n.. code-block:: python\r\n\r\n    sudo pip install git+https://github.com/wpcfan/wechat-python@dev\r\n\r\n\u529f\u80fd\r\n----\r\n\r\n-  \u5fae\u4fe1\u767b\u9646\r\n-  \u5fae\u4fe1\u652f\u4ed8\r\n-  \u5fae\u4fe1\u516c\u4f17\u53f7\r\n-  \u5fae\u4fe1\u6d88\u606f\r\n\r\n\u7528\u6cd5\r\n----\r\n\r\n\u5f02\u5e38\r\n~~~~~~~~~~\r\n\r\n\u7236\u5f02\u5e38\u7c7b\u540d\u4e3a ``WeixinError`` \u5b50\u5f02\u5e38\u7c7b\u540d\u5206\u522b\u4e3a ``WeixinLoginError``\r\n``WeixinPayError`` ``WeixinMPError`` ``WeixinMsgError``\r\n\r\n\u53c2\u6570\r\n~~~~~~~~~~\r\n\r\n-  ``WEIXIN_TOKEN`` \u5fc5\u586b\uff0c\u5fae\u4fe1\u4e3b\u52a8\u63a8\u9001\u6d88\u606f\u7684TOKEN\r\n-  ``WEIXIN_SENDER`` \u9009\u586b\uff0c\u5fae\u4fe1\u53d1\u9001\u6d88\u606f\u7684\u53d1\u9001\u8005\r\n-  ``WEIXIN_EXPIRES_IN`` \u9009\u586b\uff0c\u5fae\u4fe1\u63a8\u9001\u6d88\u606f\u7684\u6709\u6548\u65f6\u95f4\r\n-  ``WEIXIN_MCH_ID`` \u5fc5\u586b\uff0c\u5fae\u4fe1\u5546\u6237ID\uff0c\u7eaf\u6570\u5b57\r\n-  ``WEIXIN_MCH_KEY`` \u5fc5\u586b\uff0c\u5fae\u4fe1\u5546\u6237KEY\r\n-  ``WEIXIN_NOTIFY_URL`` \u5fc5\u586b\uff0c\u5fae\u4fe1\u56de\u8c03\u5730\u5740\r\n-  ``WEIXIN_MCH_KEY_FILE`` \u53ef\u9009\uff0c\u5982\u679c\u9700\u8981\u7528\u9000\u6b3e\u7b49\u9700\u8981\u8bc1\u4e66\u7684api\uff0c\u5fc5\u9009\r\n-  ``WEIXIN_MCH_CERT_FILE`` \u53ef\u9009\r\n-  ``WEIXIN_APP_ID`` \u5fc5\u586b\uff0c\u5fae\u4fe1\u516c\u4f17\u53f7appid\r\n-  ``WEIXIN_APP_SECRET`` \u5fc5\u586b\uff0c\u5fae\u4fe1\u516c\u4f17\u53f7appkey\r\n\r\n\u4e0a\u9762\u53c2\u6570\u7684\u5fc5\u586b\u90fd\u662f\u6839\u636e\u5177\u4f53\u5f00\u542f\u7684\u529f\u80fd\u6709\u5173,\r\n\u5982\u679c\u4f60\u53ea\u9700\u8981\u5fae\u4fe1\u767b\u9646\uff0c\u5c31\u53ea\u8981\u9009\u62e9 ``WEIXIN_APP_ID`` ``WEIXIN_APP_SECRET``\r\n\r\n-  \u5fae\u4fe1\u6d88\u606f\r\n\r\n   -  ``WEIXIN_TOKEN``\r\n   -  ``WEIXIN_SENDER``\r\n   -  ``WEIXIN_EXPIRES_IN``\r\n\r\n-  \u5fae\u4fe1\u767b\u9646\r\n\r\n   -  ``WEIXIN_APP_ID``\r\n   -  ``WEIXIN_APP_SECRET``\r\n\r\n-  \u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\r\n\r\n   -  ``WEIXIN_APP_ID``\r\n   -  ``WEIXIN_APP_SECRET``\r\n\r\n-  \u5fae\u4fe1\u652f\u4ed8\r\n\r\n   -  ``WEIXIN_APP_ID``\r\n   -  ``WEIXIN_MCH_ID``\r\n   -  ``WEIXIN_MCH_KEY``\r\n   -  ``WEIXIN_NOTIFY_URL``\r\n   -  ``WEIXIN_MCH_KEY_FILE``\r\n   -  ``WEIXIN_MCH_CERT_FILE``\r\n\r\n\u521d\u59cb\u5316\r\n~~~~~~~\r\n\r\n\u5982\u679c\u4f7f\u7528flask\r\n\r\n.. code-block:: python\r\n\r\n    # -*- coding: utf-8 -*-\r\n\r\n\r\n    from datetime import datetime, timedelta\r\n    from flask import Flask, jsonify, request, url_for\r\n    from weixin import Weixin, WeixinError\r\n\r\n\r\n    app = Flask(__name__)\r\n    app.debug = True\r\n\r\n\r\n    # \u5177\u4f53\u5bfc\u5165\u914d\r\n    # \u6839\u636e\u9700\u6c42\u5bfc\u5165\u4ec5\u4f9b\u53c2\u8003\r\n    app.config.fromobject(dict(WEIXIN_APP_ID='', WEIXIN_APP_SECRET=''))\r\n\r\n\r\n    # \u521d\u59cb\u5316\u5fae\u4fe1\r\n    weixin = Weixin()\r\n    weixin.init_app(app)\r\n    # \u6216\u8005\r\n    # weixin = Weixin(app)\r\n\r\n\u5982\u679c\u4e0d\u4f7f\u7528flask\r\n\r\n.. code-block:: python\r\n\r\n    # \u6839\u636e\u9700\u6c42\u5bfc\u5165\u4ec5\u4f9b\u53c2\u8003\r\n    config = dict(WEIXIN_APP_ID='', WEIXIN_APP_SECRET='')\r\n    weixin = Weixin(config)\r\n\r\n\u5fae\u4fe1\u6d88\u606f\r\n~~~~~~~~\r\n\r\n\u5982\u679c\u4f7f\u7528django, \u6dfb\u52a0\u89c6\u56fe\u51fd\u6570\u4e3a\r\n\r\n.. code-block:: python\r\n\r\n    url(r'^/$', weixin.django_view_func(), name='index'),\r\n\r\n\u5982\u679c\u4e3aflask, \u6dfb\u52a0\u89c6\u56fe\u51fd\u6570\u4e3a\r\n\r\n.. code-block:: python\r\n\r\n    app.add_url_rule(\"/\", view_func=weixin.view_func)\r\n\r\n.. code-block:: python\r\n\r\n    @weixin.all\r\n    def all(**kwargs):\r\n        \"\"\"\r\n        \u76d1\u542c\u6240\u6709\u6ca1\u6709\u66f4\u7279\u6b8a\u7684\u4e8b\u4ef6\r\n        \"\"\"\r\n        return weixin.reply(kwargs['sender'], sender=kwargs['receiver'], content='all')\r\n\r\n\r\n    @weixin.text()\r\n    def hello(**kwargs):\r\n        \"\"\"\r\n        \u76d1\u542c\u6240\u6709\u6587\u672c\u6d88\u606f\r\n        \"\"\"\r\n        return \"hello too\"\r\n\r\n\r\n    @weixin.text(\"help\")\r\n    def world(**kwargs):\r\n        \"\"\"\r\n        \u76d1\u542chelp\u6d88\u606f\r\n        \"\"\"\r\n        return dict(content=\"hello world!\")\r\n\r\n\r\n    @weixin.subscribe\r\n    def subscribe(**kwargs):\r\n        \"\"\"\r\n        \u76d1\u542c\u8ba2\u9605\u6d88\u606f\r\n        \"\"\"\r\n        print kwargs\r\n        return \"\u6b22\u8fce\u8ba2\u9605\u6211\u4eec\u7684\u516c\u4f17\u53f7\"\r\n\r\n\u5fae\u4fe1\u767b\u9646\r\n~~~~~~~~\r\n\r\n.. code-block:: python\r\n\r\n    @app.route(\"/login\")\r\n    def login():\r\n        \"\"\"\u767b\u9646\u8df3\u8f6c\u5730\u5740\"\"\"\r\n        openid = request.cookies.get(\"openid\")\r\n        next = request.args.get(\"next\") or request.referrer or \"/\",\r\n        if openid:\r\n            return redirect(next)\r\n\r\n        callback = url_for(\"authorized\", next=next, _external=True)\r\n        url = weixin.authorize(callback, \"snsapi_base\")\r\n        return redirect(url)\r\n\r\n\r\n    @app.route(\"/authorized\")\r\n    def authorized():\r\n        \"\"\"\u767b\u9646\u56de\u8c03\u51fd\u6570\"\"\"\r\n        code = request.args.get(\"code\")\r\n        if not code:\r\n            return \"ERR_INVALID_CODE\", 400\r\n        next = request.args.get(\"next\", \"/\")\r\n        data = weixin.access_token(code)\r\n        openid = data.openid\r\n        resp = redirect(next)\r\n        expires = datetime.now() + timedelta(days=1)\r\n        resp.set_cookie(\"openid\", openid, expires=expires)\r\n        return resp\r\n\r\n\u5fae\u4fe1\u652f\u4ed8\r\n~~~~~~~~\r\n\r\n\u6ce8\u610f: \u5fae\u4fe1\u7f51\u9875\u652f\u4ed8\u7684timestamp\u53c2\u6570\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\r\n\r\n.. code-block:: python\r\n\r\n\r\n    @app.route(\"/pay/jsapi\")\r\n    def pay_jsapi():\r\n        \"\"\"\u5fae\u4fe1\u7f51\u9875\u652f\u4ed8\u8bf7\u6c42\u53d1\u8d77\"\"\"\r\n        try:\r\n            out_trade_no = weixin.nonce_str\r\n            raw = weixin.jsapi(openid=\"openid\", body=u\"\u6d4b\u8bd5\", out_trade_no=out_trade_no, total_fee=1)\r\n            return jsonify(raw)\r\n        except WeixinError, e:\r\n            print e.message\r\n            return e.message, 400\r\n\r\n\r\n    @app.route(\"/pay/notify\")\r\n    def pay_notify():\r\n        \"\"\"\r\n        \u5fae\u4fe1\u5f02\u6b65\u901a\u77e5\r\n        \"\"\"\r\n        data = weixin.to_dict(request.data)\r\n        if not weixin.check(data):\r\n            return weixin.reply(\"\u7b7e\u540d\u9a8c\u8bc1\u5931\u8d25\", False)\r\n        # \u5904\u7406\u4e1a\u52a1\u903b\u8f91\r\n        return weixin.reply(\"OK\", True)\r\n\r\n\r\n    if __name__ == '__main__':\r\n        app.run(host=\"0.0.0.0\", port=9900)\r\n\r\n\u5fae\u4fe1\u516c\u4f17\u53f7\r\n~~~~~~~~~~\r\n\r\n**\u6ce8\u610f**:\r\n\u5982\u679c\u4f7f\u7528\u5206\u5e03\u5f0f\uff0c\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\\ ``access_token``\\ \u8ddf\\ ``jsapi_ticket``\\ \u51fd\u6570\r\n\r\n``access_token``\\ \u9ed8\u8ba4\u4fdd\u5b58\u5728\\ ``~/.access_token``\r\n``jsapi_ticket``\\ \u9ed8\u8ba4\u4fdd\u5b58\u5728\\ ``~/.jsapi_ticket``\r\n\r\n\u9ed8\u8ba4\u5728(HOME)\u76ee\u5f55\u4e0b\u9762\uff0c\u5982\u679c\u9700\u8981\u66f4\u6539\u5230\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u53ef\u4ee5\u5bfc\u5165\u5e93\u4e4b\u540e\u4fee\u6539\uff0c\u5982\u4e0b\r\n\r\n.. code-block:: python\r\n\r\n    import weixin\r\n\r\n    DEFAULT_DIR = \"/tmp\"\r\n\r\n\u83b7\u53d6\u516c\u4f17\u53f7\u552f\u4e00\u51ed\u8bc1\r\n\r\n.. code-block:: python\r\n\r\n    weixin.access_token\r\n\r\n\u83b7\u53d6ticket\r\n\r\n.. code-block:: python\r\n\r\n    weixin.jsapi_ticket\r\n\r\n\u521b\u5efa\u4e34\u65f6qrcode\r\n\r\n.. code-block:: python\r\n\r\n    data = weixin.qrcode_create(123, 30)\r\n    print weixin.qrcode_show(data.ticket)\r\n\r\n\u521b\u5efa\u6c38\u4e45\u6027qrcode\r\n\r\n.. code-block:: python\r\n\r\n    # scene_id\u7c7b\u578b\r\n    weixin.qrcode_create_limit(123)\r\n    # scene_str\u7c7b\u578b\r\n    weixin.qrcode_create_limit(\"456\")\r\n\r\n\u957f\u94fe\u63a5\u53d8\u77ed\u94fe\u63a5\r\n\r\n.. code-block:: python\r\n\r\n    weixin.shorturl(\"http://example.com/test\")\r\n\r\n",
            "description_content_type": "text/x-rst",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/wpcfan/weixin-python",
            "keywords": "weixin,weixin pay,weixin login,weixin mp,weixin python,wechat,wechat pay,wechat login,wechat mp,wechat python",
            "license": "BSD",
            "maintainer": "",
            "maintainer_email": "",
            "name": "wechat-python",
            "package_url": "https://pypi.org/project/wechat-python/",
            "platform": "any",
            "project_url": "https://pypi.org/project/wechat-python/",
            "project_urls": {
                "Homepage": "https://github.com/wpcfan/weixin-python"
            },
            "release_url": "https://pypi.org/project/wechat-python/0.5.9/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Wechat for Python",
            "version": "0.5.9",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15249628,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "626443989a15c1bdc30e1c428df88738",
                    "sha256": "1fab9de9fc2a456f5f30ad05c8c2ff710105c86bdb1ca9d50579b13848f07290"
                },
                "downloads": -1,
                "filename": "wechat-python-0.5.9.tar.gz",
                "has_sig": false,
                "md5_digest": "626443989a15c1bdc30e1c428df88738",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 16852,
                "upload_time": "2022-09-29T05:01:42",
                "upload_time_iso_8601": "2022-09-29T05:01:42.996072Z",
                "url": "https://files.pythonhosted.org/packages/2b/92/1b7ff8aa656a141482ecfc869936f1d946e1bf544df226778485fcb229b2/wechat-python-0.5.9.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}