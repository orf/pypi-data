{
    "0.1.3": {
        "info": {
            "author": "ansgoo",
            "author_email": "haiven_123@163.com",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 5 - Production/Stable",
                "Environment :: Console",
                "Environment :: MacOS X",
                "License :: OSI Approved :: MIT License",
                "Operating System :: POSIX :: Linux",
                "Operating System :: Unix",
                "Programming Language :: Python",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "DjangoMultiTenant\n=================\n\ndjango\n\u591a\u79df\u6237\u65b9\u6848\u5b9e\u73b0\u65b9\u6848\uff0c\u672c\u63d2\u4ef6\u7684\u662f\u5728\u6570\u636e\u5e93\u5c42\u5bf9\u79df\u6237\u6570\u636e\u8fdb\u884c\u4e86\u9694\u79bb\uff0c\u4fdd\u8bc1\u6bcf\u4e2a\u79df\u6237\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u6570\u636e\u5e93\u4fe1\u606f\uff0c\u5b8c\u6574\u517c\u5bb9django\u6240\u6709\u529f\u80fd\n\n\u5b89\u88c5\n----\n\n.. code:: shell\n\n    pip install django-multi-tenancy\n\n\u517c\u5bb9\u6027\n------\n\n-  django >= 3.2\n\n\u5176\u4ed6django\u7248\u672c\u672a\u6d4b\u8bd5\uff0c\u4e0d\u4fdd\u8bc1\u517c\u5bb9\u6027\n\n\u914d\u7f6e\n----\n\n.. code:: python\n\n\n    INSTALLED_APPS = [\n        'multi_tenant.tenant',\n        'django.contrib.admin',\n        'django.contrib.auth',\n        'django.contrib.contenttypes',\n        'django.contrib.sessions',\n        'django.contrib.messages',\n        'django.contrib.staticfiles',\n        ...\n        'multi_tenant.proxy',\n        #  rest_framework \u9700\u8981\u52a0\u8f7drest app\n        'multi_tenant.rest'\n    ]\n\n    MIDDLEWARE = [\n        'django.middleware.security.SecurityMiddleware',\n        'django.contrib.sessions.middleware.SessionMiddleware',\n        'corsheaders.middleware.CorsMiddleware',\n        'django.middleware.common.CommonMiddleware',\n        'django.middleware.csrf.CsrfViewMiddleware',\n        # \u9700\u8981\u6ce8\u91ca\u8c03\u5b98\u65b9\u81ea\u5e26\u7684AuthenticationMiddleware\uff0c\u91c7\u7528\u63d2\u4ef6\u7684MultTenantAuthenticationMiddleware\n        # 'django.contrib.auth.middleware.AuthenticationMiddleware',\n        'multi_tenant.tenant.middleware.authentication.MultTenantAuthenticationMiddleware',\n        'django.contrib.messages.middleware.MessageMiddleware',\n        'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    ]\n\n    # AUTH_USER_MODEL \u5168\u5c40\u7528\u6237\u6a21\u578b,\u5fc5\u987b\u6307\u5b9a\n    AUTH_USER_MODEL = 'tenant.GlobalUser'\n\n    # \u79df\u6237\u7528\u6237\u6a21\u578b,\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u4e3a\uff1a'auth.User'\n    AUTH_TENANT_USER_MODEL = 'info.User'\n\n    # \u79df\u6237\u6a21\u578b,\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u4e3a\uff1a'tenant.Tenant'\n    DEFAULT_TENANT_MODEL = 'tenant.Tenant'\n\n    ## \u6570\u636e\u5e93\u6620\u5c04\uff0c\u8fd9\u91cc\u53ea\u9700\u8981\u5b9a\u4e49\u5171\u7528\u7684app\n    DATABASE_APPS_MAPPING = {\n        'tenant': 'default',\n        'admin': 'default',\n        'sessions': 'default'\n    }\n\n    ## \u6570\u636e\u5e93\u6620\u5c04\u8def\u7531\n    DATABASE_ROUTERS = ['multi_tenant.tenant.utils.db.MultTenantDBRouter']\n\n\u4e3b\u8981\u6a21\u5757\u8bf4\u660e\u4ee5\u53ca\u4f7f\u7528\n--------------------\n\n\u6570\u636e\u5e93\u6a21\u5757\n~~~~~~~~~~\n\n1. \u9ed8\u8ba4\\ ``default``\\ \u6570\u636e\u5e93\u4e3a\u4e3b\u6570\u636e\u5e93,\u53ea\u4fdd\u5b58\u516c\u5171\u6a21\u5757\u6570\u636e\uff0c\u79df\u6237\u6570\u636e\u5e93\u53ef\u4ee5\u52a8\u6001\u521b\u5efa\uff0c\u521b\u5efa\u4e00\u4e2a\u79df\u6237\uff0c\u4f1a\u81ea\u52a8\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u5bf9\u5e94\u79df\u6237\u7684\u6570\u636e\u5e93\uff0c\u6240\u6709\u79df\u6237\u7684\u6570\u636e\u5e93\u7ed3\u6784\u76f8\u540c\n\n2. \u53ef\u4ee5\u5728\\ ``DATABASE_APPS_MAPPING``\\ \u4e2d\u6307\u5b9a\u67d0\u4e2a\\ ``app``\\ \u5c5e\u4e8e\u516c\u5171\\ ``app``,\u8fd8\u662f\u79df\u6237\\ ``app``,\u516c\u5171\\ ``app``\\ \u9ed8\u8ba4\u6570\u636e\u5e93\u94fe\u63a5\u4e3a\\ ``default``\n\n``multi_tenant.tenant`` \u591a\u79df\u6237\u6a21\u5757\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n1. ``Tenant``\\ \u4e3a\u79df\u6237\u6a21\u578b\uff0c\u5f53\u7136\u4f60\u53ef\u4ee5\u7ee7\u627f\\ ``AbstractTenant``\\ \u6765\u81ea\u5b9a\u4e49\u81ea\u5df1\u7684\u79df\u6237\u6a21\u5757\uff0c\u5e76\u5728\\ ``settings``\\ \u4e2d\u6307\u5b9a\\ ``DEFAULT_TENANT_MODEL``\\ \u5e38\u91cf\u6765\u6307\u5b9a\u79df\u6237\u6a21\u578b\n\n2. ``GlobalUser``\n   \u4e3a\u5168\u5c40\u7528\u6237\uff0c\u4e0d\u5206\u6570\u636e\u54ea\u4e2a\u79df\u6237\uff0c\u8fd9\u91cc\u7528\\ ``GlobalUser``\\ \u66ff\u4ee3\u4e86\\ ``django.contrib.auth.models.User``\\ \u6a21\u5757\uff0c\u56e0\u6b64\\ ``django.contrib.auth.get_user_model``\n   \u83b7\u53d6\u7684\u662f\\ ``GlobalUser``\\ \u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\\ ``request.user``\\ \u4e5f\u662f\\ ``GlobalUser``\\ \u5bf9\u8c61\uff0c\u7528\u6237\u53ef\u4ee5\u88ab\u52a0\u5165\u79df\u6237\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u4e0d\u52a0\u5165\u79df\u6237\uff0c\u52a0\u5165\u79df\u6237\u7684\u7528\u6237\u53ea\u80fd\u8bbf\u95ee\u76f8\u5e94\u79df\u6237\u6570\u636e\uff0c\u4e0d\u52a0\u5165\u79df\u6237\u7684\u7528\u6237\u5982\u679c\u662f\u8d85\u7ea7\u7ba1\u7406\u5458\u53ef\u4ee5\u8bbf\u95ee\\ ``\u5168\u5c40\u7528\u6237``\\ \u548c\\ ``\u79df\u6237\u4fe1\u606f``\n\n3. \u79df\u6237\u7528\u6237\u8868\u9ed8\u8ba4\u91c7\u7528\\ ``django.contrib.auth.models.User``,\u5f53\u7136\u4f60\u53ef\u4ee5\u9009\u62e9\u7ee7\u627f\\ ``django.contrib.auth.models.AbstractUser``\\ \u6765\u81ea\u5b9a\u4e49\u81ea\u5df1\u7684\u79df\u6237\u7528\u6237\u6a21\u5757\uff0c\u5e76\u5728settings\u4e2d\u6307\u5b9a\\ ``AUTH_TENANT_USER_MODEL``\\ \u5e38\u91cf\u6765\u6307\u5b9a\u79df\u6237\u7528\u6237\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u79df\u6237\u5c42\u9762\u5b8c\u6574\u7684\u4f7f\u7528\\ ``django.contrib.auth``\\ \u6240\u6709\u529f\u80fd\uff0c\u5305\u62ec\\ ``User``\\ \u3001\\ ``Group``\\ \u3001\\ ``Permission``\\ \u3001\\ ``Admin``\n\n4. \u53ef\u4ee5\u767b\u5f55Admin\n   \u540e\u53f0\u521b\u5efa\u79df\u6237\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\\ ``createtenant``\\ \u547d\u4ee4\u884c\u6765\u521b\u5efa\u79df\u6237\n\n``multi_tenant.proxy`` \u4ee3\u7406\u6a21\u5757\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n``ProxyContentType``\\ contentType\u4ee3\u7406\uff0c\u56e0\u4e3a\u5728\u591a\u79df\u6237\u6a21\u578b\u4e2d\uff0c\u4e3b\u6570\u636e\u5e93\u548c\u79df\u6237\u6570\u636e\u5e93\u6570\u636e\u6a21\u578b\u4e0d\u4e00\u6837\uff0c\u5728\u4e0d\u65ad\u7684\u8fed\u4ee3\u66f4\u65b0\u4e2d\uff0c\u65b0\u7684\u79df\u6237\u548c\u8001\u7684\u79df\u6237\u6a21\u578b\\ ``ContentType``\\ \u6570\u636e\u4fe1\u606f\u4e5f\u4e0d\u4e00\u6837\uff0cdjango\u9ed8\u8ba4\u81ea\u5e26\u7684\\ ``ContentType``\\ \u6a21\u578b\u9ed8\u8ba4\u81ea\u5e26\u7f13\u5b58\uff0c\\ ``ProxyContentType``\\ \u6a21\u578b\u65e0\u7f13\u5b58\uff0c\u6bcf\u6b21\u7684\u6570\u636e\u8bbf\u95ee\u90fd\u662f\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u8fd9\u6837\u907f\u514d\u4e86\\ ``ContentType``\\ \u4fe1\u606f\u4e0d\u4e00\u81f4\u5bfc\u81f4\u7684\u5f02\u5e38\n\n``multi_tenant.rest`` rest\\_framework\u9002\u914d\u6a21\u5757\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n1. \u5bf9\\ ``rest_framework``\\ \u8fdb\u884c\u4e86\u9002\u914d,\u4fdd\u8bc1\u79df\u6237\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u79df\u6237\u7684\u6570\u636e\n2. \u63d0\u4f9b\u4e86\u4e00\u4e2a\\ ``IsTanenatUser``\\ \u6743\u9650\u7c7b\uff0c\u5224\u65ad\u662f\u4e0d\u662f\u79df\u6237\u7528\u6237\n3. \u9002\u914d\u4e86\\ ``rest_framework``\\ \u7684\u5185\u7f6e\u6743\u9650\\ ``IsAdminUser``\\ \u3001\\ ``DjangoModelPermissions``\\ \u3001\\ ``DjangoModelPermissionsOrAnonReadOnly``\\ \u3001\\ ``DjangoObjectPermissions``\n\n``migrate`` \u6a21\u5757\n~~~~~~~~~~~~~~~~\n\n1. \u8fc1\u79fb\u79df\u6237\u6570\u636e\u5e93\uff0c\u8bf7\u7ed9\\ ``migrate`` \u6307\u5b9a\\ ``--database``\\ \u53c2\u6570\u503c,\n   ``--database``\n2. \u4e5f\u53ef\u4ee5\u4f7f\u7528\u2018multimigrate\u2019,\u5fc5\u987b\u6307\u5b9a\\ ``--database``\\ \u53c2\u6570\u503c\uff0c\u6216\u8005\u76f4\u63a5\u4f7f\u7528\\ ``--all``,\u6765\u8fc1\u79fb\u6240\u6709\u79df\u6237\u8868\u7ed3\u6784\n\n\u652f\u6301\u7684\u6570\u636e\u5e93\n------------\n\n\u9002\u914d\u4e86\u652f\u6301\\ ``django``\\ \u6240\u6709\u652f\u6301\u7684\u6570\u636e\u5e93\uff08\\ ``SQLite3``\\ \u3001\\ ``MySQL``\\ \u3001\\ ``Posgres``\\ \u3001\\ ``Oracle``\\ \uff09\n\n\u4f8b\u5b50\n----\n\n\u53ef\u4ee5\u53c2\u8003\\ ``examples``\\ \u7684\u4f7f\u7528",
            "description_content_type": "",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/AnsGoo/djangoMultiTenant",
            "keywords": "python",
            "license": "MIT Licence",
            "maintainer": "",
            "maintainer_email": "",
            "name": "django-multi-tenancy",
            "package_url": "https://pypi.org/project/django-multi-tenancy/",
            "platform": "any",
            "project_url": "https://pypi.org/project/django-multi-tenancy/",
            "project_urls": {
                "Homepage": "https://github.com/AnsGoo/djangoMultiTenant"
            },
            "release_url": "https://pypi.org/project/django-multi-tenancy/0.1.3/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Django multi tenant implementation",
            "version": "0.1.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 12091632,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "14b244d72e039667669ca7bc8674b5e2",
                    "sha256": "13fd150dde7f4abf3c2adb7da8fdbcaa0542dcf7c6583e05038f257b7ccc37c7"
                },
                "downloads": -1,
                "filename": "django-multi-tenancy-0.1.3.tar.gz",
                "has_sig": false,
                "md5_digest": "14b244d72e039667669ca7bc8674b5e2",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 24288,
                "upload_time": "2021-11-22T12:49:10",
                "upload_time_iso_8601": "2021-11-22T12:49:10.465137Z",
                "url": "https://files.pythonhosted.org/packages/b1/94/283d9fbc1b368870ea0e63a59364ba11dbb6f43d12e3e34e624b05398900/django-multi-tenancy-0.1.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}