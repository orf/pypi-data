{
    "0.0.4": {
        "info": {
            "author": "AXY",
            "author_email": "axy@declassed.art",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 1 - Planning",
                "Intended Audience :: Developers",
                "License :: OSI Approved :: BSD License",
                "Operating System :: Unix",
                "Programming Language :: Python :: 3",
                "Topic :: Database :: Database Engines/Servers"
            ],
            "description": "DAO DB\n======\n\nDeclassed Append-Only Database\n\nExample\n-------\n\nfrom daodb import JsonDaoDB\n\nwith JsonDaoDB('test', 'w') as db:\n    db.append({'foo': 'bar'})\n    db.append({'bar': 'foo'})\n    for i, record in enumerate(db):\n        print(i, record)\n\n\nCompression\n-----------\n\nGzip and LZMA are included in the base package. LZ4, Brotli, and Snappy\ndepend on lz4, brotli, and python-snappy packages respectively.\n\nAll DAO DB extensions are mixins. Here's how to define databases that store JSON with compression:\n\nfrom daodb import DaoDB, JsonMixin, GzipMixin, LzmaMixin\nfrom daodb.lz4 import Lz4Mixin\nfrom daodb.brotli import BrotliMixin\nfrom daodb.snappy import SnappyMixin\n\nclass GzipDaoDB(JsonMixin, GzipMixin, DaoDB):\n    pass\n\nclass Lz4DaoDB(JsonMixin, Lz4Mixin, DaoDB):\n    pass\n\nclass LzmaDaoDB(JsonMixin, LzmaMixin, DaoDB):\n    pass\n\nclass BrotliDaoDB(JsonMixin, BrotliMixin, DaoDB):\n    pass\n\nclass SnappyDaoDB(JsonMixin, SnappyMixin, DaoDB):\n    pass\n\n\nDatabase structure\n------------------\n\n* data file\n* index file\n\nIndex file contains positions of records except first one which is always zero, and the position for new record.\nThus, the number of items in the index file equals to the number of records.\n\nRecord id is implicit, it's the index of the record.\nThus, to get a record by id, read offsets from the index file and then read the record from data file.\n\nAlgorithm\n---------\n\nWrite:\n* lock index file exclusively\n* get position for the new record from the index file\n* append new record to the data file\n* write new size of data file to the index file\n* release file lock\n\nRead item by id:\n* Given that id is the index of record, seek to id * 16 in the index file.\n* Read the position of the record and the position of the next record from the index file, 16 bytes total.\n* Read the record from the data file, the size of record is calculated as a difference between positions.\n\nNo lock is necessary for read operation.\nThat's because append is atomic and the data written to the index file (16 bytes)\nwill never be split across pages to make this bug take into effect: https://bugzilla.kernel.org/show_bug.cgi?id=55651\n\n\n",
            "description_content_type": "text/plain",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://declassed.art/repository/daodb",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "daodb",
            "package_url": "https://pypi.org/project/daodb/",
            "platform": null,
            "project_url": "https://pypi.org/project/daodb/",
            "project_urls": {
                "Homepage": "https://declassed.art/repository/daodb"
            },
            "release_url": "https://pypi.org/project/daodb/0.0.4/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Declassed Append-Only Database",
            "version": "0.0.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16085741,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "74c4fb83298db6e88a9b4d3880395c7b",
                    "sha256": "9a6acbfa9e8a64f104aa4349bfaadd49ed7adbfd1c60a0f90d4af9295ddf3d64"
                },
                "downloads": -1,
                "filename": "daodb-0.0.4-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "74c4fb83298db6e88a9b4d3880395c7b",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 8459,
                "upload_time": "2022-12-13T06:13:23",
                "upload_time_iso_8601": "2022-12-13T06:13:23.348442Z",
                "url": "https://files.pythonhosted.org/packages/3a/66/3f46e44181f8c2f19f881b4d85c74887acea5e10a1ae9b9500a0a558422c/daodb-0.0.4-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "c53a1649777c3ba89ca61726293f5b36",
                    "sha256": "42ce9fa3a1c794729a39a9c479f6d6012443db9c3bad50857720bd4b10b2a509"
                },
                "downloads": -1,
                "filename": "daodb-0.0.4.tar.gz",
                "has_sig": false,
                "md5_digest": "c53a1649777c3ba89ca61726293f5b36",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 7265,
                "upload_time": "2022-12-13T06:13:25",
                "upload_time_iso_8601": "2022-12-13T06:13:25.759346Z",
                "url": "https://files.pythonhosted.org/packages/76/04/ffa17dda38eef0f2bf786708e308095b9b63088daa9b0909175068773f82/daodb-0.0.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}